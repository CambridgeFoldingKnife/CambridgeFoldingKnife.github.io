import{_ as i,c,d as o,e as s,f as a,b as e,w as u,r as t,o as r}from"./app-D9dfRPMK.js";const k={},d={href:"https://developer.huawei.com/consumer/cn/hms/",target:"_blank",rel:"noopener noreferrer"},v={href:"https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/account-login-0000001774120958-V5",target:"_blank",rel:"noopener noreferrer"};function m(h,n){const p=t("ExternalLinkIcon"),l=t("RouteLink");return r(),c("div",null,[n[5]||(n[5]=o(`<h1 id="hmsæœåŠ¡é›†æˆ" tabindex="-1"><a class="header-anchor" href="#hmsæœåŠ¡é›†æˆ"><span>HMSæœåŠ¡é›†æˆ</span></a></h1><blockquote><p>é›†æˆHMS CoreæœåŠ¡</p></blockquote><h2 id="ğŸ”-è´¦å·æœåŠ¡" tabindex="-1"><a class="header-anchor" href="#ğŸ”-è´¦å·æœåŠ¡"><span>ğŸ” è´¦å·æœåŠ¡</span></a></h2><h3 id="åä¸ºè´¦å·ç™»å½•" tabindex="-1"><a class="header-anchor" href="#åä¸ºè´¦å·ç™»å½•"><span>åä¸ºè´¦å·ç™»å½•</span></a></h3><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts" data-title="ts"><pre><code><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> authentication <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@kit.AccountKit&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">signInWithHuawei</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">try</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">authentication</span><span class="token punctuation">.</span><span class="token function">HuaweiIDProvider</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">createAuthorizationWithHuaweiIDRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    request<span class="token punctuation">.</span>scopes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;email&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;profile&#39;</span><span class="token punctuation">]</span></span>
<span class="line">    </span>
<span class="line">    <span class="token keyword">const</span> controller <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">authentication</span><span class="token punctuation">.</span><span class="token function">AuthenticationController</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> controller<span class="token punctuation">.</span><span class="token function">executeRequest</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span></span>
<span class="line">    </span>
<span class="line">    <span class="token keyword">const</span> authCode <span class="token operator">=</span> response<span class="token punctuation">.</span>data<span class="token operator">?.</span>authorizationCode</span>
<span class="line">    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;æˆæƒç :&#39;</span><span class="token punctuation">,</span> authCode<span class="token punctuation">)</span></span>
<span class="line">    </span>
<span class="line">    <span class="token comment">// ä½¿ç”¨authCodeæ¢å–token</span></span>
<span class="line">  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&#39;ç™»å½•å¤±è´¥:&#39;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸ“¬-æ¨é€æœåŠ¡" tabindex="-1"><a class="header-anchor" href="#ğŸ“¬-æ¨é€æœåŠ¡"><span>ğŸ“¬ æ¨é€æœåŠ¡</span></a></h2><h3 id="push-kité›†æˆ" tabindex="-1"><a class="header-anchor" href="#push-kité›†æˆ"><span>Push Kité›†æˆ</span></a></h3><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts" data-title="ts"><pre><code><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> pushService <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@kit.PushKit&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// è·å–Push Token</span></span>
<span class="line"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getPushToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">try</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> token <span class="token operator">=</span> <span class="token keyword">await</span> pushService<span class="token punctuation">.</span><span class="token function">getToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Push Token:&#39;</span><span class="token punctuation">,</span> token<span class="token punctuation">)</span></span>
<span class="line">    </span>
<span class="line">    <span class="token comment">// ä¸Šä¼ tokenåˆ°æœåŠ¡å™¨</span></span>
<span class="line">    <span class="token keyword">await</span> <span class="token function">uploadTokenToServer</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&#39;è·å–Tokenå¤±è´¥:&#39;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// æ¥æ”¶æ¨é€æ¶ˆæ¯</span></span>
<span class="line">pushService<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;pushMessage&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>message<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;æ”¶åˆ°æ¨é€:&#39;</span><span class="token punctuation">,</span> message<span class="token punctuation">)</span></span>
<span class="line">  </span>
<span class="line">  <span class="token comment">// æ˜¾ç¤ºé€šçŸ¥</span></span>
<span class="line">  <span class="token function">showNotification</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸ“Š-åˆ†ææœåŠ¡" tabindex="-1"><a class="header-anchor" href="#ğŸ“Š-åˆ†ææœåŠ¡"><span>ğŸ“Š åˆ†ææœåŠ¡</span></a></h2><h3 id="analytics-kit" tabindex="-1"><a class="header-anchor" href="#analytics-kit"><span>Analytics Kit</span></a></h3><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts" data-title="ts"><pre><code><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> hiAnalytics <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@kit.AnalyticsKit&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">AnalyticsService</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">// åˆå§‹åŒ–</span></span>
<span class="line">  <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    hiAnalytics<span class="token punctuation">.</span><span class="token function">initialize</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  </span>
<span class="line">  <span class="token comment">// è®°å½•äº‹ä»¶</span></span>
<span class="line">  <span class="token function">logEvent</span><span class="token punctuation">(</span>eventName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> params<span class="token operator">:</span> object<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    hiAnalytics<span class="token punctuation">.</span><span class="token function">onEvent</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">      eventId<span class="token operator">:</span> eventName<span class="token punctuation">,</span></span>
<span class="line">      params<span class="token operator">:</span> params</span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  </span>
<span class="line">  <span class="token comment">// è®°å½•é¡µé¢è®¿é—®</span></span>
<span class="line">  <span class="token function">logPageView</span><span class="token punctuation">(</span>pageName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    hiAnalytics<span class="token punctuation">.</span><span class="token function">pageStart</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">      pageClassOverride<span class="token operator">:</span> pageName</span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// ä½¿ç”¨</span></span>
<span class="line"><span class="token keyword">const</span> analytics <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AnalyticsService</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">analytics<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">analytics<span class="token punctuation">.</span><span class="token function">logEvent</span><span class="token punctuation">(</span><span class="token string">&#39;button_click&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> button_name<span class="token operator">:</span> <span class="token string">&#39;login&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸ“š-å‚è€ƒèµ„æº" tabindex="-1"><a class="header-anchor" href="#ğŸ“š-å‚è€ƒèµ„æº"><span>ğŸ“š å‚è€ƒèµ„æº</span></a></h2>`,12)),s("ul",null,[s("li",null,[s("a",d,[n[0]||(n[0]=a("HMS CoreæœåŠ¡",-1)),e(p)])]),s("li",null,[s("a",v,[n[1]||(n[1]=a("è´¦å·æœåŠ¡",-1)),e(p)])])]),n[6]||(n[6]=s("hr",null,null,-1)),s("p",null,[n[3]||(n[3]=s("strong",null,"ä¸‹ä¸€èŠ‚",-1)),n[4]||(n[4]=a(" â†’ ",-1)),e(l,{to:"/tutorials/harmonyos-dev/17-harmony-ecology/03-%E7%94%9F%E6%80%81%E6%9C%BA%E4%BC%9A.html"},{default:u(()=>[...n[2]||(n[2]=[a("ç”Ÿæ€æœºä¼š",-1)])]),_:1})])])}const g=i(k,[["render",m]]),y=JSON.parse('{"path":"/tutorials/harmonyos-dev/17-harmony-ecology/02-HMSfuwujicheng.html","title":"HMSæœåŠ¡é›†æˆ","lang":"zh-CN","frontmatter":{"title":"HMSæœåŠ¡é›†æˆ","date":"2025-01-22T00:00:00.000Z"},"headers":[{"level":2,"title":"ğŸ” è´¦å·æœåŠ¡","slug":"ğŸ”-è´¦å·æœåŠ¡","link":"#ğŸ”-è´¦å·æœåŠ¡","children":[{"level":3,"title":"åä¸ºè´¦å·ç™»å½•","slug":"åä¸ºè´¦å·ç™»å½•","link":"#åä¸ºè´¦å·ç™»å½•","children":[]}]},{"level":2,"title":"ğŸ“¬ æ¨é€æœåŠ¡","slug":"ğŸ“¬-æ¨é€æœåŠ¡","link":"#ğŸ“¬-æ¨é€æœåŠ¡","children":[{"level":3,"title":"Push Kité›†æˆ","slug":"push-kité›†æˆ","link":"#push-kité›†æˆ","children":[]}]},{"level":2,"title":"ğŸ“Š åˆ†ææœåŠ¡","slug":"ğŸ“Š-åˆ†ææœåŠ¡","link":"#ğŸ“Š-åˆ†ææœåŠ¡","children":[{"level":3,"title":"Analytics Kit","slug":"analytics-kit","link":"#analytics-kit","children":[]}]},{"level":2,"title":"ğŸ“š å‚è€ƒèµ„æº","slug":"ğŸ“š-å‚è€ƒèµ„æº","link":"#ğŸ“š-å‚è€ƒèµ„æº","children":[]}],"git":{"createdTime":1765250065000,"updatedTime":1765250065000,"contributors":[{"name":"CambridgeFoldingKnife","email":"3144253125@qq.com","commits":1}]},"filePathRelative":"tutorials/harmonyos-dev/17-harmony-ecology/02-HMSæœåŠ¡é›†æˆ.md"}');export{g as comp,y as data};
