import{_ as e,c as o,d as c,e as l,f as s,b as p,w as t,r as i,o as u}from"./app-DyGs7pMe.js";const k={};function r(d,n){const a=i("RouteLink");return u(),o("div",null,[n[4]||(n[4]=c(`<h1 id="å®æˆ˜æ¡ˆä¾‹" tabindex="-1"><a class="header-anchor" href="#å®æˆ˜æ¡ˆä¾‹"><span>å®æˆ˜æ¡ˆä¾‹</span></a></h1><blockquote><p>é€šè¿‡å®æˆ˜é¡¹ç›®æŒæ¡Matplotlib</p></blockquote><h2 id="ğŸ“š-å­¦ä¹ ç›®æ ‡" tabindex="-1"><a class="header-anchor" href="#ğŸ“š-å­¦ä¹ ç›®æ ‡"><span>ğŸ“š å­¦ä¹ ç›®æ ‡</span></a></h2><ul><li>åº”ç”¨Matplotlibè§£å†³å®é™…é—®é¢˜</li><li>æŒæ¡å®Œæ•´å¯è§†åŒ–æµç¨‹</li><li>å­¦ä¼šç»¼åˆè¿ç”¨æ‰€å­¦çŸ¥è¯†</li></ul><h2 id="_1-é”€å”®æ•°æ®åˆ†æä»ªè¡¨ç›˜" tabindex="-1"><a class="header-anchor" href="#_1-é”€å”®æ•°æ®åˆ†æä»ªè¡¨ç›˜"><span>1. é”€å”®æ•°æ®åˆ†æä»ªè¡¨ç›˜</span></a></h2><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt</span>
<span class="line"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np</span>
<span class="line"><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd</span>
<span class="line"></span>
<span class="line"><span class="token comment"># ç”Ÿæˆæ¨¡æ‹Ÿæ•°æ®</span></span>
<span class="line">np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>seed<span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span></span>
<span class="line">dates <span class="token operator">=</span> pd<span class="token punctuation">.</span>date_range<span class="token punctuation">(</span><span class="token string">&#39;2024-01-01&#39;</span><span class="token punctuation">,</span> periods<span class="token operator">=</span><span class="token number">12</span><span class="token punctuation">,</span> freq<span class="token operator">=</span><span class="token string">&#39;M&#39;</span><span class="token punctuation">)</span></span>
<span class="line">sales <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span></span>
<span class="line">profit <span class="token operator">=</span> sales <span class="token operator">*</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>uniform<span class="token punctuation">(</span><span class="token number">0.15</span><span class="token punctuation">,</span> <span class="token number">0.25</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span></span>
<span class="line">customers <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># åˆ›å»ºä»ªè¡¨ç›˜</span></span>
<span class="line">fig <span class="token operator">=</span> plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">gs <span class="token operator">=</span> fig<span class="token punctuation">.</span>add_gridspec<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> hspace<span class="token operator">=</span><span class="token number">0.3</span><span class="token punctuation">,</span> wspace<span class="token operator">=</span><span class="token number">0.3</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 1. é”€å”®è¶‹åŠ¿</span></span>
<span class="line">ax1 <span class="token operator">=</span> fig<span class="token punctuation">.</span>add_subplot<span class="token punctuation">(</span>gs<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line">ax1<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>dates<span class="token punctuation">,</span> sales<span class="token punctuation">,</span> marker<span class="token operator">=</span><span class="token string">&#39;o&#39;</span><span class="token punctuation">,</span> linewidth<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> label<span class="token operator">=</span><span class="token string">&#39;Sales&#39;</span><span class="token punctuation">)</span></span>
<span class="line">ax1<span class="token punctuation">.</span>fill_between<span class="token punctuation">(</span>dates<span class="token punctuation">,</span> sales<span class="token punctuation">,</span> alpha<span class="token operator">=</span><span class="token number">0.3</span><span class="token punctuation">)</span></span>
<span class="line">ax1<span class="token punctuation">.</span>set_title<span class="token punctuation">(</span><span class="token string">&#39;Monthly Sales Trend&#39;</span><span class="token punctuation">,</span> fontsize<span class="token operator">=</span><span class="token number">14</span><span class="token punctuation">,</span> fontweight<span class="token operator">=</span><span class="token string">&#39;bold&#39;</span><span class="token punctuation">)</span></span>
<span class="line">ax1<span class="token punctuation">.</span>set_ylabel<span class="token punctuation">(</span><span class="token string">&#39;Sales (K)&#39;</span><span class="token punctuation">)</span></span>
<span class="line">ax1<span class="token punctuation">.</span>grid<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">,</span> alpha<span class="token operator">=</span><span class="token number">0.3</span><span class="token punctuation">)</span></span>
<span class="line">ax1<span class="token punctuation">.</span>legend<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 2. åˆ©æ¶¦åˆ†æ</span></span>
<span class="line">ax2 <span class="token operator">=</span> fig<span class="token punctuation">.</span>add_subplot<span class="token punctuation">(</span>gs<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line">ax2<span class="token punctuation">.</span>bar<span class="token punctuation">(</span>dates<span class="token punctuation">,</span> profit<span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">&#39;green&#39;</span><span class="token punctuation">,</span> alpha<span class="token operator">=</span><span class="token number">0.7</span><span class="token punctuation">)</span></span>
<span class="line">ax2<span class="token punctuation">.</span>set_title<span class="token punctuation">(</span><span class="token string">&#39;Monthly Profit&#39;</span><span class="token punctuation">,</span> fontsize<span class="token operator">=</span><span class="token number">14</span><span class="token punctuation">,</span> fontweight<span class="token operator">=</span><span class="token string">&#39;bold&#39;</span><span class="token punctuation">)</span></span>
<span class="line">ax2<span class="token punctuation">.</span>set_ylabel<span class="token punctuation">(</span><span class="token string">&#39;Profit (K)&#39;</span><span class="token punctuation">)</span></span>
<span class="line">ax2<span class="token punctuation">.</span>grid<span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token string">&#39;y&#39;</span><span class="token punctuation">,</span> alpha<span class="token operator">=</span><span class="token number">0.3</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 3. é”€å”®é¢åˆ†å¸ƒ</span></span>
<span class="line">ax3 <span class="token operator">=</span> fig<span class="token punctuation">.</span>add_subplot<span class="token punctuation">(</span>gs<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line">ax3<span class="token punctuation">.</span>pie<span class="token punctuation">(</span><span class="token punctuation">[</span>sales<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> profit<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span> </span>
<span class="line">        labels<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&#39;Revenue&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;Profit&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">        autopct<span class="token operator">=</span><span class="token string">&#39;%1.1f%%&#39;</span><span class="token punctuation">,</span></span>
<span class="line">        colors<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&#39;skyblue&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;lightgreen&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line">ax3<span class="token punctuation">.</span>set_title<span class="token punctuation">(</span><span class="token string">&#39;Revenue vs Profit&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 4. å®¢æˆ·å¢é•¿</span></span>
<span class="line">ax4 <span class="token operator">=</span> fig<span class="token punctuation">.</span>add_subplot<span class="token punctuation">(</span>gs<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line">ax4<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>dates<span class="token punctuation">,</span> customers<span class="token punctuation">,</span> marker<span class="token operator">=</span><span class="token string">&#39;s&#39;</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">&#39;orange&#39;</span><span class="token punctuation">,</span> linewidth<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span></span>
<span class="line">ax4<span class="token punctuation">.</span>set_title<span class="token punctuation">(</span><span class="token string">&#39;Customer Growth&#39;</span><span class="token punctuation">,</span> fontsize<span class="token operator">=</span><span class="token number">14</span><span class="token punctuation">,</span> fontweight<span class="token operator">=</span><span class="token string">&#39;bold&#39;</span><span class="token punctuation">)</span></span>
<span class="line">ax4<span class="token punctuation">.</span>set_ylabel<span class="token punctuation">(</span><span class="token string">&#39;Customers&#39;</span><span class="token punctuation">)</span></span>
<span class="line">ax4<span class="token punctuation">.</span>set_xlabel<span class="token punctuation">(</span><span class="token string">&#39;Month&#39;</span><span class="token punctuation">)</span></span>
<span class="line">ax4<span class="token punctuation">.</span>grid<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">,</span> alpha<span class="token operator">=</span><span class="token number">0.3</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">plt<span class="token punctuation">.</span>suptitle<span class="token punctuation">(</span><span class="token string">&#39;Sales Dashboard 2024&#39;</span><span class="token punctuation">,</span> fontsize<span class="token operator">=</span><span class="token number">18</span><span class="token punctuation">,</span> fontweight<span class="token operator">=</span><span class="token string">&#39;bold&#39;</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token number">0.98</span><span class="token punctuation">)</span></span>
<span class="line">plt<span class="token punctuation">.</span>savefig<span class="token punctuation">(</span><span class="token string">&#39;sales_dashboard.png&#39;</span><span class="token punctuation">,</span> dpi<span class="token operator">=</span><span class="token number">300</span><span class="token punctuation">,</span> bbox_inches<span class="token operator">=</span><span class="token string">&#39;tight&#39;</span><span class="token punctuation">)</span></span>
<span class="line">plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-ç§‘å­¦æ•°æ®å¯è§†åŒ–" tabindex="-1"><a class="header-anchor" href="#_2-ç§‘å­¦æ•°æ®å¯è§†åŒ–"><span>2. ç§‘å­¦æ•°æ®å¯è§†åŒ–</span></a></h2><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token comment"># åŒå˜é‡åˆ†å¸ƒåˆ†æ</span></span>
<span class="line">x <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span></span>
<span class="line">y <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">*</span> x <span class="token operator">+</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">fig<span class="token punctuation">,</span> axes <span class="token operator">=</span> plt<span class="token punctuation">.</span>subplots<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># æ•£ç‚¹å›¾</span></span>
<span class="line">axes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>scatter<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> alpha<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">)</span></span>
<span class="line">axes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>set_title<span class="token punctuation">(</span><span class="token string">&#39;Scatter Plot&#39;</span><span class="token punctuation">)</span></span>
<span class="line">axes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>set_xlabel<span class="token punctuation">(</span><span class="token string">&#39;X&#39;</span><span class="token punctuation">)</span></span>
<span class="line">axes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>set_ylabel<span class="token punctuation">(</span><span class="token string">&#39;Y&#39;</span><span class="token punctuation">)</span></span>
<span class="line">axes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>grid<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">,</span> alpha<span class="token operator">=</span><span class="token number">0.3</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># Xåˆ†å¸ƒ</span></span>
<span class="line">axes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>hist<span class="token punctuation">(</span>x<span class="token punctuation">,</span> bins<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">&#39;blue&#39;</span><span class="token punctuation">,</span> alpha<span class="token operator">=</span><span class="token number">0.7</span><span class="token punctuation">,</span> edgecolor<span class="token operator">=</span><span class="token string">&#39;black&#39;</span><span class="token punctuation">)</span></span>
<span class="line">axes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>set_title<span class="token punctuation">(</span><span class="token string">&#39;X Distribution&#39;</span><span class="token punctuation">)</span></span>
<span class="line">axes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>set_xlabel<span class="token punctuation">(</span><span class="token string">&#39;X&#39;</span><span class="token punctuation">)</span></span>
<span class="line">axes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>set_ylabel<span class="token punctuation">(</span><span class="token string">&#39;Frequency&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># Yåˆ†å¸ƒ</span></span>
<span class="line">axes<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>hist<span class="token punctuation">(</span>y<span class="token punctuation">,</span> bins<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">&#39;red&#39;</span><span class="token punctuation">,</span> alpha<span class="token operator">=</span><span class="token number">0.7</span><span class="token punctuation">,</span> </span>
<span class="line">                edgecolor<span class="token operator">=</span><span class="token string">&#39;black&#39;</span><span class="token punctuation">,</span> orientation<span class="token operator">=</span><span class="token string">&#39;horizontal&#39;</span><span class="token punctuation">)</span></span>
<span class="line">axes<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>set_title<span class="token punctuation">(</span><span class="token string">&#39;Y Distribution&#39;</span><span class="token punctuation">)</span></span>
<span class="line">axes<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>set_ylabel<span class="token punctuation">(</span><span class="token string">&#39;Y&#39;</span><span class="token punctuation">)</span></span>
<span class="line">axes<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>set_xlabel<span class="token punctuation">(</span><span class="token string">&#39;Frequency&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 2Då¯†åº¦å›¾</span></span>
<span class="line"><span class="token keyword">from</span> scipy<span class="token punctuation">.</span>stats <span class="token keyword">import</span> gaussian_kde</span>
<span class="line">xy <span class="token operator">=</span> np<span class="token punctuation">.</span>vstack<span class="token punctuation">(</span><span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line">z <span class="token operator">=</span> gaussian_kde<span class="token punctuation">(</span>xy<span class="token punctuation">)</span><span class="token punctuation">(</span>xy<span class="token punctuation">)</span></span>
<span class="line">axes<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>scatter<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> c<span class="token operator">=</span>z<span class="token punctuation">,</span> s<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">,</span> cmap<span class="token operator">=</span><span class="token string">&#39;viridis&#39;</span><span class="token punctuation">)</span></span>
<span class="line">axes<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>set_title<span class="token punctuation">(</span><span class="token string">&#39;2D Density Plot&#39;</span><span class="token punctuation">)</span></span>
<span class="line">axes<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>set_xlabel<span class="token punctuation">(</span><span class="token string">&#39;X&#39;</span><span class="token punctuation">)</span></span>
<span class="line">axes<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>set_ylabel<span class="token punctuation">(</span><span class="token string">&#39;Y&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">plt<span class="token punctuation">.</span>tight_layout<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-é‡‘èkçº¿å›¾" tabindex="-1"><a class="header-anchor" href="#_3-é‡‘èkçº¿å›¾"><span>3. é‡‘èKçº¿å›¾</span></a></h2><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token comment"># æ¨¡æ‹Ÿè‚¡ç¥¨æ•°æ®</span></span>
<span class="line">dates <span class="token operator">=</span> pd<span class="token punctuation">.</span>date_range<span class="token punctuation">(</span><span class="token string">&#39;2024-01-01&#39;</span><span class="token punctuation">,</span> periods<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">)</span></span>
<span class="line">open_price <span class="token operator">=</span> <span class="token number">100</span> <span class="token operator">+</span> np<span class="token punctuation">.</span>cumsum<span class="token punctuation">(</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span></span>
<span class="line">close_price <span class="token operator">=</span> open_price <span class="token operator">+</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">3</span></span>
<span class="line">high_price <span class="token operator">=</span> np<span class="token punctuation">.</span>maximum<span class="token punctuation">(</span>open_price<span class="token punctuation">,</span> close_price<span class="token punctuation">)</span> <span class="token operator">+</span> np<span class="token punctuation">.</span><span class="token builtin">abs</span><span class="token punctuation">(</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">low_price <span class="token operator">=</span> np<span class="token punctuation">.</span>minimum<span class="token punctuation">(</span>open_price<span class="token punctuation">,</span> close_price<span class="token punctuation">)</span> <span class="token operator">-</span> np<span class="token punctuation">.</span><span class="token builtin">abs</span><span class="token punctuation">(</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">volume <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">fig<span class="token punctuation">,</span> <span class="token punctuation">(</span>ax1<span class="token punctuation">,</span> ax2<span class="token punctuation">)</span> <span class="token operator">=</span> plt<span class="token punctuation">.</span>subplots<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span> </span>
<span class="line">                                gridspec_kw<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&#39;height_ratios&#39;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># Kçº¿å›¾</span></span>
<span class="line">colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;red&#39;</span> <span class="token keyword">if</span> c <span class="token operator">&lt;</span> o <span class="token keyword">else</span> <span class="token string">&#39;green&#39;</span> <span class="token keyword">for</span> c<span class="token punctuation">,</span> o <span class="token keyword">in</span> <span class="token builtin">zip</span><span class="token punctuation">(</span>close_price<span class="token punctuation">,</span> open_price<span class="token punctuation">)</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>dates<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token comment"># å½±çº¿</span></span>
<span class="line">    ax1<span class="token punctuation">.</span>plot<span class="token punctuation">(</span><span class="token punctuation">[</span>i<span class="token punctuation">,</span> i<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>low_price<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> high_price<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">&#39;black&#39;</span><span class="token punctuation">,</span> linewidth<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token comment"># Kçº¿å®ä½“</span></span>
<span class="line">    height <span class="token operator">=</span> <span class="token builtin">abs</span><span class="token punctuation">(</span>close_price<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> open_price<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line">    bottom <span class="token operator">=</span> <span class="token builtin">min</span><span class="token punctuation">(</span>open_price<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> close_price<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line">    ax1<span class="token punctuation">.</span>bar<span class="token punctuation">(</span>i<span class="token punctuation">,</span> height<span class="token punctuation">,</span> bottom<span class="token operator">=</span>bottom<span class="token punctuation">,</span> color<span class="token operator">=</span>colors<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token number">0.6</span><span class="token punctuation">,</span> alpha<span class="token operator">=</span><span class="token number">0.8</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># ç§»åŠ¨å¹³å‡çº¿</span></span>
<span class="line">ma5 <span class="token operator">=</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span>close_price<span class="token punctuation">)</span><span class="token punctuation">.</span>rolling<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">ma20 <span class="token operator">=</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span>close_price<span class="token punctuation">)</span><span class="token punctuation">.</span>rolling<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">ax1<span class="token punctuation">.</span>plot<span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>dates<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ma5<span class="token punctuation">,</span> label<span class="token operator">=</span><span class="token string">&#39;MA5&#39;</span><span class="token punctuation">,</span> linewidth<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span></span>
<span class="line">ax1<span class="token punctuation">.</span>plot<span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>dates<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ma20<span class="token punctuation">,</span> label<span class="token operator">=</span><span class="token string">&#39;MA20&#39;</span><span class="token punctuation">,</span> linewidth<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">ax1<span class="token punctuation">.</span>set_title<span class="token punctuation">(</span><span class="token string">&#39;Stock Price&#39;</span><span class="token punctuation">,</span> fontsize<span class="token operator">=</span><span class="token number">14</span><span class="token punctuation">,</span> fontweight<span class="token operator">=</span><span class="token string">&#39;bold&#39;</span><span class="token punctuation">)</span></span>
<span class="line">ax1<span class="token punctuation">.</span>set_ylabel<span class="token punctuation">(</span><span class="token string">&#39;Price&#39;</span><span class="token punctuation">)</span></span>
<span class="line">ax1<span class="token punctuation">.</span>legend<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">ax1<span class="token punctuation">.</span>grid<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">,</span> alpha<span class="token operator">=</span><span class="token number">0.3</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># æˆäº¤é‡</span></span>
<span class="line">ax2<span class="token punctuation">.</span>bar<span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>dates<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> volume<span class="token punctuation">,</span> color<span class="token operator">=</span>colors<span class="token punctuation">,</span> alpha<span class="token operator">=</span><span class="token number">0.7</span><span class="token punctuation">)</span></span>
<span class="line">ax2<span class="token punctuation">.</span>set_title<span class="token punctuation">(</span><span class="token string">&#39;Volume&#39;</span><span class="token punctuation">,</span> fontsize<span class="token operator">=</span><span class="token number">12</span><span class="token punctuation">)</span></span>
<span class="line">ax2<span class="token punctuation">.</span>set_ylabel<span class="token punctuation">(</span><span class="token string">&#39;Volume&#39;</span><span class="token punctuation">)</span></span>
<span class="line">ax2<span class="token punctuation">.</span>set_xlabel<span class="token punctuation">(</span><span class="token string">&#39;Days&#39;</span><span class="token punctuation">)</span></span>
<span class="line">ax2<span class="token punctuation">.</span>grid<span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token string">&#39;y&#39;</span><span class="token punctuation">,</span> alpha<span class="token operator">=</span><span class="token number">0.3</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">plt<span class="token punctuation">.</span>tight_layout<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-å¤šç»´æ•°æ®å¯è§†åŒ–" tabindex="-1"><a class="header-anchor" href="#_4-å¤šç»´æ•°æ®å¯è§†åŒ–"><span>4. å¤šç»´æ•°æ®å¯è§†åŒ–</span></a></h2><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token comment"># ç»¼åˆåˆ†æå›¾è¡¨</span></span>
<span class="line">np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>seed<span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span></span>
<span class="line">n <span class="token operator">=</span> <span class="token number">200</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># ç”Ÿæˆæ•°æ®</span></span>
<span class="line">categories <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>choice<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;A&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;B&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;C&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;D&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span></span>
<span class="line">x <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span>n<span class="token punctuation">)</span></span>
<span class="line">y <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span>n<span class="token punctuation">)</span></span>
<span class="line">sizes <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>rand<span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">1000</span></span>
<span class="line"></span>
<span class="line">fig <span class="token operator">=</span> plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 1. æ•£ç‚¹å›¾çŸ©é˜µ</span></span>
<span class="line"><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        ax <span class="token operator">=</span> plt<span class="token punctuation">.</span>subplot<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> i<span class="token operator">*</span><span class="token number">3</span><span class="token operator">+</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">if</span> i <span class="token operator">==</span> j<span class="token punctuation">:</span></span>
<span class="line">            <span class="token comment"># å¯¹è§’çº¿ç”»ç›´æ–¹å›¾</span></span>
<span class="line">            data <span class="token operator">=</span> x <span class="token keyword">if</span> i <span class="token operator">==</span> <span class="token number">0</span> <span class="token keyword">else</span> <span class="token punctuation">(</span>y <span class="token keyword">if</span> i <span class="token operator">==</span> <span class="token number">1</span> <span class="token keyword">else</span> sizes<span class="token punctuation">)</span></span>
<span class="line">            ax<span class="token punctuation">.</span>hist<span class="token punctuation">(</span>data<span class="token punctuation">,</span> bins<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">&#39;skyblue&#39;</span><span class="token punctuation">,</span> edgecolor<span class="token operator">=</span><span class="token string">&#39;black&#39;</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">else</span><span class="token punctuation">:</span></span>
<span class="line">            <span class="token comment"># éå¯¹è§’çº¿ç”»æ•£ç‚¹å›¾</span></span>
<span class="line">            x_data <span class="token operator">=</span> x <span class="token keyword">if</span> j <span class="token operator">==</span> <span class="token number">0</span> <span class="token keyword">else</span> <span class="token punctuation">(</span>y <span class="token keyword">if</span> j <span class="token operator">==</span> <span class="token number">1</span> <span class="token keyword">else</span> sizes<span class="token punctuation">)</span></span>
<span class="line">            y_data <span class="token operator">=</span> x <span class="token keyword">if</span> i <span class="token operator">==</span> <span class="token number">0</span> <span class="token keyword">else</span> <span class="token punctuation">(</span>y <span class="token keyword">if</span> i <span class="token operator">==</span> <span class="token number">1</span> <span class="token keyword">else</span> sizes<span class="token punctuation">)</span></span>
<span class="line">            ax<span class="token punctuation">.</span>scatter<span class="token punctuation">(</span>x_data<span class="token punctuation">,</span> y_data<span class="token punctuation">,</span> alpha<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">)</span></span>
<span class="line">        </span>
<span class="line">        <span class="token keyword">if</span> i <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">:</span></span>
<span class="line">            ax<span class="token punctuation">.</span>set_xlabel<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;X&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;Y&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;Size&#39;</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">if</span> j <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span></span>
<span class="line">            ax<span class="token punctuation">.</span>set_ylabel<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;X&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;Y&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;Size&#39;</span><span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">plt<span class="token punctuation">.</span>suptitle<span class="token punctuation">(</span><span class="token string">&#39;Scatter Matrix&#39;</span><span class="token punctuation">,</span> fontsize<span class="token operator">=</span><span class="token number">16</span><span class="token punctuation">,</span> fontweight<span class="token operator">=</span><span class="token string">&#39;bold&#39;</span><span class="token punctuation">)</span></span>
<span class="line">plt<span class="token punctuation">.</span>tight_layout<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5-æ—¶é—´åºåˆ—é¢„æµ‹å¯è§†åŒ–" tabindex="-1"><a class="header-anchor" href="#_5-æ—¶é—´åºåˆ—é¢„æµ‹å¯è§†åŒ–"><span>5. æ—¶é—´åºåˆ—é¢„æµ‹å¯è§†åŒ–</span></a></h2><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token comment"># ç”Ÿæˆæ—¶é—´åºåˆ—æ•°æ®</span></span>
<span class="line">dates <span class="token operator">=</span> pd<span class="token punctuation">.</span>date_range<span class="token punctuation">(</span><span class="token string">&#39;2023-01-01&#39;</span><span class="token punctuation">,</span> periods<span class="token operator">=</span><span class="token number">365</span><span class="token punctuation">)</span></span>
<span class="line">trend <span class="token operator">=</span> np<span class="token punctuation">.</span>linspace<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">365</span><span class="token punctuation">)</span></span>
<span class="line">seasonal <span class="token operator">=</span> <span class="token number">10</span> <span class="token operator">*</span> np<span class="token punctuation">.</span>sin<span class="token punctuation">(</span>np<span class="token punctuation">.</span>linspace<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token operator">*</span>np<span class="token punctuation">.</span>pi<span class="token punctuation">,</span> <span class="token number">365</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">noise <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">365</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">5</span></span>
<span class="line">data <span class="token operator">=</span> trend <span class="token operator">+</span> seasonal <span class="token operator">+</span> noise</span>
<span class="line"></span>
<span class="line"><span class="token comment"># åˆ†å‰²è®­ç»ƒå’Œæµ‹è¯•é›†</span></span>
<span class="line">train_size <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">0.8</span><span class="token punctuation">)</span></span>
<span class="line">train_dates <span class="token operator">=</span> dates<span class="token punctuation">[</span><span class="token punctuation">:</span>train_size<span class="token punctuation">]</span></span>
<span class="line">test_dates <span class="token operator">=</span> dates<span class="token punctuation">[</span>train_size<span class="token punctuation">:</span><span class="token punctuation">]</span></span>
<span class="line">train_data <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token punctuation">:</span>train_size<span class="token punctuation">]</span></span>
<span class="line">test_data <span class="token operator">=</span> data<span class="token punctuation">[</span>train_size<span class="token punctuation">:</span><span class="token punctuation">]</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># ç®€å•é¢„æµ‹ï¼ˆç§»åŠ¨å¹³å‡ï¼‰</span></span>
<span class="line">prediction <span class="token operator">=</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span>train_data<span class="token punctuation">)</span><span class="token punctuation">.</span>rolling<span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span></span>
<span class="line">predicted_data <span class="token operator">=</span> np<span class="token punctuation">.</span>full<span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>test_data<span class="token punctuation">)</span><span class="token punctuation">,</span> prediction<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># å¯è§†åŒ–</span></span>
<span class="line">fig<span class="token punctuation">,</span> axes <span class="token operator">=</span> plt<span class="token punctuation">.</span>subplots<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># å®Œæ•´æ•°æ®</span></span>
<span class="line">axes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>plot<span class="token punctuation">(</span>dates<span class="token punctuation">,</span> data<span class="token punctuation">,</span> label<span class="token operator">=</span><span class="token string">&#39;Actual&#39;</span><span class="token punctuation">,</span> linewidth<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span></span>
<span class="line">axes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>axvline<span class="token punctuation">(</span>dates<span class="token punctuation">[</span>train_size<span class="token punctuation">]</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">&#39;red&#39;</span><span class="token punctuation">,</span> linestyle<span class="token operator">=</span><span class="token string">&#39;--&#39;</span><span class="token punctuation">,</span> </span>
<span class="line">                linewidth<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> label<span class="token operator">=</span><span class="token string">&#39;Train/Test Split&#39;</span><span class="token punctuation">)</span></span>
<span class="line">axes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>set_title<span class="token punctuation">(</span><span class="token string">&#39;Time Series Data&#39;</span><span class="token punctuation">,</span> fontsize<span class="token operator">=</span><span class="token number">14</span><span class="token punctuation">,</span> fontweight<span class="token operator">=</span><span class="token string">&#39;bold&#39;</span><span class="token punctuation">)</span></span>
<span class="line">axes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>set_ylabel<span class="token punctuation">(</span><span class="token string">&#39;Value&#39;</span><span class="token punctuation">)</span></span>
<span class="line">axes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>legend<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">axes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>grid<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">,</span> alpha<span class="token operator">=</span><span class="token number">0.3</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># é¢„æµ‹å¯¹æ¯”</span></span>
<span class="line">axes<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>plot<span class="token punctuation">(</span>train_dates<span class="token punctuation">,</span> train_data<span class="token punctuation">,</span> label<span class="token operator">=</span><span class="token string">&#39;Training Data&#39;</span><span class="token punctuation">,</span> linewidth<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span></span>
<span class="line">axes<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>plot<span class="token punctuation">(</span>test_dates<span class="token punctuation">,</span> test_data<span class="token punctuation">,</span> label<span class="token operator">=</span><span class="token string">&#39;Actual Test Data&#39;</span><span class="token punctuation">,</span> linewidth<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span></span>
<span class="line">axes<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>plot<span class="token punctuation">(</span>test_dates<span class="token punctuation">,</span> predicted_data<span class="token punctuation">,</span> <span class="token string">&#39;r--&#39;</span><span class="token punctuation">,</span> label<span class="token operator">=</span><span class="token string">&#39;Prediction&#39;</span><span class="token punctuation">,</span> linewidth<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span></span>
<span class="line">axes<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>fill_between<span class="token punctuation">(</span>test_dates<span class="token punctuation">,</span> </span>
<span class="line">                     predicted_data <span class="token operator">-</span> <span class="token number">10</span><span class="token punctuation">,</span> </span>
<span class="line">                     predicted_data <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">,</span> </span>
<span class="line">                     alpha<span class="token operator">=</span><span class="token number">0.3</span><span class="token punctuation">,</span> label<span class="token operator">=</span><span class="token string">&#39;Confidence Interval&#39;</span><span class="token punctuation">)</span></span>
<span class="line">axes<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>set_title<span class="token punctuation">(</span><span class="token string">&#39;Prediction vs Actual&#39;</span><span class="token punctuation">,</span> fontsize<span class="token operator">=</span><span class="token number">14</span><span class="token punctuation">,</span> fontweight<span class="token operator">=</span><span class="token string">&#39;bold&#39;</span><span class="token punctuation">)</span></span>
<span class="line">axes<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>set_xlabel<span class="token punctuation">(</span><span class="token string">&#39;Date&#39;</span><span class="token punctuation">)</span></span>
<span class="line">axes<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>set_ylabel<span class="token punctuation">(</span><span class="token string">&#39;Value&#39;</span><span class="token punctuation">)</span></span>
<span class="line">axes<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>legend<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">axes<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>grid<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">,</span> alpha<span class="token operator">=</span><span class="token number">0.3</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">plt<span class="token punctuation">.</span>tight_layout<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸ’¡-æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#ğŸ’¡-æ€»ç»“"><span>ğŸ’¡ æ€»ç»“</span></a></h2><p>é€šè¿‡è¿™äº›å®æˆ˜æ¡ˆä¾‹ï¼Œä½ åº”è¯¥æŒæ¡äº†ï¼š</p><ol><li><strong>ç»¼åˆå¸ƒå±€</strong> - ä½¿ç”¨GridSpecåˆ›å»ºå¤æ‚å¸ƒå±€</li><li><strong>å¤šå›¾è¡¨ç»„åˆ</strong> - å°†ä¸åŒç±»å‹å›¾è¡¨ç»„åˆå±•ç¤º</li><li><strong>æ ·å¼ç¾åŒ–</strong> - ä½¿ç”¨é¢œè‰²ã€å­—ä½“ã€ç½‘æ ¼ç­‰ç¾åŒ–å›¾è¡¨</li><li><strong>æ•°æ®storytelling</strong> - é€šè¿‡å¯è§†åŒ–è®²è¿°æ•°æ®æ•…äº‹</li><li><strong>ä¸“ä¸šå›¾è¡¨</strong> - åˆ›å»ºæ¥è¿‘å•†ä¸šçº§åˆ«çš„å¯è§†åŒ–</li></ol><h2 id="ç»ƒä¹ é¡¹ç›®" tabindex="-1"><a class="header-anchor" href="#ç»ƒä¹ é¡¹ç›®"><span>ç»ƒä¹ é¡¹ç›®</span></a></h2><ol><li>åˆ›å»ºä¸€ä¸ªä¸ªäººè´¢åŠ¡åˆ†æä»ªè¡¨ç›˜</li><li>åˆ¶ä½œä¸€ä¸ªCOVID-19æ•°æ®è¿½è¸ªå›¾è¡¨</li><li>è®¾è®¡ä¸€ä¸ªæœºå™¨å­¦ä¹ æ¨¡å‹æ€§èƒ½å¯¹æ¯”å›¾</li><li>å¼€å‘ä¸€ä¸ªå®æ—¶æ•°æ®ç›‘æ§é¢æ¿</li></ol><hr><p><strong>æ­å–œå®Œæˆ Matplotlib æ•™ç¨‹ï¼</strong> ğŸ‰</p>`,21)),l("p",null,[n[2]||(n[2]=s("ç»§ç»­å­¦ä¹ ï¼š",-1)),p(a,{to:"/tutorials/python-ai/seaborn/"},{default:t(()=>[...n[0]||(n[0]=[s("Seaborn ç»Ÿè®¡å¯è§†åŒ–",-1)])]),_:1}),n[3]||(n[3]=s(" æˆ– ",-1)),p(a,{to:"/tutorials/python-ai/plotly/"},{default:t(()=>[...n[1]||(n[1]=[s("Plotly äº¤äº’å¼å¯è§†åŒ–",-1)])]),_:1})])])}const b=e(k,[["render",r]]),v=JSON.parse('{"path":"/tutorials/python-ai/matplotlib/12-shizhananli.html","title":"å®æˆ˜æ¡ˆä¾‹","lang":"zh-CN","frontmatter":{"title":"å®æˆ˜æ¡ˆä¾‹"},"headers":[{"level":2,"title":"ğŸ“š å­¦ä¹ ç›®æ ‡","slug":"ğŸ“š-å­¦ä¹ ç›®æ ‡","link":"#ğŸ“š-å­¦ä¹ ç›®æ ‡","children":[]},{"level":2,"title":"1. é”€å”®æ•°æ®åˆ†æä»ªè¡¨ç›˜","slug":"_1-é”€å”®æ•°æ®åˆ†æä»ªè¡¨ç›˜","link":"#_1-é”€å”®æ•°æ®åˆ†æä»ªè¡¨ç›˜","children":[]},{"level":2,"title":"2. ç§‘å­¦æ•°æ®å¯è§†åŒ–","slug":"_2-ç§‘å­¦æ•°æ®å¯è§†åŒ–","link":"#_2-ç§‘å­¦æ•°æ®å¯è§†åŒ–","children":[]},{"level":2,"title":"3. é‡‘èKçº¿å›¾","slug":"_3-é‡‘èkçº¿å›¾","link":"#_3-é‡‘èkçº¿å›¾","children":[]},{"level":2,"title":"4. å¤šç»´æ•°æ®å¯è§†åŒ–","slug":"_4-å¤šç»´æ•°æ®å¯è§†åŒ–","link":"#_4-å¤šç»´æ•°æ®å¯è§†åŒ–","children":[]},{"level":2,"title":"5. æ—¶é—´åºåˆ—é¢„æµ‹å¯è§†åŒ–","slug":"_5-æ—¶é—´åºåˆ—é¢„æµ‹å¯è§†åŒ–","link":"#_5-æ—¶é—´åºåˆ—é¢„æµ‹å¯è§†åŒ–","children":[]},{"level":2,"title":"ğŸ’¡ æ€»ç»“","slug":"ğŸ’¡-æ€»ç»“","link":"#ğŸ’¡-æ€»ç»“","children":[]},{"level":2,"title":"ç»ƒä¹ é¡¹ç›®","slug":"ç»ƒä¹ é¡¹ç›®","link":"#ç»ƒä¹ é¡¹ç›®","children":[]}],"git":{"createdTime":1765249786000,"updatedTime":1765249786000,"contributors":[{"name":"CambridgeFoldingKnife","email":"3144253125@qq.com","commits":1}]},"filePathRelative":"tutorials/python-ai/matplotlib/12-å®æˆ˜æ¡ˆä¾‹.md"}');export{b as comp,v as data};
