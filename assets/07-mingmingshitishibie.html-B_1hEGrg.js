import{_ as t,c as e,d as l,e as s,f as a,b as i,w as c,r as o,o as u}from"./app-DyGs7pMe.js";const r={};function d(k,n){const p=o("RouteLink");return u(),e("div",null,[n[3]||(n[3]=l(`<h1 id="å‘½åå®ä½“è¯†åˆ«" tabindex="-1"><a class="header-anchor" href="#å‘½åå®ä½“è¯†åˆ«"><span>å‘½åå®ä½“è¯†åˆ«</span></a></h1><blockquote><p>æŒæ¡å‘½åå®ä½“è¯†åˆ«æŠ€æœ¯</p></blockquote><h2 id="ğŸ“š-å­¦ä¹ ç›®æ ‡" tabindex="-1"><a class="header-anchor" href="#ğŸ“š-å­¦ä¹ ç›®æ ‡"><span>ğŸ“š å­¦ä¹ ç›®æ ‡</span></a></h2><ul><li>ç†è§£NERä»»åŠ¡</li><li>æŒæ¡è§„åˆ™æ–¹æ³•</li><li>å­¦ä¼šä½¿ç”¨é¢„è®­ç»ƒæ¨¡å‹</li><li>äº†è§£å®ä½“æŠ½å–åº”ç”¨</li></ul><h2 id="_1-ä½¿ç”¨-spacy" tabindex="-1"><a class="header-anchor" href="#_1-ä½¿ç”¨-spacy"><span>1. ä½¿ç”¨ spaCy</span></a></h2><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token keyword">import</span> spacy</span>
<span class="line"></span>
<span class="line"><span class="token comment"># åŠ è½½ä¸­æ–‡æ¨¡å‹</span></span>
<span class="line">nlp <span class="token operator">=</span> spacy<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">&quot;zh_core_web_sm&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">text <span class="token operator">=</span> <span class="token string">&quot;è‹¹æœå…¬å¸çš„CEOåº“å…‹è®¿é—®äº†ä¸­å›½åŒ—äº¬&quot;</span></span>
<span class="line">doc <span class="token operator">=</span> nlp<span class="token punctuation">(</span>text<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># æå–å®ä½“</span></span>
<span class="line"><span class="token keyword">for</span> ent <span class="token keyword">in</span> doc<span class="token punctuation">.</span>ents<span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;</span><span class="token interpolation"><span class="token punctuation">{</span>ent<span class="token punctuation">.</span>text<span class="token punctuation">}</span></span><span class="token string">\\t</span><span class="token interpolation"><span class="token punctuation">{</span>ent<span class="token punctuation">.</span>label_<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># è¾“å‡º:</span></span>
<span class="line"><span class="token comment"># è‹¹æœå…¬å¸    ORG</span></span>
<span class="line"><span class="token comment"># åº“å…‹        PERSON</span></span>
<span class="line"><span class="token comment"># ä¸­å›½        GPE</span></span>
<span class="line"><span class="token comment"># åŒ—äº¬        GPE</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-ä½¿ç”¨-hanlp" tabindex="-1"><a class="header-anchor" href="#_2-ä½¿ç”¨-hanlp"><span>2. ä½¿ç”¨ HanLP</span></a></h2><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token keyword">import</span> hanlp</span>
<span class="line"></span>
<span class="line"><span class="token comment"># åŠ è½½æ¨¡å‹</span></span>
<span class="line">ner <span class="token operator">=</span> hanlp<span class="token punctuation">.</span>load<span class="token punctuation">(</span>hanlp<span class="token punctuation">.</span>pretrained<span class="token punctuation">.</span>ner<span class="token punctuation">.</span>MSRA_NER_BERT_BASE_ZH<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">text <span class="token operator">=</span> <span class="token string">&quot;2020å¹´1æœˆ1æ—¥ï¼Œå¼ ä¸‰åœ¨åŒ—äº¬å¤§å­¦è¯»ä¹¦&quot;</span></span>
<span class="line">result <span class="token operator">=</span> ner<span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span></span>
<span class="line"><span class="token comment"># [(&#39;2020å¹´1æœˆ1æ—¥&#39;, &#39;TIME&#39;), (&#39;å¼ ä¸‰&#39;, &#39;PERSON&#39;), (&#39;åŒ—äº¬å¤§å­¦&#39;, &#39;ORG&#39;)]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-è§„åˆ™æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#_3-è§„åˆ™æ–¹æ³•"><span>3. è§„åˆ™æ–¹æ³•</span></a></h2><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token keyword">import</span> re</span>
<span class="line"></span>
<span class="line"><span class="token keyword">def</span> <span class="token function">extract_entities</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token comment"># æå–æ—¥æœŸ</span></span>
<span class="line">    dates <span class="token operator">=</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">r&#39;\\d{4}å¹´\\d{1,2}æœˆ\\d{1,2}æ—¥&#39;</span><span class="token punctuation">,</span> text<span class="token punctuation">)</span></span>
<span class="line">    </span>
<span class="line">    <span class="token comment"># æå–é‡‘é¢</span></span>
<span class="line">    money <span class="token operator">=</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">r&#39;\\d+(\\.\\d+)?å…ƒ&#39;</span><span class="token punctuation">,</span> text<span class="token punctuation">)</span></span>
<span class="line">    </span>
<span class="line">    <span class="token comment"># æå–é‚®ç®±</span></span>
<span class="line">    emails <span class="token operator">=</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">r&#39;\\S+@\\S+&#39;</span><span class="token punctuation">,</span> text<span class="token punctuation">)</span></span>
<span class="line">    </span>
<span class="line">    <span class="token comment"># æå–ç”µè¯</span></span>
<span class="line">    phones <span class="token operator">=</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">r&#39;1[3-9]\\d{9}&#39;</span><span class="token punctuation">,</span> text<span class="token punctuation">)</span></span>
<span class="line">    </span>
<span class="line">    <span class="token keyword">return</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token string">&#39;dates&#39;</span><span class="token punctuation">:</span> dates<span class="token punctuation">,</span></span>
<span class="line">        <span class="token string">&#39;money&#39;</span><span class="token punctuation">:</span> money<span class="token punctuation">,</span></span>
<span class="line">        <span class="token string">&#39;emails&#39;</span><span class="token punctuation">:</span> emails<span class="token punctuation">,</span></span>
<span class="line">        <span class="token string">&#39;phones&#39;</span><span class="token punctuation">:</span> phones</span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">text <span class="token operator">=</span> <span class="token string">&quot;2024å¹´1æœˆ1æ—¥ï¼Œä»·æ ¼ä¸º100å…ƒï¼Œè”ç³»æ–¹å¼ï¼štest@example.com&quot;</span></span>
<span class="line">entities <span class="token operator">=</span> extract_entities<span class="token punctuation">(</span>text<span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span>entities<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-å®ä½“å…³ç³»æŠ½å–" tabindex="-1"><a class="header-anchor" href="#_4-å®ä½“å…³ç³»æŠ½å–"><span>4. å®ä½“å…³ç³»æŠ½å–</span></a></h2><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token comment"># ä½¿ç”¨æ¨¡å¼åŒ¹é…</span></span>
<span class="line"><span class="token keyword">import</span> spacy</span>
<span class="line"><span class="token keyword">from</span> spacy<span class="token punctuation">.</span>matcher <span class="token keyword">import</span> Matcher</span>
<span class="line"></span>
<span class="line">nlp <span class="token operator">=</span> spacy<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">&quot;zh_core_web_sm&quot;</span><span class="token punctuation">)</span></span>
<span class="line">matcher <span class="token operator">=</span> Matcher<span class="token punctuation">(</span>nlp<span class="token punctuation">.</span>vocab<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># å®šä¹‰æ¨¡å¼: äººå + æ˜¯ + ç»„ç»‡ + çš„ + èŒä½</span></span>
<span class="line">pattern <span class="token operator">=</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token punctuation">{</span><span class="token string">&quot;POS&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;PROPN&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token comment"># äººå</span></span>
<span class="line">    <span class="token punctuation">{</span><span class="token string">&quot;ORTH&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;æ˜¯&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">{</span><span class="token string">&quot;POS&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;PROPN&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token comment"># ç»„ç»‡</span></span>
<span class="line">    <span class="token punctuation">{</span><span class="token string">&quot;ORTH&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;çš„&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">{</span><span class="token string">&quot;POS&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;NOUN&quot;</span><span class="token punctuation">}</span>    <span class="token comment"># èŒä½</span></span>
<span class="line"><span class="token punctuation">]</span></span>
<span class="line">matcher<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token string">&quot;POSITION&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>pattern<span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">text <span class="token operator">=</span> <span class="token string">&quot;å¼ ä¸‰æ˜¯é˜¿é‡Œå·´å·´çš„å·¥ç¨‹å¸ˆ&quot;</span></span>
<span class="line">doc <span class="token operator">=</span> nlp<span class="token punctuation">(</span>text<span class="token punctuation">)</span></span>
<span class="line">matches <span class="token operator">=</span> matcher<span class="token punctuation">(</span>doc<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">for</span> match_id<span class="token punctuation">,</span> start<span class="token punctuation">,</span> end <span class="token keyword">in</span> matches<span class="token punctuation">:</span></span>
<span class="line">    span <span class="token operator">=</span> doc<span class="token punctuation">[</span>start<span class="token punctuation">:</span>end<span class="token punctuation">]</span></span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;åŒ¹é…: </span><span class="token interpolation"><span class="token punctuation">{</span>span<span class="token punctuation">.</span>text<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr>`,13)),s("p",null,[n[1]||(n[1]=s("strong",null,"ä¸‹ä¸€èŠ‚ï¼š",-1)),n[2]||(n[2]=a()),i(p,{to:"/tutorials/python-ai/nlp/08-%E6%96%87%E6%9C%AC%E7%9B%B8%E4%BC%BC%E5%BA%A6.html"},{default:c(()=>[...n[0]||(n[0]=[a("æ–‡æœ¬ç›¸ä¼¼åº¦",-1)])]),_:1})])])}const v=t(r,[["render",d]]),b=JSON.parse('{"path":"/tutorials/python-ai/nlp/07-mingmingshitishibie.html","title":"å‘½åå®ä½“è¯†åˆ«","lang":"zh-CN","frontmatter":{"title":"å‘½åå®ä½“è¯†åˆ«"},"headers":[{"level":2,"title":"ğŸ“š å­¦ä¹ ç›®æ ‡","slug":"ğŸ“š-å­¦ä¹ ç›®æ ‡","link":"#ğŸ“š-å­¦ä¹ ç›®æ ‡","children":[]},{"level":2,"title":"1. ä½¿ç”¨ spaCy","slug":"_1-ä½¿ç”¨-spacy","link":"#_1-ä½¿ç”¨-spacy","children":[]},{"level":2,"title":"2. ä½¿ç”¨ HanLP","slug":"_2-ä½¿ç”¨-hanlp","link":"#_2-ä½¿ç”¨-hanlp","children":[]},{"level":2,"title":"3. è§„åˆ™æ–¹æ³•","slug":"_3-è§„åˆ™æ–¹æ³•","link":"#_3-è§„åˆ™æ–¹æ³•","children":[]},{"level":2,"title":"4. å®ä½“å…³ç³»æŠ½å–","slug":"_4-å®ä½“å…³ç³»æŠ½å–","link":"#_4-å®ä½“å…³ç³»æŠ½å–","children":[]}],"git":{"createdTime":1765249786000,"updatedTime":1765249786000,"contributors":[{"name":"CambridgeFoldingKnife","email":"3144253125@qq.com","commits":1}]},"filePathRelative":"tutorials/python-ai/nlp/07-å‘½åå®ä½“è¯†åˆ«.md"}');export{v as comp,b as data};
