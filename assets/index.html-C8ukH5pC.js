import{_ as o,c as u,d as e,e as s,f as a,b as p,w as l,r as i,o as r}from"./app-D9dfRPMK.js";const k={},d={id:"_1-å¿«é€Ÿå¼€å§‹",tabindex:"-1"},v={class:"header-anchor",href:"#_1-å¿«é€Ÿå¼€å§‹"},m={id:"_2-chatclient-api",tabindex:"-1"},g={class:"header-anchor",href:"#_2-chatclient-api"},b={id:"_3-function-calling",tabindex:"-1"},h={class:"header-anchor",href:"#_3-function-calling"},f={id:"_4-advisors-api",tabindex:"-1"},y={class:"header-anchor",href:"#_4-advisors-api"},q={id:"_5-å¯è§‚æµ‹æ€§",tabindex:"-1"},A={class:"header-anchor",href:"#_5-å¯è§‚æµ‹æ€§"},w={href:"https://docs.spring.io/spring-ai/reference/",target:"_blank",rel:"noopener noreferrer"},S={href:"https://github.com/spring-projects/spring-ai",target:"_blank",rel:"noopener noreferrer"},j={href:"https://github.com/spring-projects/spring-ai-examples",target:"_blank",rel:"noopener noreferrer"};function x(C,n){const t=i("RouteLink"),c=i("ExternalLinkIcon");return r(),u("div",null,[n[16]||(n[16]=e('<h1 id="ç¬¬äº”éƒ¨åˆ†-spring-ai-æ¡†æ¶-â­â­â­â­â­" tabindex="-1"><a class="header-anchor" href="#ç¬¬äº”éƒ¨åˆ†-spring-ai-æ¡†æ¶-â­â­â­â­â­"><span>ç¬¬äº”éƒ¨åˆ†ï¼šSpring AI æ¡†æ¶ â­â­â­â­â­</span></a></h1><blockquote><p>Java å¼€å‘è€…çš„ AI åº”ç”¨å¼€å‘é¦–é€‰æ¡†æ¶</p></blockquote><h2 id="ğŸ“–-æœ¬éƒ¨åˆ†æ¦‚è¿°" tabindex="-1"><a class="header-anchor" href="#ğŸ“–-æœ¬éƒ¨åˆ†æ¦‚è¿°"><span>ğŸ“– æœ¬éƒ¨åˆ†æ¦‚è¿°</span></a></h2><p><strong>Spring AI</strong> æ˜¯ Spring å®˜æ–¹æ¨å‡ºçš„ AI åº”ç”¨å¼€å‘æ¡†æ¶ï¼Œä¸“ä¸º Java/Spring å¼€å‘è€…è®¾è®¡ã€‚å®ƒå°† Spring ç”Ÿæ€ç³»ç»Ÿçš„è®¾è®¡ç†å¿µï¼ˆå¦‚ä¾èµ–æ³¨å…¥ã€è‡ªåŠ¨é…ç½®ã€å¯è§‚æµ‹æ€§ï¼‰åº”ç”¨åˆ° AI é¢†åŸŸï¼Œè®© Java å¼€å‘è€…èƒ½å¤Ÿç”¨ç†Ÿæ‚‰çš„æ–¹å¼æ„å»ºæ™ºèƒ½åº”ç”¨ã€‚</p><p><strong>å­¦ä¹ æ—¶é•¿ï¼š</strong> 4-6 å‘¨<br><strong>éš¾åº¦ï¼š</strong> â­â­â­â­â˜†<br><strong>é‡è¦ç¨‹åº¦ï¼š</strong> â­â­â­â­â­ <strong>(æ ¸å¿ƒéƒ¨åˆ†)</strong></p><hr><h2 id="ğŸ¯-å­¦ä¹ ç›®æ ‡" tabindex="-1"><a class="header-anchor" href="#ğŸ¯-å­¦ä¹ ç›®æ ‡"><span>ğŸ¯ å­¦ä¹ ç›®æ ‡</span></a></h2><p>å®Œæˆæœ¬éƒ¨åˆ†å­¦ä¹ åï¼Œä½ å°†èƒ½å¤Ÿï¼š</p><ul><li>âœ… ç†Ÿç»ƒä½¿ç”¨ ChatClient API è¿›è¡Œå¯¹è¯å¼€å‘</li><li>âœ… æŒæ¡ç»“æ„åŒ–è¾“å‡ºï¼Œå°† AI å“åº”æ˜ å°„åˆ° Java å¯¹è±¡</li><li>âœ… å®ç° Function Callingï¼Œè®© AI è°ƒç”¨ä½ çš„ä¸šåŠ¡ä»£ç </li><li>âœ… ä½¿ç”¨ Advisors API ç®¡ç†å¯¹è¯è®°å¿†å’Œ RAG</li><li>âœ… é›†æˆå¯è§‚æµ‹æ€§ï¼Œç›‘æ§ AI åº”ç”¨æ€§èƒ½</li><li>âœ… æ„å»ºç”Ÿäº§çº§çš„ AI åº”ç”¨</li></ul><hr><h2 id="ğŸ’¡-ä¸ºä»€ä¹ˆé€‰æ‹©-spring-ai" tabindex="-1"><a class="header-anchor" href="#ğŸ’¡-ä¸ºä»€ä¹ˆé€‰æ‹©-spring-ai"><span>ğŸ’¡ ä¸ºä»€ä¹ˆé€‰æ‹© Spring AIï¼Ÿ</span></a></h2><h3 id="vs-python-langchain-llamaindex" tabindex="-1"><a class="header-anchor" href="#vs-python-langchain-llamaindex"><span>vs Python (LangChain/LlamaIndex)</span></a></h3><table><thead><tr><th>å¯¹æ¯”é¡¹</th><th>Spring AI</th><th>Python (LangChain)</th></tr></thead><tbody><tr><td><strong>ç±»å‹å®‰å…¨</strong></td><td>âœ… å¼ºç±»å‹ï¼Œç¼–è¯‘æ—¶æ£€æŸ¥</td><td>âŒ å¼±ç±»å‹ï¼Œè¿è¡Œæ—¶é”™è¯¯</td></tr><tr><td><strong>ä¼ä¸šæ•´åˆ</strong></td><td>âœ… æ— ç¼é›†æˆ Spring ç”Ÿæ€</td><td>âš ï¸ éœ€è¦é¢å¤–å·¥ä½œ</td></tr><tr><td><strong>æ€§èƒ½</strong></td><td>âœ… JVM é«˜æ€§èƒ½</td><td>âš ï¸ ç›¸å¯¹è¾ƒæ…¢</td></tr><tr><td><strong>ç»´æŠ¤æ€§</strong></td><td>âœ… æ˜“äºç»´æŠ¤å’Œé‡æ„</td><td>âš ï¸ å¤§å‹é¡¹ç›®ç»´æŠ¤å›°éš¾</td></tr><tr><td><strong>å›¢é˜Ÿ</strong></td><td>âœ… Java å›¢é˜Ÿå¯ç›´æ¥ä¸Šæ‰‹</td><td>âŒ éœ€è¦ Python å›¢é˜Ÿ</td></tr><tr><td><strong>éƒ¨ç½²</strong></td><td>âœ… æˆç†Ÿçš„ä¼ä¸šéƒ¨ç½²æ–¹æ¡ˆ</td><td>âš ï¸ éƒ¨ç½²ç›¸å¯¹å¤æ‚</td></tr><tr><td><strong>é€‚ç”¨åœºæ™¯</strong></td><td>ç”Ÿäº§ç¯å¢ƒã€ä¼ä¸šåº”ç”¨</td><td>å¿«é€ŸåŸå‹ã€ç ”ç©¶</td></tr></tbody></table><h3 id="spring-ai-çš„æ ¸å¿ƒä¼˜åŠ¿" tabindex="-1"><a class="header-anchor" href="#spring-ai-çš„æ ¸å¿ƒä¼˜åŠ¿"><span>Spring AI çš„æ ¸å¿ƒä¼˜åŠ¿</span></a></h3><ol><li><strong>Spring ç”Ÿæ€é›†æˆ</strong> - Spring Bootã€Spring Cloudã€Spring Data æ— ç¼é›†æˆ</li><li><strong>ä¼ä¸šçº§ç‰¹æ€§</strong> - å¯è§‚æµ‹æ€§ã€ç›‘æ§ã€å®‰å…¨ã€äº‹åŠ¡ç®¡ç†</li><li><strong>ç»Ÿä¸€æŠ½è±¡</strong> - è·¨å¤šä¸ª AI æä¾›å•†çš„ç»Ÿä¸€ API</li><li><strong>ç”Ÿäº§å°±ç»ª</strong> - å¼€ç®±å³ç”¨çš„ç”Ÿäº§çº§é…ç½®</li></ol><hr><h2 id="ğŸ“š-è¯¾ç¨‹å†…å®¹" tabindex="-1"><a class="header-anchor" href="#ğŸ“š-è¯¾ç¨‹å†…å®¹"><span>ğŸ“š è¯¾ç¨‹å†…å®¹</span></a></h2>',17)),s("h3",d,[s("a",v,[s("span",null,[n[1]||(n[1]=a("1. ",-1)),p(t,{to:"/tutorials/java-to-llm/05-spring-ai/getting-started/"},{default:l(()=>[...n[0]||(n[0]=[a("å¿«é€Ÿå¼€å§‹",-1)])]),_:1})])])]),n[17]||(n[17]=e(`<h4 id="_1-1-spring-ai-ç®€ä»‹" tabindex="-1"><a class="header-anchor" href="#_1-1-spring-ai-ç®€ä»‹"><span>1.1 Spring AI ç®€ä»‹</span></a></h4><ul><li>Spring AI æ˜¯ä»€ä¹ˆ</li><li>æ ¸å¿ƒæ¦‚å¿µä¸æ¶æ„</li><li>æ”¯æŒçš„ AI æ¨¡å‹å’Œå‘é‡æ•°æ®åº“</li></ul><h4 id="_1-2-é¡¹ç›®æ­å»º" tabindex="-1"><a class="header-anchor" href="#_1-2-é¡¹ç›®æ­å»º"><span>1.2 é¡¹ç›®æ­å»º</span></a></h4><div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml" data-title="xml"><pre><code><span class="line"><span class="token comment">&lt;!-- pom.xml --&gt;</span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.ai<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-ai-openai-spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-3-é…ç½®ç®¡ç†" tabindex="-1"><a class="header-anchor" href="#_1-3-é…ç½®ç®¡ç†"><span>1.3 é…ç½®ç®¡ç†</span></a></h4><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml" data-title="yml"><pre><code><span class="line"><span class="token comment"># application.yml</span></span>
<span class="line"><span class="token key atrule">spring</span><span class="token punctuation">:</span></span>
<span class="line">  <span class="token key atrule">ai</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token key atrule">openai</span><span class="token punctuation">:</span></span>
<span class="line">      <span class="token key atrule">api-key</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>OPENAI_API_KEY<span class="token punctuation">}</span></span>
<span class="line">      <span class="token key atrule">chat</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token key atrule">options</span><span class="token punctuation">:</span></span>
<span class="line">          <span class="token key atrule">model</span><span class="token punctuation">:</span> gpt<span class="token punctuation">-</span>4o<span class="token punctuation">-</span>mini</span>
<span class="line">          <span class="token key atrule">temperature</span><span class="token punctuation">:</span> <span class="token number">0.7</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-4-ç¬¬ä¸€ä¸ªåº”ç”¨" tabindex="-1"><a class="header-anchor" href="#_1-4-ç¬¬ä¸€ä¸ªåº”ç”¨"><span>1.4 ç¬¬ä¸€ä¸ªåº”ç”¨</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token annotation punctuation">@RestController</span></span>
<span class="line"><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/api/ai&quot;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AIController</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Autowired</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">ChatClient</span> chatClient<span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/chat&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">chat</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span> <span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> chatClient<span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">user</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">content</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr>`,9)),s("h3",m,[s("a",g,[s("span",null,[n[3]||(n[3]=a("2. ",-1)),p(t,{to:"/tutorials/java-to-llm/05-spring-ai/chatclient-api/"},{default:l(()=>[...n[2]||(n[2]=[a("ChatClient API",-1)])]),_:1})])])]),n[18]||(n[18]=e(`<h4 id="_2-1-åŸºç¡€ç”¨æ³•" tabindex="-1"><a class="header-anchor" href="#_2-1-åŸºç¡€ç”¨æ³•"><span>2.1 åŸºç¡€ç”¨æ³•</span></a></h4><p><strong>ç®€å•å¯¹è¯</strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token comment">// æœ€ç®€å•çš„ç”¨æ³•</span></span>
<span class="line"><span class="token class-name">String</span> response <span class="token operator">=</span> chatClient<span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">user</span><span class="token punctuation">(</span><span class="token string">&quot;ä½ å¥½&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">content</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>System + User Message</strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token class-name">String</span> response <span class="token operator">=</span> chatClient<span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">system</span><span class="token punctuation">(</span><span class="token string">&quot;ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„ Java æ¶æ„å¸ˆ&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">user</span><span class="token punctuation">(</span><span class="token string">&quot;å¦‚ä½•è®¾è®¡ä¸€ä¸ªé«˜å¹¶å‘ç³»ç»Ÿï¼Ÿ&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">content</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>å†å²å¯¹è¯ä¸Šä¸‹æ–‡</strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token class-name">ChatResponse</span> response <span class="token operator">=</span> chatClient<span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">messages</span><span class="token punctuation">(</span></span>
<span class="line">        <span class="token keyword">new</span> <span class="token class-name">SystemMessage</span><span class="token punctuation">(</span><span class="token string">&quot;ä½ æ˜¯AIåŠ©æ‰‹&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token keyword">new</span> <span class="token class-name">UserMessage</span><span class="token punctuation">(</span><span class="token string">&quot;æˆ‘å«å¼ ä¸‰&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token keyword">new</span> <span class="token class-name">AssistantMessage</span><span class="token punctuation">(</span><span class="token string">&quot;ä½ å¥½å¼ ä¸‰ï¼&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token keyword">new</span> <span class="token class-name">UserMessage</span><span class="token punctuation">(</span><span class="token string">&quot;æˆ‘å«ä»€ä¹ˆåå­—ï¼Ÿ&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">chatResponse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-2-ç»“æ„åŒ–è¾“å‡º" tabindex="-1"><a class="header-anchor" href="#_2-2-ç»“æ„åŒ–è¾“å‡º"><span>2.2 ç»“æ„åŒ–è¾“å‡º</span></a></h4><p><strong>æ˜ å°„åˆ° Java å¯¹è±¡</strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">record</span> <span class="token class-name">Product</span><span class="token punctuation">(</span></span>
<span class="line">    <span class="token class-name">String</span> name<span class="token punctuation">,</span></span>
<span class="line">    <span class="token keyword">double</span> price<span class="token punctuation">,</span></span>
<span class="line">    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> features<span class="token punctuation">,</span></span>
<span class="line">    <span class="token class-name">Category</span> category</span>
<span class="line"><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">enum</span> <span class="token class-name">Category</span> <span class="token punctuation">{</span> <span class="token constant">ELECTRONICS</span><span class="token punctuation">,</span> <span class="token constant">BOOKS</span><span class="token punctuation">,</span> <span class="token constant">CLOTHING</span> <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// AI è¾“å‡ºç›´æ¥æ˜ å°„åˆ° POJO</span></span>
<span class="line"><span class="token class-name">Product</span> product <span class="token operator">=</span> chatClient<span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">user</span><span class="token punctuation">(</span><span class="token string">&quot;æ¨èä¸€æ¬¾ç¬”è®°æœ¬ç”µè„‘&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">entity</span><span class="token punctuation">(</span><span class="token class-name">Product</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>product<span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// &quot;MacBook Pro 14&quot;</span></span>
<span class="line"><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>product<span class="token punctuation">.</span><span class="token function">price</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 14999.0</span></span>
<span class="line"><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>product<span class="token punctuation">.</span><span class="token function">category</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ELECTRONICS</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>åˆ—è¡¨è¾“å‡º</strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> ideas <span class="token operator">=</span> chatClient<span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">user</span><span class="token punctuation">(</span><span class="token string">&quot;ç»™æˆ‘5ä¸ªåˆ›ä¸šç‚¹å­&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">entity</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ParameterizedTypeReference</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-3-æµå¼å“åº”" tabindex="-1"><a class="header-anchor" href="#_2-3-æµå¼å“åº”"><span>2.3 æµå¼å“åº”</span></a></h4><p><strong>Server-Sent Events</strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/stream&quot;</span><span class="token punctuation">,</span> produces <span class="token operator">=</span> <span class="token class-name">MediaType</span><span class="token punctuation">.</span><span class="token constant">TEXT_EVENT_STREAM_VALUE</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token class-name">Flux</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">streamChat</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span> <span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> chatClient<span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">user</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">content</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>WebFlux é›†æˆ</strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token class-name">Flux</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ChatResponse</span><span class="token punctuation">&gt;</span></span> stream <span class="token operator">=</span> chatClient<span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">user</span><span class="token punctuation">(</span><span class="token string">&quot;å†™ä¸€ç¯‡å…³äº Spring AI çš„æ–‡ç« &quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">chatResponse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">stream<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span></span>
<span class="line">    chunk <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>chunk<span class="token punctuation">.</span><span class="token function">getResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getOutput</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    error <span class="token operator">-&gt;</span> log<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;Error: &quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;Stream completed&quot;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-4-é”™è¯¯å¤„ç†" tabindex="-1"><a class="header-anchor" href="#_2-4-é”™è¯¯å¤„ç†"><span>2.4 é”™è¯¯å¤„ç†</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">try</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">String</span> response <span class="token operator">=</span> chatClient<span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">user</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">content</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">OpenAiApiException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// API è°ƒç”¨å¤±è´¥</span></span>
<span class="line">    log<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;OpenAI API error: {}&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">RateLimitException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// é€Ÿç‡é™åˆ¶</span></span>
<span class="line">    log<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">&quot;Rate limit exceeded&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr>`,20)),s("h3",b,[s("a",h,[s("span",null,[n[5]||(n[5]=a("3. ",-1)),p(t,{to:"/tutorials/java-to-llm/05-spring-ai/function-calling/"},{default:l(()=>[...n[4]||(n[4]=[a("Function Calling",-1)])]),_:1})])])]),n[19]||(n[19]=e(`<h4 id="_3-1-å‡½æ•°è°ƒç”¨åŸºç¡€" tabindex="-1"><a class="header-anchor" href="#_3-1-å‡½æ•°è°ƒç”¨åŸºç¡€"><span>3.1 å‡½æ•°è°ƒç”¨åŸºç¡€</span></a></h4><p><strong>ä»€ä¹ˆæ˜¯ Function Callingï¼Ÿ</strong></p><ul><li>è®© AI æ¨¡å‹è°ƒç”¨ä½ çš„ Java æ–¹æ³•</li><li>è·å–å®æ—¶æ•°æ®ï¼ˆå¤©æ°”ã€æ•°æ®åº“ã€APIï¼‰</li><li>æ‰§è¡Œä¸šåŠ¡æ“ä½œï¼ˆä¸‹å•ã€å‘é‚®ä»¶ï¼‰</li></ul><p><strong>ç®€å•ç¤ºä¾‹</strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token annotation punctuation">@Configuration</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FunctionConfig</span> <span class="token punctuation">{</span></span>
<span class="line">    </span>
<span class="line">    <span class="token annotation punctuation">@Bean</span></span>
<span class="line">    <span class="token annotation punctuation">@Description</span><span class="token punctuation">(</span><span class="token string">&quot;æŸ¥è¯¢å¤©æ°”ä¿¡æ¯&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">WeatherRequest</span><span class="token punctuation">,</span> <span class="token class-name">WeatherResponse</span><span class="token punctuation">&gt;</span></span> <span class="token function">weatherFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> request <span class="token operator">-&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token comment">// è°ƒç”¨çœŸå®å¤©æ°” API</span></span>
<span class="line">            <span class="token keyword">return</span> weatherService<span class="token punctuation">.</span><span class="token function">getWeather</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">city</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">record</span> <span class="token class-name">WeatherRequest</span><span class="token punctuation">(</span><span class="token class-name">String</span> city<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">record</span> <span class="token class-name">WeatherResponse</span><span class="token punctuation">(</span><span class="token class-name">String</span> temperature<span class="token punctuation">,</span> <span class="token class-name">String</span> condition<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// AI è‡ªåŠ¨è°ƒç”¨å‡½æ•°</span></span>
<span class="line"><span class="token class-name">String</span> response <span class="token operator">=</span> chatClient<span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">user</span><span class="token punctuation">(</span><span class="token string">&quot;åŒ—äº¬ä»Šå¤©å¤©æ°”æ€ä¹ˆæ ·ï¼Ÿ&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">functions</span><span class="token punctuation">(</span><span class="token string">&quot;weatherFunction&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">content</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">// è¾“å‡ºï¼šåŒ—äº¬ä»Šå¤©æ™´å¤©ï¼Œæ¸©åº¦ 25Â°C</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-2-è‡ªå®šä¹‰å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#_3-2-è‡ªå®šä¹‰å‡½æ•°"><span>3.2 è‡ªå®šä¹‰å‡½æ•°</span></a></h4><p><strong>æ•°æ®åº“æŸ¥è¯¢å‡½æ•°</strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token annotation punctuation">@Bean</span></span>
<span class="line"><span class="token annotation punctuation">@Description</span><span class="token punctuation">(</span><span class="token string">&quot;æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯&quot;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">UserQuery</span><span class="token punctuation">,</span> <span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token function">userQueryFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> query <span class="token operator">-&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> userRepository<span class="token punctuation">.</span><span class="token function">findById</span><span class="token punctuation">(</span>query<span class="token punctuation">.</span><span class="token function">userId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">orElseThrow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// AI: &quot;æŸ¥è¯¢ ID ä¸º 123 çš„ç”¨æˆ·ä¿¡æ¯&quot;</span></span>
<span class="line"><span class="token comment">// â†’ è‡ªåŠ¨è°ƒç”¨ userQueryFunction(123)</span></span>
<span class="line"><span class="token comment">// â†’ è¿”å›ç”¨æˆ·æ•°æ®</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>API è°ƒç”¨å‡½æ•°</strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token annotation punctuation">@Bean</span></span>
<span class="line"><span class="token annotation punctuation">@Description</span><span class="token punctuation">(</span><span class="token string">&quot;æœç´¢ç½‘é¡µ&quot;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SearchRequest</span><span class="token punctuation">,</span> <span class="token class-name">SearchResult</span><span class="token punctuation">&gt;</span></span> <span class="token function">webSearchFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> request <span class="token operator">-&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> restTemplate<span class="token punctuation">.</span><span class="token function">getForObject</span><span class="token punctuation">(</span></span>
<span class="line">            <span class="token string">&quot;https://api.search.com/search?q=&quot;</span> <span class="token operator">+</span> request<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token class-name">SearchResult</span><span class="token punctuation">.</span><span class="token keyword">class</span></span>
<span class="line">        <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-3-æ•°æ®åº“é›†æˆ" tabindex="-1"><a class="header-anchor" href="#_3-3-æ•°æ®åº“é›†æˆ"><span>3.3 æ•°æ®åº“é›†æˆ</span></a></h4><p><strong>SQL ç”Ÿæˆä¸æ‰§è¡Œ</strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token annotation punctuation">@Service</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DatabaseAgentService</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Autowired</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">JdbcTemplate</span> jdbcTemplate<span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token annotation punctuation">@Autowired</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">ChatClient</span> chatClient<span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token annotation punctuation">@Bean</span></span>
<span class="line">    <span class="token annotation punctuation">@Description</span><span class="token punctuation">(</span><span class="token string">&quot;æ‰§è¡Œ SQL æŸ¥è¯¢&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SqlQuery</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">Map</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">sqlFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> query <span class="token operator">-&gt;</span> jdbcTemplate<span class="token punctuation">.</span><span class="token function">queryForList</span><span class="token punctuation">(</span>query<span class="token punctuation">.</span><span class="token function">sql</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    </span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">queryData</span><span class="token punctuation">(</span><span class="token class-name">String</span> naturalLanguage<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> chatClient<span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">system</span><span class="token punctuation">(</span><span class="token string">&quot;ä½ æ˜¯æ•°æ®åº“åŠ©æ‰‹ï¼Œæ ¹æ®ç”¨æˆ·éœ€æ±‚ç”Ÿæˆå¹¶æ‰§è¡Œ SQL&quot;</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">user</span><span class="token punctuation">(</span>naturalLanguage<span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">functions</span><span class="token punctuation">(</span><span class="token string">&quot;sqlFunction&quot;</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">content</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// ç”¨æˆ·ï¼šæŸ¥è¯¢é”€å”®é¢æœ€é«˜çš„10ä¸ªå•†å“</span></span>
<span class="line"><span class="token comment">// AI è‡ªåŠ¨ç”Ÿæˆå¹¶æ‰§è¡Œï¼šSELECT * FROM products ORDER BY sales DESC LIMIT 10</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-4-å¤šå‡½æ•°åä½œ" tabindex="-1"><a class="header-anchor" href="#_3-4-å¤šå‡½æ•°åä½œ"><span>3.4 å¤šå‡½æ•°åä½œ</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token class-name">String</span> response <span class="token operator">=</span> chatClient<span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">user</span><span class="token punctuation">(</span><span class="token string">&quot;æŸ¥è¯¢åŒ—äº¬å¤©æ°”ï¼Œå¦‚æœæ¸©åº¦ä½äº10åº¦æ¨èç©¿è¡£å»ºè®®&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">functions</span><span class="token punctuation">(</span></span>
<span class="line">        <span class="token string">&quot;weatherFunction&quot;</span><span class="token punctuation">,</span>        <span class="token comment">// æŸ¥è¯¢å¤©æ°”</span></span>
<span class="line">        <span class="token string">&quot;clothingAdviceFunction&quot;</span>  <span class="token comment">// ç©¿è¡£å»ºè®®</span></span>
<span class="line">    <span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">content</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// AI ä¼šè‡ªåŠ¨:</span></span>
<span class="line"><span class="token comment">// 1. è°ƒç”¨ weatherFunction è·å–æ¸©åº¦</span></span>
<span class="line"><span class="token comment">// 2. åˆ¤æ–­æ¸©åº¦</span></span>
<span class="line"><span class="token comment">// 3. è°ƒç”¨ clothingAdviceFunction è·å–å»ºè®®</span></span>
<span class="line"><span class="token comment">// 4. ç»¼åˆå›å¤ç”¨æˆ·</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr>`,16)),s("h3",f,[s("a",y,[s("span",null,[n[7]||(n[7]=a("4. ",-1)),p(t,{to:"/tutorials/java-to-llm/05-spring-ai/advisors/"},{default:l(()=>[...n[6]||(n[6]=[a("Advisors API",-1)])]),_:1})])])]),n[20]||(n[20]=e(`<h4 id="_4-1-advisors-æ¦‚è¿°" tabindex="-1"><a class="header-anchor" href="#_4-1-advisors-æ¦‚è¿°"><span>4.1 Advisors æ¦‚è¿°</span></a></h4><p><strong>ä»€ä¹ˆæ˜¯ Advisorsï¼Ÿ</strong></p><ul><li>å°è£…å¸¸è§çš„ AI åº”ç”¨æ¨¡å¼</li><li>åœ¨è¯·æ±‚/å“åº”æµç¨‹ä¸­æ’å…¥å¤„ç†é€»è¾‘</li><li>å¯ç»„åˆã€å¯å¤ç”¨</li></ul><p><strong>å†…ç½® Advisorsï¼š</strong></p><ul><li><code>MessageChatMemoryAdvisor</code> - å¯¹è¯è®°å¿†</li><li><code>QuestionAnswerAdvisor</code> - è‡ªåŠ¨ RAG</li><li><code>SafeGuardAdvisor</code> - å†…å®¹å®‰å…¨</li><li><code>LoggingAdvisor</code> - æ—¥å¿—è®°å½•</li></ul><h4 id="_4-2-è®°å¿†ç®¡ç†-messagechatmemoryadvisor" tabindex="-1"><a class="header-anchor" href="#_4-2-è®°å¿†ç®¡ç†-messagechatmemoryadvisor"><span>4.2 è®°å¿†ç®¡ç†ï¼ˆMessageChatMemoryAdvisorï¼‰</span></a></h4><p><strong>å®ç°å¤šè½®å¯¹è¯</strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token annotation punctuation">@Configuration</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ChatConfig</span> <span class="token punctuation">{</span></span>
<span class="line">    </span>
<span class="line">    <span class="token annotation punctuation">@Bean</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">ChatClient</span> <span class="token function">chatClient</span><span class="token punctuation">(</span><span class="token class-name">ChatModel</span> chatModel<span class="token punctuation">,</span> <span class="token class-name">ChatMemory</span> chatMemory<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token class-name">ChatClient</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span>chatModel<span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">defaultAdvisors</span><span class="token punctuation">(</span></span>
<span class="line">                <span class="token keyword">new</span> <span class="token class-name">MessageChatMemoryAdvisor</span><span class="token punctuation">(</span>chatMemory<span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    </span>
<span class="line">    <span class="token annotation punctuation">@Bean</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">ChatMemory</span> <span class="token function">chatMemory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">InMemoryChatMemory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// ä½¿ç”¨</span></span>
<span class="line">chatClient<span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">user</span><span class="token punctuation">(</span><span class="token string">&quot;æˆ‘å«å¼ ä¸‰&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">content</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// &quot;ä½ å¥½å¼ ä¸‰ï¼&quot;</span></span>
<span class="line"></span>
<span class="line">chatClient<span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">user</span><span class="token punctuation">(</span><span class="token string">&quot;æˆ‘å«ä»€ä¹ˆåå­—ï¼Ÿ&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">content</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// &quot;ä½ å«å¼ ä¸‰&quot;ï¼ˆè®°ä½äº†ä¸Šä¸€è½®å¯¹è¯ï¼‰</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æŒ‰ä¼šè¯ç®¡ç†è®°å¿†</strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token class-name">String</span> response <span class="token operator">=</span> chatClient<span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">user</span><span class="token punctuation">(</span><span class="token string">&quot;ä½ å¥½&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">advisors</span><span class="token punctuation">(</span>a <span class="token operator">-&gt;</span> a<span class="token punctuation">.</span><span class="token function">param</span><span class="token punctuation">(</span><span class="token constant">CHAT_MEMORY_CONVERSATION_ID</span><span class="token punctuation">,</span> <span class="token string">&quot;user-123&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">content</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-3-rag-advisor-questionansweradvisor" tabindex="-1"><a class="header-anchor" href="#_4-3-rag-advisor-questionansweradvisor"><span>4.3 RAG Advisorï¼ˆQuestionAnswerAdvisorï¼‰</span></a></h4><p><strong>è‡ªåŠ¨æ£€ç´¢å¢å¼º</strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token annotation punctuation">@Bean</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token class-name">ChatClient</span> <span class="token function">chatClient</span><span class="token punctuation">(</span></span>
<span class="line">    <span class="token class-name">ChatModel</span> chatModel<span class="token punctuation">,</span></span>
<span class="line">    <span class="token class-name">VectorStore</span> vectorStore</span>
<span class="line"><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token class-name">ChatClient</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span>chatModel<span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">defaultAdvisors</span><span class="token punctuation">(</span></span>
<span class="line">            <span class="token keyword">new</span> <span class="token class-name">QuestionAnswerAdvisor</span><span class="token punctuation">(</span>vectorStore<span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// ä½¿ç”¨æ—¶è‡ªåŠ¨è¿›è¡Œ RAG</span></span>
<span class="line"><span class="token class-name">String</span> response <span class="token operator">=</span> chatClient<span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">user</span><span class="token punctuation">(</span><span class="token string">&quot;Spring AI æœ‰å“ªäº›ç‰¹æ€§ï¼Ÿ&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token comment">// è‡ªåŠ¨ä»å‘é‡åº“æ£€ç´¢ç›¸å…³æ–‡æ¡£</span></span>
<span class="line">    <span class="token comment">// è‡ªåŠ¨æ„å»ºä¸Šä¸‹æ–‡</span></span>
<span class="line">    <span class="token comment">// ç”Ÿæˆç­”æ¡ˆ</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">content</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>è‡ªå®šä¹‰ RAG å‚æ•°</strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token class-name">String</span> response <span class="token operator">=</span> chatClient<span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">user</span><span class="token punctuation">(</span><span class="token string">&quot;ä»€ä¹ˆæ˜¯ Spring AIï¼Ÿ&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">advisors</span><span class="token punctuation">(</span>a <span class="token operator">-&gt;</span> a</span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">param</span><span class="token punctuation">(</span><span class="token class-name">QuestionAnswerAdvisor</span><span class="token punctuation">.</span><span class="token constant">FILTER_EXPRESSION</span><span class="token punctuation">,</span> <span class="token string">&quot;type == &#39;documentation&#39;&quot;</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">param</span><span class="token punctuation">(</span><span class="token class-name">QuestionAnswerAdvisor</span><span class="token punctuation">.</span><span class="token constant">TOP_K</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">content</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-4-è‡ªå®šä¹‰-advisor" tabindex="-1"><a class="header-anchor" href="#_4-4-è‡ªå®šä¹‰-advisor"><span>4.4 è‡ªå®šä¹‰ Advisor</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CustomAdvisor</span> <span class="token keyword">implements</span> <span class="token class-name">RequestResponseAdvisor</span> <span class="token punctuation">{</span></span>
<span class="line">    </span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">AdvisedRequest</span> <span class="token function">adviseRequest</span><span class="token punctuation">(</span><span class="token class-name">AdvisedRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// è¯·æ±‚å‰å¤„ç†ï¼šæ·»åŠ ç³»ç»Ÿæç¤ºã€æ—¥å¿—ç­‰</span></span>
<span class="line">        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;Processing request: {}&quot;</span><span class="token punctuation">,</span> request<span class="token punctuation">.</span><span class="token function">userText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        </span>
<span class="line">        <span class="token keyword">return</span> <span class="token class-name">AdvisedRequest</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">withSystemText</span><span class="token punctuation">(</span><span class="token string">&quot;ä½ æ˜¯ä¸“ä¸šçš„AIåŠ©æ‰‹&quot;</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    </span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">ChatResponse</span> <span class="token function">adviseResponse</span><span class="token punctuation">(</span><span class="token class-name">ChatResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// å“åº”åå¤„ç†ï¼šå†…å®¹è¿‡æ»¤ã€æ ¼å¼åŒ–ç­‰</span></span>
<span class="line">        <span class="token class-name">String</span> content <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getOutput</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">String</span> filtered <span class="token operator">=</span> contentFilter<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        </span>
<span class="line">        <span class="token keyword">return</span> <span class="token class-name">ChatResponse</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">withGeneration</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Generation</span><span class="token punctuation">(</span>filtered<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr>`,18)),s("h3",q,[s("a",A,[s("span",null,[n[9]||(n[9]=a("5. ",-1)),p(t,{to:"/tutorials/java-to-llm/05-spring-ai/observability/"},{default:l(()=>[...n[8]||(n[8]=[a("å¯è§‚æµ‹æ€§",-1)])]),_:1})])])]),n[21]||(n[21]=e(`<h4 id="_5-1-æŒ‡æ ‡ç›‘æ§-metrics" tabindex="-1"><a class="header-anchor" href="#_5-1-æŒ‡æ ‡ç›‘æ§-metrics"><span>5.1 æŒ‡æ ‡ç›‘æ§ï¼ˆMetricsï¼‰</span></a></h4><p><strong>Spring Boot Actuator + Micrometer</strong></p><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml" data-title="yml"><pre><code><span class="line"><span class="token comment"># application.yml</span></span>
<span class="line"><span class="token key atrule">management</span><span class="token punctuation">:</span></span>
<span class="line">  <span class="token key atrule">endpoints</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token key atrule">web</span><span class="token punctuation">:</span></span>
<span class="line">      <span class="token key atrule">exposure</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token key atrule">include</span><span class="token punctuation">:</span> health<span class="token punctuation">,</span>metrics<span class="token punctuation">,</span>prometheus</span>
<span class="line">  <span class="token key atrule">metrics</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token key atrule">tags</span><span class="token punctuation">:</span></span>
<span class="line">      <span class="token key atrule">application</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>spring.application.name<span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>è‡ªå®šä¹‰æŒ‡æ ‡</strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token annotation punctuation">@Service</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AIService</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">MeterRegistry</span> meterRegistry<span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token annotation punctuation">@Timed</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;ai.chat.duration&quot;</span><span class="token punctuation">,</span> description <span class="token operator">=</span> <span class="token string">&quot;AI chat duration&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">chat</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        meterRegistry<span class="token punctuation">.</span><span class="token function">counter</span><span class="token punctuation">(</span><span class="token string">&quot;ai.chat.requests&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        </span>
<span class="line">        <span class="token keyword">try</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token class-name">String</span> response <span class="token operator">=</span> chatClient<span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">                <span class="token punctuation">.</span><span class="token function">user</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span></span>
<span class="line">                <span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">                <span class="token punctuation">.</span><span class="token function">content</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            </span>
<span class="line">            meterRegistry<span class="token punctuation">.</span><span class="token function">counter</span><span class="token punctuation">(</span><span class="token string">&quot;ai.chat.success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token keyword">return</span> response<span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            meterRegistry<span class="token punctuation">.</span><span class="token function">counter</span><span class="token punctuation">(</span><span class="token string">&quot;ai.chat.errors&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token keyword">throw</span> e<span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç›‘æ§ Token ä½¿ç”¨</strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token class-name">ChatResponse</span> response <span class="token operator">=</span> chatClient<span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">user</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">chatResponse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token class-name">ChatResponseMetadata</span> metadata <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getMetadata</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">Usage</span> usage <span class="token operator">=</span> metadata<span class="token punctuation">.</span><span class="token function">getUsage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;Prompt tokens: {}&quot;</span><span class="token punctuation">,</span> usage<span class="token punctuation">.</span><span class="token function">getPromptTokens</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;Completion tokens: {}&quot;</span><span class="token punctuation">,</span> usage<span class="token punctuation">.</span><span class="token function">getCompletionTokens</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;Total tokens: {}&quot;</span><span class="token punctuation">,</span> usage<span class="token punctuation">.</span><span class="token function">getTotalTokens</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_5-2-åˆ†å¸ƒå¼è¿½è¸ª-tracing" tabindex="-1"><a class="header-anchor" href="#_5-2-åˆ†å¸ƒå¼è¿½è¸ª-tracing"><span>5.2 åˆ†å¸ƒå¼è¿½è¸ªï¼ˆTracingï¼‰</span></a></h4><p><strong>OpenTelemetry é›†æˆ</strong></p><div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml" data-title="xml"><pre><code><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>io.opentelemetry.instrumentation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>opentelemetry-spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token annotation punctuation">@Service</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AIService</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">Tracer</span> tracer<span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token annotation punctuation">@WithSpan</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;ai.chat&quot;</span><span class="token punctuation">,</span> kind <span class="token operator">=</span> <span class="token class-name">SpanKind</span><span class="token punctuation">.</span><span class="token constant">CLIENT</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">chat</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">Span</span> span <span class="token operator">=</span> <span class="token class-name">Span</span><span class="token punctuation">.</span><span class="token function">current</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        span<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;message.length&quot;</span><span class="token punctuation">,</span> message<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        span<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;model&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;gpt-4o-mini&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        </span>
<span class="line">        <span class="token class-name">String</span> response <span class="token operator">=</span> chatClient<span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">user</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">content</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        </span>
<span class="line">        span<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;response.length&quot;</span><span class="token punctuation">,</span> response<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">return</span> response<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_5-3-æ—¥å¿—è®°å½•" tabindex="-1"><a class="header-anchor" href="#_5-3-æ—¥å¿—è®°å½•"><span>5.3 æ—¥å¿—è®°å½•</span></a></h4><p><strong>ç»“æ„åŒ–æ—¥å¿—</strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token annotation punctuation">@Slf4j</span></span>
<span class="line"><span class="token annotation punctuation">@Service</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AIService</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">chat</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;AI chat started&quot;</span><span class="token punctuation">,</span> </span>
<span class="line">            <span class="token function">kv</span><span class="token punctuation">(</span><span class="token string">&quot;message&quot;</span><span class="token punctuation">,</span> message<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token function">kv</span><span class="token punctuation">(</span><span class="token string">&quot;model&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;gpt-4o-mini&quot;</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        </span>
<span class="line">        <span class="token keyword">long</span> startTime <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">String</span> response <span class="token operator">=</span> chatClient<span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">user</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">content</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">long</span> duration <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> startTime<span class="token punctuation">;</span></span>
<span class="line">        </span>
<span class="line">        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;AI chat completed&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token function">kv</span><span class="token punctuation">(</span><span class="token string">&quot;duration_ms&quot;</span><span class="token punctuation">,</span> duration<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token function">kv</span><span class="token punctuation">(</span><span class="token string">&quot;response_length&quot;</span><span class="token punctuation">,</span> response<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        </span>
<span class="line">        <span class="token keyword">return</span> response<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="ğŸ› ï¸-å®æˆ˜ç»ƒä¹ " tabindex="-1"><a class="header-anchor" href="#ğŸ› ï¸-å®æˆ˜ç»ƒä¹ "><span>ğŸ› ï¸ å®æˆ˜ç»ƒä¹ </span></a></h2><h3 id="ç»ƒä¹ -1-æ™ºèƒ½å®¢æœåŸºç¡€ç‰ˆ" tabindex="-1"><a class="header-anchor" href="#ç»ƒä¹ -1-æ™ºèƒ½å®¢æœåŸºç¡€ç‰ˆ"><span>ç»ƒä¹  1ï¼šæ™ºèƒ½å®¢æœåŸºç¡€ç‰ˆ</span></a></h3><p>æ„å»ºä¸€ä¸ªç®€å•çš„å®¢æœæœºå™¨äººï¼Œæ”¯æŒï¼š</p><ul><li>å¤šè½®å¯¹è¯</li><li>è®°å¿†ç®¡ç†</li><li>å¸¸è§é—®é¢˜å›ç­”</li></ul><h3 id="ç»ƒä¹ -2-æ•°æ®æŸ¥è¯¢åŠ©æ‰‹" tabindex="-1"><a class="header-anchor" href="#ç»ƒä¹ -2-æ•°æ®æŸ¥è¯¢åŠ©æ‰‹"><span>ç»ƒä¹  2ï¼šæ•°æ®æŸ¥è¯¢åŠ©æ‰‹</span></a></h3><p>å®ç°ä¸€ä¸ªè‡ªç„¶è¯­è¨€æŸ¥è¯¢æ•°æ®åº“çš„å·¥å…·ï¼š</p><ul><li>Function Calling é›†æˆæ•°æ®åº“</li><li>SQL ç”Ÿæˆä¸æ‰§è¡Œ</li><li>ç»“æœæ ¼å¼åŒ–</li></ul><h3 id="ç»ƒä¹ -3-çŸ¥è¯†åº“é—®ç­”" tabindex="-1"><a class="header-anchor" href="#ç»ƒä¹ -3-çŸ¥è¯†åº“é—®ç­”"><span>ç»ƒä¹  3ï¼šçŸ¥è¯†åº“é—®ç­”</span></a></h3><p>åˆ›å»ºä¸€ä¸ªåŸºäº RAG çš„é—®ç­”ç³»ç»Ÿï¼š</p><ul><li>QuestionAnswerAdvisor</li><li>æ–‡æ¡£æ£€ç´¢</li><li>ç­”æ¡ˆç”Ÿæˆ</li></ul><hr><h2 id="ğŸ“–-æ¨èèµ„æº" tabindex="-1"><a class="header-anchor" href="#ğŸ“–-æ¨èèµ„æº"><span>ğŸ“– æ¨èèµ„æº</span></a></h2>`,27)),s("ul",null,[s("li",null,[s("a",w,[n[10]||(n[10]=a("Spring AI å®˜æ–¹æ–‡æ¡£",-1)),p(c)])]),s("li",null,[s("a",S,[n[11]||(n[11]=a("Spring AI GitHub",-1)),p(c)])]),s("li",null,[s("a",j,[n[12]||(n[12]=a("Spring AI Examples",-1)),p(c)])])]),n[22]||(n[22]=s("hr",null,null,-1)),n[23]||(n[23]=s("h2",{id:"ğŸš€-ä¸‹ä¸€æ­¥",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#ğŸš€-ä¸‹ä¸€æ­¥"},[s("span",null,"ğŸš€ ä¸‹ä¸€æ­¥")])],-1)),n[24]||(n[24]=s("p",null,"å®Œæˆ Spring AI å­¦ä¹ åï¼Œä½ å·²ç»å¯ä»¥æ„å»ºåŸºç¡€çš„ AI åº”ç”¨äº†ã€‚æ¥ä¸‹æ¥å­¦ä¹ ï¼š",-1)),s("p",null,[n[14]||(n[14]=s("strong",null,"ä¸‹ä¸€æ­¥",-1)),n[15]||(n[15]=a(" â†’ ",-1)),p(t,{to:"/tutorials/java-to-llm/06-vector-databases/"},{default:l(()=>[...n[13]||(n[13]=[a("ç¬¬å…­éƒ¨åˆ†ï¼šå‘é‡æ•°æ®åº“",-1)])]),_:1})]),n[25]||(n[25]=s("hr",null,null,-1)),n[26]||(n[26]=s("p",null,[s("strong",null,"Spring AI æ˜¯ Java å¼€å‘è€…è¿›å…¥ AI é¢†åŸŸçš„æœ€ä½³é€‰æ‹©ï¼"),a(" å®ƒè®©ä½ ç”¨ç†Ÿæ‚‰çš„ Spring æ–¹å¼æ„å»ºç”Ÿäº§çº§çš„ AI åº”ç”¨ã€‚ğŸš€")],-1))])}const _=o(k,[["render",x]]),R=JSON.parse('{"path":"/tutorials/java-to-llm/05-spring-ai/","title":"ç¬¬äº”éƒ¨åˆ†ï¼šSpring AI æ¡†æ¶","lang":"zh-CN","frontmatter":{"title":"ç¬¬äº”éƒ¨åˆ†ï¼šSpring AI æ¡†æ¶"},"headers":[{"level":2,"title":"ğŸ“– æœ¬éƒ¨åˆ†æ¦‚è¿°","slug":"ğŸ“–-æœ¬éƒ¨åˆ†æ¦‚è¿°","link":"#ğŸ“–-æœ¬éƒ¨åˆ†æ¦‚è¿°","children":[]},{"level":2,"title":"ğŸ¯ å­¦ä¹ ç›®æ ‡","slug":"ğŸ¯-å­¦ä¹ ç›®æ ‡","link":"#ğŸ¯-å­¦ä¹ ç›®æ ‡","children":[]},{"level":2,"title":"ğŸ’¡ ä¸ºä»€ä¹ˆé€‰æ‹© Spring AIï¼Ÿ","slug":"ğŸ’¡-ä¸ºä»€ä¹ˆé€‰æ‹©-spring-ai","link":"#ğŸ’¡-ä¸ºä»€ä¹ˆé€‰æ‹©-spring-ai","children":[{"level":3,"title":"vs Python (LangChain/LlamaIndex)","slug":"vs-python-langchain-llamaindex","link":"#vs-python-langchain-llamaindex","children":[]},{"level":3,"title":"Spring AI çš„æ ¸å¿ƒä¼˜åŠ¿","slug":"spring-ai-çš„æ ¸å¿ƒä¼˜åŠ¿","link":"#spring-ai-çš„æ ¸å¿ƒä¼˜åŠ¿","children":[]}]},{"level":2,"title":"ğŸ“š è¯¾ç¨‹å†…å®¹","slug":"ğŸ“š-è¯¾ç¨‹å†…å®¹","link":"#ğŸ“š-è¯¾ç¨‹å†…å®¹","children":[{"level":3,"title":"1. å¿«é€Ÿå¼€å§‹","slug":"_1-å¿«é€Ÿå¼€å§‹","link":"#_1-å¿«é€Ÿå¼€å§‹","children":[]},{"level":3,"title":"2. ChatClient API","slug":"_2-chatclient-api","link":"#_2-chatclient-api","children":[]},{"level":3,"title":"3. Function Calling","slug":"_3-function-calling","link":"#_3-function-calling","children":[]},{"level":3,"title":"4. Advisors API","slug":"_4-advisors-api","link":"#_4-advisors-api","children":[]},{"level":3,"title":"5. å¯è§‚æµ‹æ€§","slug":"_5-å¯è§‚æµ‹æ€§","link":"#_5-å¯è§‚æµ‹æ€§","children":[]}]},{"level":2,"title":"ğŸ› ï¸ å®æˆ˜ç»ƒä¹ ","slug":"ğŸ› ï¸-å®æˆ˜ç»ƒä¹ ","link":"#ğŸ› ï¸-å®æˆ˜ç»ƒä¹ ","children":[{"level":3,"title":"ç»ƒä¹  1ï¼šæ™ºèƒ½å®¢æœåŸºç¡€ç‰ˆ","slug":"ç»ƒä¹ -1-æ™ºèƒ½å®¢æœåŸºç¡€ç‰ˆ","link":"#ç»ƒä¹ -1-æ™ºèƒ½å®¢æœåŸºç¡€ç‰ˆ","children":[]},{"level":3,"title":"ç»ƒä¹  2ï¼šæ•°æ®æŸ¥è¯¢åŠ©æ‰‹","slug":"ç»ƒä¹ -2-æ•°æ®æŸ¥è¯¢åŠ©æ‰‹","link":"#ç»ƒä¹ -2-æ•°æ®æŸ¥è¯¢åŠ©æ‰‹","children":[]},{"level":3,"title":"ç»ƒä¹  3ï¼šçŸ¥è¯†åº“é—®ç­”","slug":"ç»ƒä¹ -3-çŸ¥è¯†åº“é—®ç­”","link":"#ç»ƒä¹ -3-çŸ¥è¯†åº“é—®ç­”","children":[]}]},{"level":2,"title":"ğŸ“– æ¨èèµ„æº","slug":"ğŸ“–-æ¨èèµ„æº","link":"#ğŸ“–-æ¨èèµ„æº","children":[]},{"level":2,"title":"ğŸš€ ä¸‹ä¸€æ­¥","slug":"ğŸš€-ä¸‹ä¸€æ­¥","link":"#ğŸš€-ä¸‹ä¸€æ­¥","children":[]}],"git":{"createdTime":1765251676000,"updatedTime":1765251676000,"contributors":[{"name":"CambridgeFoldingKnife","email":"3144253125@qq.com","commits":1}]},"filePathRelative":"tutorials/java-to-llm/05-spring-ai/README.md"}');export{_ as comp,R as data};
