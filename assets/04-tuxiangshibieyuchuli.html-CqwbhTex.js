import{_ as l,c as i,d as c,e as s,f as a,b as p,w as u,r as e,o as r}from"./app-D9dfRPMK.js";const k={},d={href:"https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/image-classification-guidelines-0000001820880605-V5",target:"_blank",rel:"noopener noreferrer"},v={href:"https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/ai-overview-0000001820880597-V5",target:"_blank",rel:"noopener noreferrer"},m={href:"https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-image-0000001821000413-V5",target:"_blank",rel:"noopener noreferrer"};function b(h,n){const t=e("ExternalLinkIcon"),o=e("RouteLink");return r(),i("div",null,[n[6]||(n[6]=c(`<h1 id="å›¾åƒè¯†åˆ«ä¸å¤„ç†" tabindex="-1"><a class="header-anchor" href="#å›¾åƒè¯†åˆ«ä¸å¤„ç†"><span>å›¾åƒè¯†åˆ«ä¸å¤„ç†</span></a></h1><blockquote><p>å®ç°å›¾åƒAIèƒ½åŠ›</p></blockquote><h2 id="ğŸ“·-å›¾åƒåˆ†ç±»" tabindex="-1"><a class="header-anchor" href="#ğŸ“·-å›¾åƒåˆ†ç±»"><span>ğŸ“· å›¾åƒåˆ†ç±»</span></a></h2><h3 id="åŸºç¡€å›¾åƒåˆ†ç±»" tabindex="-1"><a class="header-anchor" href="#åŸºç¡€å›¾åƒåˆ†ç±»"><span>åŸºç¡€å›¾åƒåˆ†ç±»</span></a></h3><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts" data-title="ts"><pre><code><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> imageClassifier <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@ohos.ai.vision&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// åˆ›å»ºåˆ†ç±»å™¨</span></span>
<span class="line"><span class="token keyword">const</span> classifier <span class="token operator">=</span> imageClassifier<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  modelType<span class="token operator">:</span> <span class="token string">&#39;MobileNetV3&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  topK<span class="token operator">:</span> <span class="token number">5</span>  <span class="token comment">// è¿”å›å‰5ä¸ªç»“æœ</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// åŠ è½½å›¾ç‰‡</span></span>
<span class="line"><span class="token keyword">const</span> imageData <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">loadImage</span><span class="token punctuation">(</span><span class="token string">&#39;path/to/image.jpg&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// æ‰§è¡Œåˆ†ç±»</span></span>
<span class="line"><span class="token keyword">const</span> results <span class="token operator">=</span> <span class="token keyword">await</span> classifier<span class="token punctuation">.</span><span class="token function">classify</span><span class="token punctuation">(</span>imageData<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">results<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>result<span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>index <span class="token operator">+</span> <span class="token number">1</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">. </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>result<span class="token punctuation">.</span>label<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>result<span class="token punctuation">.</span>confidence<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸ¯-å®æˆ˜æ¡ˆä¾‹-æ™ºèƒ½ç›¸å†Œ" tabindex="-1"><a class="header-anchor" href="#ğŸ¯-å®æˆ˜æ¡ˆä¾‹-æ™ºèƒ½ç›¸å†Œ"><span>ğŸ¯ å®æˆ˜æ¡ˆä¾‹ï¼šæ™ºèƒ½ç›¸å†Œ</span></a></h2><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts" data-title="ts"><pre><code><span class="line"><span class="token decorator"><span class="token at operator">@</span><span class="token function">Entry</span></span></span>
<span class="line"><span class="token decorator"><span class="token at operator">@</span><span class="token function">Component</span></span></span>
<span class="line">struct SmartAlbum <span class="token punctuation">{</span></span>
<span class="line">  <span class="token decorator"><span class="token at operator">@</span><span class="token function">State</span></span> photos<span class="token operator">:</span> Photo<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span></span>
<span class="line">  <span class="token decorator"><span class="token at operator">@</span><span class="token function">State</span></span> tags<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span></span>
<span class="line">  <span class="token keyword">private</span> classifier<span class="token operator">:</span> ImageClassifier</span>
<span class="line">  </span>
<span class="line">  <span class="token keyword">async</span> <span class="token function">aboutToAppear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span>classifier <span class="token operator">=</span> imageClassifier<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">scanPhotos</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  </span>
<span class="line">  <span class="token keyword">async</span> <span class="token function">scanPhotos</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> allPhotos <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getPhotoList</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    </span>
<span class="line">    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> photo <span class="token keyword">of</span> allPhotos<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">const</span> imageData <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">loadPhoto</span><span class="token punctuation">(</span>photo<span class="token punctuation">.</span>path<span class="token punctuation">)</span></span>
<span class="line">      <span class="token keyword">const</span> tags <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span>classifier<span class="token punctuation">.</span><span class="token function">classify</span><span class="token punctuation">(</span>imageData<span class="token punctuation">)</span></span>
<span class="line">      </span>
<span class="line">      photo<span class="token punctuation">.</span>tags <span class="token operator">=</span> tags<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>t <span class="token operator">=&gt;</span> t<span class="token punctuation">.</span>label<span class="token punctuation">)</span></span>
<span class="line">      <span class="token keyword">this</span><span class="token punctuation">.</span>photos<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>photo<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  </span>
<span class="line">  <span class="token keyword">async</span> <span class="token function">searchByText</span><span class="token punctuation">(</span>query<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>photos<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>photo <span class="token operator">=&gt;</span> </span>
<span class="line">      photo<span class="token punctuation">.</span>tags<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span>tag <span class="token operator">=&gt;</span> tag<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>query<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  </span>
<span class="line">  <span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">Column</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token function">SearchBar</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">        <span class="token function-variable function">onSearch</span><span class="token operator">:</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>text<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">          <span class="token keyword">const</span> results <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">searchByText</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span></span>
<span class="line">          <span class="token comment">// æ˜¾ç¤ºæœç´¢ç»“æœ</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">      <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">      </span>
<span class="line">      <span class="token function">Grid</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token function">ForEach</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>photos<span class="token punctuation">,</span> <span class="token punctuation">(</span>photo<span class="token operator">:</span> Photo<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">          <span class="token function">GridItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token function">Image</span><span class="token punctuation">(</span>photo<span class="token punctuation">.</span>path<span class="token punctuation">)</span></span>
<span class="line">          <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸ’¡-æœ€ä½³å®è·µ" tabindex="-1"><a class="header-anchor" href="#ğŸ’¡-æœ€ä½³å®è·µ"><span>ğŸ’¡ æœ€ä½³å®è·µ</span></a></h2><h3 id="_1-æ¨¡å‹é€‰æ‹©" tabindex="-1"><a class="header-anchor" href="#_1-æ¨¡å‹é€‰æ‹©"><span>1. æ¨¡å‹é€‰æ‹©</span></a></h3><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts" data-title="ts"><pre><code><span class="line"><span class="token comment">// ç§»åŠ¨ç«¯ä½¿ç”¨è½»é‡çº§æ¨¡å‹</span></span>
<span class="line"><span class="token keyword">const</span> classifier <span class="token operator">=</span> imageClassifier<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  modelType<span class="token operator">:</span> <span class="token string">&#39;MobileNetV3&#39;</span>  <span class="token comment">// å°è€Œå¿«</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-æ‰¹é‡å¤„ç†" tabindex="-1"><a class="header-anchor" href="#_2-æ‰¹é‡å¤„ç†"><span>2. æ‰¹é‡å¤„ç†</span></a></h3><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts" data-title="ts"><pre><code><span class="line"><span class="token keyword">const</span> results <span class="token operator">=</span> <span class="token keyword">await</span> classifier<span class="token punctuation">.</span><span class="token function">batchClassify</span><span class="token punctuation">(</span>images<span class="token punctuation">,</span> <span class="token punctuation">{</span></span>
<span class="line">  batchSize<span class="token operator">:</span> <span class="token number">16</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸ“š-å‚è€ƒèµ„æº" tabindex="-1"><a class="header-anchor" href="#ğŸ“š-å‚è€ƒèµ„æº"><span>ğŸ“š å‚è€ƒèµ„æº</span></a></h2>`,13)),s("ul",null,[s("li",null,[s("a",d,[n[0]||(n[0]=a("å›¾åƒåˆ†ç±»å¼€å‘æŒ‡å¯¼",-1)),p(t)])]),s("li",null,[s("a",v,[n[1]||(n[1]=a("AIèƒ½åŠ›æ¦‚è¿°",-1)),p(t)])]),s("li",null,[s("a",m,[n[2]||(n[2]=a("å›¾åƒKit",-1)),p(t)])])]),n[7]||(n[7]=s("hr",null,null,-1)),s("p",null,[n[4]||(n[4]=s("strong",null,"ç¬¬9ç« å®Œæˆï¼",-1)),n[5]||(n[5]=a(" ç»§ç»­å­¦ä¹  â†’ ",-1)),p(o,{to:"/tutorials/harmonyos-dev/10-distributed-next/"},{default:u(()=>[...n[3]||(n[3]=[a("ç¬¬10ç« ï¼šåˆ†å¸ƒå¼èƒ½åŠ›å‡çº§",-1)])]),_:1})])])}const g=l(k,[["render",b]]),y=JSON.parse('{"path":"/tutorials/harmonyos-dev/09-ai-native/04-tuxiangshibieyuchuli.html","title":"å›¾åƒè¯†åˆ«ä¸å¤„ç†","lang":"zh-CN","frontmatter":{"title":"å›¾åƒè¯†åˆ«ä¸å¤„ç†","date":"2025-01-22T00:00:00.000Z"},"headers":[{"level":2,"title":"ğŸ“· å›¾åƒåˆ†ç±»","slug":"ğŸ“·-å›¾åƒåˆ†ç±»","link":"#ğŸ“·-å›¾åƒåˆ†ç±»","children":[{"level":3,"title":"åŸºç¡€å›¾åƒåˆ†ç±»","slug":"åŸºç¡€å›¾åƒåˆ†ç±»","link":"#åŸºç¡€å›¾åƒåˆ†ç±»","children":[]}]},{"level":2,"title":"ğŸ¯ å®æˆ˜æ¡ˆä¾‹ï¼šæ™ºèƒ½ç›¸å†Œ","slug":"ğŸ¯-å®æˆ˜æ¡ˆä¾‹-æ™ºèƒ½ç›¸å†Œ","link":"#ğŸ¯-å®æˆ˜æ¡ˆä¾‹-æ™ºèƒ½ç›¸å†Œ","children":[]},{"level":2,"title":"ğŸ’¡ æœ€ä½³å®è·µ","slug":"ğŸ’¡-æœ€ä½³å®è·µ","link":"#ğŸ’¡-æœ€ä½³å®è·µ","children":[{"level":3,"title":"1. æ¨¡å‹é€‰æ‹©","slug":"_1-æ¨¡å‹é€‰æ‹©","link":"#_1-æ¨¡å‹é€‰æ‹©","children":[]},{"level":3,"title":"2. æ‰¹é‡å¤„ç†","slug":"_2-æ‰¹é‡å¤„ç†","link":"#_2-æ‰¹é‡å¤„ç†","children":[]}]},{"level":2,"title":"ğŸ“š å‚è€ƒèµ„æº","slug":"ğŸ“š-å‚è€ƒèµ„æº","link":"#ğŸ“š-å‚è€ƒèµ„æº","children":[]}],"git":{"createdTime":1765250065000,"updatedTime":1765250065000,"contributors":[{"name":"CambridgeFoldingKnife","email":"3144253125@qq.com","commits":1}]},"filePathRelative":"tutorials/harmonyos-dev/09-ai-native/04-å›¾åƒè¯†åˆ«ä¸å¤„ç†.md"}');export{g as comp,y as data};
