import{_ as o,c as u,d as l,e as s,f as a,b as t,w as e,r as c,o as r}from"./app-D9dfRPMK.js";const d={},k={id:"_1-agent-æ¦‚å¿µ",tabindex:"-1"},v={class:"header-anchor",href:"#_1-agent-æ¦‚å¿µ"},m={id:"_2-react-agent",tabindex:"-1"},g={class:"header-anchor",href:"#_2-react-agent"},b={id:"_3-å·¥å…·é›†æˆ",tabindex:"-1"},h={class:"header-anchor",href:"#_3-å·¥å…·é›†æˆ"},f={id:"_4-å¤š-agent-ç³»ç»Ÿ",tabindex:"-1"},y={class:"header-anchor",href:"#_4-å¤š-agent-ç³»ç»Ÿ"},q={id:"_5-langchain4j-æ¡†æ¶",tabindex:"-1"},A={class:"header-anchor",href:"#_5-langchain4j-æ¡†æ¶"},w={href:"https://docs.spring.io/spring-ai/reference/api/tools.html",target:"_blank",rel:"noopener noreferrer"},x={href:"https://docs.langchain4j.dev/",target:"_blank",rel:"noopener noreferrer"},j={href:"https://arxiv.org/abs/2210.03629",target:"_blank",rel:"noopener noreferrer"};function S(_,n){const p=c("RouteLink"),i=c("ExternalLinkIcon");return r(),u("div",null,[n[21]||(n[21]=l(`<h1 id="ç¬¬å…«éƒ¨åˆ†-agent-å¼€å‘-â­â­â­â­â­" tabindex="-1"><a class="header-anchor" href="#ç¬¬å…«éƒ¨åˆ†-agent-å¼€å‘-â­â­â­â­â­"><span>ç¬¬å…«éƒ¨åˆ†ï¼šAgent å¼€å‘ â­â­â­â­â­</span></a></h1><blockquote><p>æ„å»ºèƒ½å¤Ÿè‡ªä¸»æ€è€ƒå’Œè¡ŒåŠ¨çš„æ™ºèƒ½ä½“</p></blockquote><h2 id="ğŸ“–-æœ¬éƒ¨åˆ†æ¦‚è¿°" tabindex="-1"><a class="header-anchor" href="#ğŸ“–-æœ¬éƒ¨åˆ†æ¦‚è¿°"><span>ğŸ“– æœ¬éƒ¨åˆ†æ¦‚è¿°</span></a></h2><p><strong>Agentï¼ˆæ™ºèƒ½ä½“ï¼‰</strong> æ˜¯ AI åº”ç”¨çš„é«˜çº§å½¢æ€ï¼Œå®ƒä¸ä»…èƒ½å›ç­”é—®é¢˜ï¼Œè¿˜èƒ½ï¼š</p><ul><li>ğŸ¤” <strong>è‡ªä¸»è§„åˆ’</strong> - åˆ†è§£å¤æ‚ä»»åŠ¡</li><li>ğŸ”§ <strong>ä½¿ç”¨å·¥å…·</strong> - è°ƒç”¨å„ç§ API å’ŒæœåŠ¡</li><li>ğŸ”„ <strong>è¿­ä»£æ‰§è¡Œ</strong> - æ ¹æ®ç»“æœè°ƒæ•´ç­–ç•¥</li><li>ğŸ¤ <strong>åä½œ</strong> - å¤šä¸ª Agent ååŒå·¥ä½œ</li></ul><p><strong>å­¦ä¹ æ—¶é•¿ï¼š</strong> 4-6 å‘¨<br><strong>éš¾åº¦ï¼š</strong> â­â­â­â­â­<br><strong>é‡è¦ç¨‹åº¦ï¼š</strong> â­â­â­â­â­</p><hr><h2 id="ğŸ¯-å­¦ä¹ ç›®æ ‡" tabindex="-1"><a class="header-anchor" href="#ğŸ¯-å­¦ä¹ ç›®æ ‡"><span>ğŸ¯ å­¦ä¹ ç›®æ ‡</span></a></h2><ul><li>âœ… ç†è§£ Agent çš„æ ¸å¿ƒæ¦‚å¿µå’Œæ¶æ„</li><li>âœ… æŒæ¡ ReAct æ¨¡å¼</li><li>âœ… å®ç°å·¥å…·è°ƒç”¨ï¼ˆTool Callingï¼‰</li><li>âœ… æ„å»ºå¤š Agent åä½œç³»ç»Ÿ</li><li>âœ… ä½¿ç”¨ Spring AI å’Œ LangChain4j å¼€å‘ Agent</li></ul><hr><h2 id="ğŸ’¡-ä»€ä¹ˆæ˜¯-agent" tabindex="-1"><a class="header-anchor" href="#ğŸ’¡-ä»€ä¹ˆæ˜¯-agent"><span>ğŸ’¡ ä»€ä¹ˆæ˜¯ Agentï¼Ÿ</span></a></h2><h3 id="agent-vs-ç®€å•å¯¹è¯" tabindex="-1"><a class="header-anchor" href="#agent-vs-ç®€å•å¯¹è¯"><span>Agent vs ç®€å•å¯¹è¯</span></a></h3><table><thead><tr><th>ç‰¹æ€§</th><th>ç®€å•å¯¹è¯</th><th>Agent</th></tr></thead><tbody><tr><td><strong>èƒ½åŠ›</strong></td><td>å›ç­”é—®é¢˜</td><td>æ‰§è¡Œä»»åŠ¡</td></tr><tr><td><strong>å·¥å…·</strong></td><td>æ— </td><td>å¯ä½¿ç”¨å¤šç§å·¥å…·</td></tr><tr><td><strong>è§„åˆ’</strong></td><td>æ— </td><td>è‡ªä¸»è§„åˆ’æ­¥éª¤</td></tr><tr><td><strong>è¿­ä»£</strong></td><td>å•è½®</td><td>å¤šè½®è¿­ä»£</td></tr><tr><td><strong>ç¤ºä¾‹</strong></td><td>&quot;ä»€ä¹ˆæ˜¯ Javaï¼Ÿ&quot;</td><td>&quot;å¸®æˆ‘æŸ¥è¯¢é”€å”®æ•°æ®å¹¶ç”ŸæˆæŠ¥å‘Š&quot;</td></tr></tbody></table><h3 id="agent-å·¥ä½œæµç¨‹" tabindex="-1"><a class="header-anchor" href="#agent-å·¥ä½œæµç¨‹"><span>Agent å·¥ä½œæµç¨‹</span></a></h3><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">ç”¨æˆ·ï¼šå¸®æˆ‘æŸ¥åŒ—äº¬å¤©æ°”ï¼Œå¦‚æœæ¸©åº¦ä½äº10åº¦æ¨èç©¿è¡£å»ºè®®</span>
<span class="line"></span>
<span class="line">Agent æ€è€ƒï¼š</span>
<span class="line">1. æˆ‘éœ€è¦å…ˆæŸ¥è¯¢åŒ—äº¬å¤©æ°” â†’ ä½¿ç”¨å¤©æ°”å·¥å…·</span>
<span class="line">2. æ ¹æ®æ¸©åº¦åˆ¤æ–­ â†’ é€»è¾‘æ¨ç†</span>
<span class="line">3. å¦‚æœä½äº10åº¦ â†’ è°ƒç”¨ç©¿è¡£å»ºè®®å·¥å…·</span>
<span class="line">4. æ•´åˆä¿¡æ¯å›å¤ç”¨æˆ·</span>
<span class="line"></span>
<span class="line">æ‰§è¡Œï¼š</span>
<span class="line">â†’ è°ƒç”¨å¤©æ°”API â†’ è·å–æ¸©åº¦8åº¦</span>
<span class="line">â†’ åˆ¤æ–­éœ€è¦ç©¿è¡£å»ºè®®</span>
<span class="line">â†’ è°ƒç”¨ç©¿è¡£API â†’ è·å–å»ºè®®</span>
<span class="line">â†’ è¿”å›ç»¼åˆç­”æ¡ˆ</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="ğŸ“š-è¯¾ç¨‹å†…å®¹" tabindex="-1"><a class="header-anchor" href="#ğŸ“š-è¯¾ç¨‹å†…å®¹"><span>ğŸ“š è¯¾ç¨‹å†…å®¹</span></a></h2>`,17)),s("h3",k,[s("a",v,[s("span",null,[n[1]||(n[1]=a("1. ",-1)),t(p,{to:"/tutorials/java-to-llm/08-agent-development/agent-concepts/"},{default:e(()=>[...n[0]||(n[0]=[a("Agent æ¦‚å¿µ",-1)])]),_:1})])])]),n[22]||(n[22]=l(`<h4 id="_1-1-agent-çš„æ ¸å¿ƒç»„ä»¶" tabindex="-1"><a class="header-anchor" href="#_1-1-agent-çš„æ ¸å¿ƒç»„ä»¶"><span>1.1 Agent çš„æ ¸å¿ƒç»„ä»¶</span></a></h4><p><strong>å¤§è„‘ï¼ˆLLMï¼‰</strong></p><ul><li>æ¨ç†å’Œå†³ç­–</li><li>ç†è§£ä»»åŠ¡</li><li>ç”Ÿæˆæ‰§è¡Œè®¡åˆ’</li></ul><p><strong>è®°å¿†ï¼ˆMemoryï¼‰</strong></p><ul><li>çŸ­æœŸè®°å¿†ï¼šå½“å‰å¯¹è¯</li><li>é•¿æœŸè®°å¿†ï¼šå†å²ç»éªŒ</li><li>å·¥ä½œè®°å¿†ï¼šä»»åŠ¡çŠ¶æ€</li></ul><p><strong>å·¥å…·ï¼ˆToolsï¼‰</strong></p><ul><li>æœç´¢å¼•æ“</li><li>æ•°æ®åº“æŸ¥è¯¢</li><li>API è°ƒç”¨</li><li>ä»£ç æ‰§è¡Œ</li></ul><p><strong>è§„åˆ’å™¨ï¼ˆPlannerï¼‰</strong></p><ul><li>ä»»åŠ¡åˆ†è§£</li><li>æ­¥éª¤è§„åˆ’</li><li>ç­–ç•¥è°ƒæ•´</li></ul><h4 id="_1-2-agent-ç±»å‹" tabindex="-1"><a class="header-anchor" href="#_1-2-agent-ç±»å‹"><span>1.2 Agent ç±»å‹</span></a></h4><p><strong>ReAct Agent</strong> - æ¨ç†+è¡ŒåŠ¨</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">Thought â†’ Action â†’ Observation â†’ Thought â†’ ...</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>Plan-and-Execute Agent</strong> - å…ˆè§„åˆ’åæ‰§è¡Œ</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">Plan â†’ Execute Step 1 â†’ Execute Step 2 â†’ ...</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>Reflexion Agent</strong> - è‡ªæˆ‘åæ€</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">Try â†’ Reflect â†’ Improve â†’ Retry</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><hr>`,17)),s("h3",m,[s("a",g,[s("span",null,[n[3]||(n[3]=a("2. ",-1)),t(p,{to:"/tutorials/java-to-llm/08-agent-development/react-agent/"},{default:e(()=>[...n[2]||(n[2]=[a("ReAct Agent",-1)])]),_:1})])])]),n[23]||(n[23]=l(`<h4 id="_2-1-react-æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#_2-1-react-æ¨¡å¼"><span>2.1 ReAct æ¨¡å¼</span></a></h4><p><strong>ReAct = Reasoning (æ¨ç†) + Acting (è¡ŒåŠ¨)</strong></p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">Thought: æˆ‘éœ€è¦æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯</span>
<span class="line">Action: è°ƒç”¨ getUserInfo(userId=123)</span>
<span class="line">Observation: ç”¨æˆ·åï¼šå¼ ä¸‰ï¼Œå¹´é¾„ï¼š28</span>
<span class="line">Thought: ç°åœ¨æˆ‘çŸ¥é“ç”¨æˆ·ä¿¡æ¯äº†ï¼Œå¯ä»¥å›ç­”é—®é¢˜</span>
<span class="line">Final Answer: å¼ ä¸‰ä»Šå¹´28å²</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-2-spring-ai-å®ç°" tabindex="-1"><a class="header-anchor" href="#_2-2-spring-ai-å®ç°"><span>2.2 Spring AI å®ç°</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token annotation punctuation">@Service</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ReactAgentService</span> <span class="token punctuation">{</span></span>
<span class="line">    </span>
<span class="line">    <span class="token annotation punctuation">@Autowired</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">ChatClient</span> chatClient<span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token annotation punctuation">@Bean</span></span>
<span class="line">    <span class="token annotation punctuation">@Description</span><span class="token punctuation">(</span><span class="token string">&quot;æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">UserQuery</span><span class="token punctuation">,</span> <span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token function">getUserInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> query <span class="token operator">-&gt;</span> userRepository<span class="token punctuation">.</span><span class="token function">findById</span><span class="token punctuation">(</span>query<span class="token punctuation">.</span><span class="token function">userId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    </span>
<span class="line">    <span class="token annotation punctuation">@Bean</span></span>
<span class="line">    <span class="token annotation punctuation">@Description</span><span class="token punctuation">(</span><span class="token string">&quot;æŸ¥è¯¢è®¢å•ä¿¡æ¯&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">OrderQuery</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">Order</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">getOrders</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> query <span class="token operator">-&gt;</span> orderRepository<span class="token punctuation">.</span><span class="token function">findByUserId</span><span class="token punctuation">(</span>query<span class="token punctuation">.</span><span class="token function">userId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    </span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">executeTask</span><span class="token punctuation">(</span><span class="token class-name">String</span> task<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> chatClient<span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">system</span><span class="token punctuation">(</span><span class="token triple-quoted-string string">&quot;&quot;&quot;</span>
<span class="line">                ä½ æ˜¯ä¸€ä¸ªæ™ºèƒ½åŠ©æ‰‹ã€‚</span>
<span class="line">                ä½¿ç”¨æä¾›çš„å·¥å…·å®Œæˆä»»åŠ¡ã€‚</span>
<span class="line">                æ€è€ƒ â†’ è¡ŒåŠ¨ â†’ è§‚å¯Ÿ â†’ ç»§ç»­æ€è€ƒ...</span>
<span class="line">                &quot;&quot;&quot;</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">user</span><span class="token punctuation">(</span>task<span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">functions</span><span class="token punctuation">(</span><span class="token string">&quot;getUserInfo&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;getOrders&quot;</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">content</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹å¯¹è¯ï¼š</strong></p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">ç”¨æˆ·ï¼šæŸ¥è¯¢ç”¨æˆ·123çš„è®¢å•æ€»é¢</span>
<span class="line"></span>
<span class="line">Agent Thought: æˆ‘éœ€è¦å…ˆè·å–ç”¨æˆ·123çš„è®¢å•åˆ—è¡¨</span>
<span class="line">Action: getOrders(userId=123)</span>
<span class="line">Observation: [Order(id=1, amount=100), Order(id=2, amount=200)]</span>
<span class="line"></span>
<span class="line">Agent Thought: ç°åœ¨æˆ‘å¯ä»¥è®¡ç®—æ€»é¢äº†</span>
<span class="line">Action: è®¡ç®— 100 + 200</span>
<span class="line">Observation: 300</span>
<span class="line"></span>
<span class="line">Final Answer: ç”¨æˆ·123çš„è®¢å•æ€»é¢æ˜¯300å…ƒ</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr>`,8)),s("h3",b,[s("a",h,[s("span",null,[n[5]||(n[5]=a("3. ",-1)),t(p,{to:"/tutorials/java-to-llm/08-agent-development/tool-integration/"},{default:e(()=>[...n[4]||(n[4]=[a("å·¥å…·é›†æˆ",-1)])]),_:1})])])]),n[24]||(n[24]=l(`<h4 id="_3-1-å†…ç½®å·¥å…·" tabindex="-1"><a class="header-anchor" href="#_3-1-å†…ç½®å·¥å…·"><span>3.1 å†…ç½®å·¥å…·</span></a></h4><p><strong>ç½‘ç»œæœç´¢</strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token annotation punctuation">@Bean</span></span>
<span class="line"><span class="token annotation punctuation">@Description</span><span class="token punctuation">(</span><span class="token string">&quot;æœç´¢ç½‘é¡µ&quot;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SearchRequest</span><span class="token punctuation">,</span> <span class="token class-name">SearchResult</span><span class="token punctuation">&gt;</span></span> <span class="token function">webSearch</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> request <span class="token operator">-&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// ä½¿ç”¨ Google Search API</span></span>
<span class="line">        <span class="token keyword">return</span> googleSearchClient<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ•°æ®åº“æŸ¥è¯¢</strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token annotation punctuation">@Bean</span></span>
<span class="line"><span class="token annotation punctuation">@Description</span><span class="token punctuation">(</span><span class="token string">&quot;æ‰§è¡ŒSQLæŸ¥è¯¢&quot;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SqlQuery</span><span class="token punctuation">,</span> <span class="token class-name">QueryResult</span><span class="token punctuation">&gt;</span></span> <span class="token function">sqlTool</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> query <span class="token operator">-&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// å®‰å…¨æ£€æŸ¥</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isSafeQuery</span><span class="token punctuation">(</span>query<span class="token punctuation">.</span><span class="token function">sql</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">SecurityException</span><span class="token punctuation">(</span><span class="token string">&quot;Unsafe SQL&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        </span>
<span class="line">        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> results <span class="token operator">=</span> </span>
<span class="line">            jdbcTemplate<span class="token punctuation">.</span><span class="token function">queryForList</span><span class="token punctuation">(</span>query<span class="token punctuation">.</span><span class="token function">sql</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        </span>
<span class="line">        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">QueryResult</span><span class="token punctuation">(</span>results<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ–‡ä»¶æ“ä½œ</strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token annotation punctuation">@Bean</span></span>
<span class="line"><span class="token annotation punctuation">@Description</span><span class="token punctuation">(</span><span class="token string">&quot;è¯»å–æ–‡ä»¶å†…å®¹&quot;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">FileReadRequest</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">readFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> request <span class="token operator">-&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token class-name">Files</span><span class="token punctuation">.</span><span class="token function">readString</span><span class="token punctuation">(</span><span class="token class-name">Path</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">path</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token annotation punctuation">@Bean</span></span>
<span class="line"><span class="token annotation punctuation">@Description</span><span class="token punctuation">(</span><span class="token string">&quot;å†™å…¥æ–‡ä»¶&quot;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">FileWriteRequest</span><span class="token punctuation">,</span> <span class="token class-name">Boolean</span><span class="token punctuation">&gt;</span></span> <span class="token function">writeFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> request <span class="token operator">-&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">Files</span><span class="token punctuation">.</span><span class="token function">writeString</span><span class="token punctuation">(</span></span>
<span class="line">            <span class="token class-name">Path</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">path</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> </span>
<span class="line">            request<span class="token punctuation">.</span><span class="token function">content</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-2-è‡ªå®šä¹‰å·¥å…·" tabindex="-1"><a class="header-anchor" href="#_3-2-è‡ªå®šä¹‰å·¥å…·"><span>3.2 è‡ªå®šä¹‰å·¥å…·</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token annotation punctuation">@Component</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CustomTools</span> <span class="token punctuation">{</span></span>
<span class="line">    </span>
<span class="line">    <span class="token annotation punctuation">@Bean</span></span>
<span class="line">    <span class="token annotation punctuation">@Description</span><span class="token punctuation">(</span><span class="token string">&quot;å‘é€é‚®ä»¶&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">EmailRequest</span><span class="token punctuation">,</span> <span class="token class-name">Boolean</span><span class="token punctuation">&gt;</span></span> <span class="token function">sendEmail</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> request <span class="token operator">-&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">            mailSender<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span></span>
<span class="line">                request<span class="token punctuation">.</span><span class="token keyword">to</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">                request<span class="token punctuation">.</span><span class="token function">subject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">                request<span class="token punctuation">.</span><span class="token function">body</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    </span>
<span class="line">    <span class="token annotation punctuation">@Bean</span></span>
<span class="line">    <span class="token annotation punctuation">@Description</span><span class="token punctuation">(</span><span class="token string">&quot;åˆ›å»ºå·¥å•&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">TicketRequest</span><span class="token punctuation">,</span> <span class="token class-name">Ticket</span><span class="token punctuation">&gt;</span></span> <span class="token function">createTicket</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> request <span class="token operator">-&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token class-name">Ticket</span> ticket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Ticket</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            ticket<span class="token punctuation">.</span><span class="token function">setTitle</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">title</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            ticket<span class="token punctuation">.</span><span class="token function">setDescription</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">description</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            ticket<span class="token punctuation">.</span><span class="token function">setPriority</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">priority</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token keyword">return</span> ticketRepository<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>ticket<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    </span>
<span class="line">    <span class="token annotation punctuation">@Bean</span></span>
<span class="line">    <span class="token annotation punctuation">@Description</span><span class="token punctuation">(</span><span class="token string">&quot;è°ƒç”¨ç¬¬ä¸‰æ–¹API&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ApiRequest</span><span class="token punctuation">,</span> <span class="token class-name">ApiResponse</span><span class="token punctuation">&gt;</span></span> <span class="token function">callExternalApi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> request <span class="token operator">-&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">return</span> restTemplate<span class="token punctuation">.</span><span class="token function">postForObject</span><span class="token punctuation">(</span></span>
<span class="line">                request<span class="token punctuation">.</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">                request<span class="token punctuation">.</span><span class="token function">body</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">                <span class="token class-name">ApiResponse</span><span class="token punctuation">.</span><span class="token keyword">class</span></span>
<span class="line">            <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-3-å·¥å…·ç»„åˆä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#_3-3-å·¥å…·ç»„åˆä½¿ç”¨"><span>3.3 å·¥å…·ç»„åˆä½¿ç”¨</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">complexTask</span><span class="token punctuation">(</span><span class="token class-name">String</span> task<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> chatClient<span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">system</span><span class="token punctuation">(</span><span class="token string">&quot;ä½ å¯ä»¥ä½¿ç”¨å¤šä¸ªå·¥å…·å®Œæˆå¤æ‚ä»»åŠ¡&quot;</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">user</span><span class="token punctuation">(</span>task<span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">functions</span><span class="token punctuation">(</span></span>
<span class="line">            <span class="token string">&quot;webSearch&quot;</span><span class="token punctuation">,</span>      <span class="token comment">// æœç´¢ä¿¡æ¯</span></span>
<span class="line">            <span class="token string">&quot;sqlTool&quot;</span><span class="token punctuation">,</span>        <span class="token comment">// æŸ¥è¯¢æ•°æ®åº“</span></span>
<span class="line">            <span class="token string">&quot;sendEmail&quot;</span><span class="token punctuation">,</span>      <span class="token comment">// å‘é€é‚®ä»¶</span></span>
<span class="line">            <span class="token string">&quot;createTicket&quot;</span>    <span class="token comment">// åˆ›å»ºå·¥å•</span></span>
<span class="line">        <span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">content</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// ç¤ºä¾‹ï¼š</span></span>
<span class="line"><span class="token comment">// ç”¨æˆ·ï¼š&quot;æŸ¥è¯¢é”€å”®æ•°æ®ï¼Œç”ŸæˆæŠ¥å‘Šï¼Œå¹¶å‘é€ç»™è€æ¿&quot;</span></span>
<span class="line"><span class="token comment">// Agent ä¼šï¼š</span></span>
<span class="line"><span class="token comment">// 1. è°ƒç”¨ sqlTool æŸ¥è¯¢æ•°æ®</span></span>
<span class="line"><span class="token comment">// 2. åˆ†ææ•°æ®ç”ŸæˆæŠ¥å‘Š</span></span>
<span class="line"><span class="token comment">// 3. è°ƒç”¨ sendEmail å‘é€é‚®ä»¶</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr>`,12)),s("h3",f,[s("a",y,[s("span",null,[n[7]||(n[7]=a("4. ",-1)),t(p,{to:"/tutorials/java-to-llm/08-agent-development/multi-agent/"},{default:e(()=>[...n[6]||(n[6]=[a("å¤š Agent ç³»ç»Ÿ",-1)])]),_:1})])])]),n[25]||(n[25]=l(`<h4 id="_4-1-agent-åä½œæ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#_4-1-agent-åä½œæ¨¡å¼"><span>4.1 Agent åä½œæ¨¡å¼</span></a></h4><p><strong>ä¸»ä»æ¨¡å¼ï¼ˆMaster-Workerï¼‰</strong></p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">Manager Agent</span>
<span class="line">â”œâ”€â”€ Worker Agent 1 (æ•°æ®æ”¶é›†)</span>
<span class="line">â”œâ”€â”€ Worker Agent 2 (æ•°æ®åˆ†æ)</span>
<span class="line">â””â”€â”€ Worker Agent 3 (æŠ¥å‘Šç”Ÿæˆ)</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æµæ°´çº¿æ¨¡å¼ï¼ˆPipelineï¼‰</strong></p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">Agent 1 â†’ Agent 2 â†’ Agent 3 â†’ Final Result</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>è®¨è®ºæ¨¡å¼ï¼ˆDebateï¼‰</strong></p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">Agent A: è§‚ç‚¹1</span>
<span class="line">Agent B: åé©³</span>
<span class="line">Agent A: åé©³</span>
<span class="line">...</span>
<span class="line">Moderator: æ€»ç»“</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-2-å®ç°ç¤ºä¾‹" tabindex="-1"><a class="header-anchor" href="#_4-2-å®ç°ç¤ºä¾‹"><span>4.2 å®ç°ç¤ºä¾‹</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token annotation punctuation">@Service</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MultiAgentSystem</span> <span class="token punctuation">{</span></span>
<span class="line">    </span>
<span class="line">    <span class="token comment">// Coordinator Agent</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">ChatClient</span> coordinatorAgent<span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token comment">// Worker Agents</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">ChatClient</span> researcherAgent<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">ChatClient</span> coderAgent<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">ChatClient</span> reviewerAgent<span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">executeComplexTask</span><span class="token punctuation">(</span><span class="token class-name">String</span> task<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// 1. Coordinator åˆ†è§£ä»»åŠ¡</span></span>
<span class="line">        <span class="token class-name">TaskPlan</span> plan <span class="token operator">=</span> coordinatorAgent<span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">system</span><span class="token punctuation">(</span><span class="token string">&quot;ä½ æ˜¯ä»»åŠ¡åè°ƒè€…ï¼Œå°†å¤æ‚ä»»åŠ¡åˆ†è§£ä¸ºå­ä»»åŠ¡&quot;</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">user</span><span class="token punctuation">(</span>task<span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">entity</span><span class="token punctuation">(</span><span class="token class-name">TaskPlan</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        </span>
<span class="line">        <span class="token comment">// 2. åˆ†é…ç»™ä¸åŒ Agent</span></span>
<span class="line">        <span class="token class-name">String</span> research <span class="token operator">=</span> researcherAgent<span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">user</span><span class="token punctuation">(</span>plan<span class="token punctuation">.</span><span class="token function">getSubTask1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">content</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        </span>
<span class="line">        <span class="token class-name">String</span> code <span class="token operator">=</span> coderAgent<span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">user</span><span class="token punctuation">(</span>plan<span class="token punctuation">.</span><span class="token function">getSubTask2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\\nèƒŒæ™¯ï¼š&quot;</span> <span class="token operator">+</span> research<span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">content</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        </span>
<span class="line">        <span class="token class-name">String</span> review <span class="token operator">=</span> reviewerAgent<span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">user</span><span class="token punctuation">(</span><span class="token string">&quot;å®¡æŸ¥ä»£ç ï¼š\\n&quot;</span> <span class="token operator">+</span> code<span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">content</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        </span>
<span class="line">        <span class="token comment">// 3. Coordinator æ•´åˆç»“æœ</span></span>
<span class="line">        <span class="token keyword">return</span> coordinatorAgent<span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">user</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token triple-quoted-string string">&quot;&quot;&quot;</span>
<span class="line">                ä»»åŠ¡ï¼š%s</span>
<span class="line">                ç ”ç©¶ç»“æœï¼š%s</span>
<span class="line">                ä»£ç ï¼š%s</span>
<span class="line">                å®¡æŸ¥æ„è§ï¼š%s</span>
<span class="line">                è¯·æ•´åˆä»¥ä¸Šä¿¡æ¯ç»™å‡ºæœ€ç»ˆç­”æ¡ˆ</span>
<span class="line">                &quot;&quot;&quot;</span><span class="token punctuation">,</span> task<span class="token punctuation">,</span> research<span class="token punctuation">,</span> code<span class="token punctuation">,</span> review<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">content</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-3-agent-é€šä¿¡" tabindex="-1"><a class="header-anchor" href="#_4-3-agent-é€šä¿¡"><span>4.3 Agent é€šä¿¡</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token annotation punctuation">@Service</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AgentCommunicationService</span> <span class="token punctuation">{</span></span>
<span class="line">    </span>
<span class="line">    <span class="token annotation punctuation">@Autowired</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">RedisTemplate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Message</span><span class="token punctuation">&gt;</span></span> redis<span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token comment">// Agent å‘é€æ¶ˆæ¯</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sendMessage</span><span class="token punctuation">(</span><span class="token class-name">String</span> fromAgent<span class="token punctuation">,</span> <span class="token class-name">String</span> toAgent<span class="token punctuation">,</span> <span class="token class-name">String</span> content<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">Message</span> msg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Message</span><span class="token punctuation">(</span>fromAgent<span class="token punctuation">,</span> toAgent<span class="token punctuation">,</span> content<span class="token punctuation">,</span> <span class="token class-name">Instant</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        redis<span class="token punctuation">.</span><span class="token function">opsForList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">rightPush</span><span class="token punctuation">(</span><span class="token string">&quot;agent:&quot;</span> <span class="token operator">+</span> toAgent<span class="token punctuation">,</span> msg<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    </span>
<span class="line">    <span class="token comment">// Agent æ¥æ”¶æ¶ˆæ¯</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Message</span><span class="token punctuation">&gt;</span></span> <span class="token function">receiveMessages</span><span class="token punctuation">(</span><span class="token class-name">String</span> agentId<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Message</span><span class="token punctuation">&gt;</span></span> messages <span class="token operator">=</span> redis<span class="token punctuation">.</span><span class="token function">opsForList</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span><span class="token string">&quot;agent:&quot;</span> <span class="token operator">+</span> agentId<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        redis<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token string">&quot;agent:&quot;</span> <span class="token operator">+</span> agentId<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">return</span> messages<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    </span>
<span class="line">    <span class="token comment">// Agent å¹¿æ’­</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">broadcast</span><span class="token punctuation">(</span><span class="token class-name">String</span> fromAgent<span class="token punctuation">,</span> <span class="token class-name">String</span> content<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> allAgents <span class="token operator">=</span> <span class="token class-name">List</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span></span>
<span class="line">            <span class="token string">&quot;researcher&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;coder&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;reviewer&quot;</span></span>
<span class="line">        <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        </span>
<span class="line">        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> agent <span class="token operator">:</span> allAgents<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>agent<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>fromAgent<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                <span class="token function">sendMessage</span><span class="token punctuation">(</span>fromAgent<span class="token punctuation">,</span> agent<span class="token punctuation">,</span> content<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr>`,12)),s("h3",q,[s("a",A,[s("span",null,[n[9]||(n[9]=a("5. ",-1)),t(p,{to:"/tutorials/java-to-llm/08-agent-development/langchain4j/"},{default:e(()=>[...n[8]||(n[8]=[a("LangChain4j æ¡†æ¶",-1)])]),_:1})])])]),n[26]||(n[26]=l(`<h4 id="_5-1-langchain4j-ç®€ä»‹" tabindex="-1"><a class="header-anchor" href="#_5-1-langchain4j-ç®€ä»‹"><span>5.1 LangChain4j ç®€ä»‹</span></a></h4><p><strong>LangChain4j</strong> æ˜¯ Java ç‰ˆçš„ LangChainï¼Œæä¾›æ›´ä¸°å¯Œçš„ Agent åŠŸèƒ½ã€‚</p><div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml" data-title="xml"><pre><code><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>dev.langchain4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>langchain4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>0.27.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_5-2-langchain4j-agent" tabindex="-1"><a class="header-anchor" href="#_5-2-langchain4j-agent"><span>5.2 LangChain4j Agent</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">dev<span class="token punctuation">.</span>langchain4j<span class="token punctuation">.</span>agent<span class="token punctuation">.</span>tool<span class="token punctuation">.</span></span><span class="token class-name">Tool</span></span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">dev<span class="token punctuation">.</span>langchain4j<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">AiServices</span></span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LangChain4jAgent</span> <span class="token punctuation">{</span></span>
<span class="line">    </span>
<span class="line">    <span class="token comment">// å®šä¹‰å·¥å…·</span></span>
<span class="line">    <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">DatabaseTools</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token annotation punctuation">@Tool</span><span class="token punctuation">(</span><span class="token string">&quot;æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯&quot;</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getUserInfo</span><span class="token punctuation">(</span><span class="token class-name">String</span> userId<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">return</span> userService<span class="token punctuation">.</span><span class="token function">findById</span><span class="token punctuation">(</span>userId<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        </span>
<span class="line">        <span class="token annotation punctuation">@Tool</span><span class="token punctuation">(</span><span class="token string">&quot;æŸ¥è¯¢è®¢å•&quot;</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getOrders</span><span class="token punctuation">(</span><span class="token class-name">String</span> userId<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">return</span> orderService<span class="token punctuation">.</span><span class="token function">findByUserId</span><span class="token punctuation">(</span>userId<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    </span>
<span class="line">    <span class="token comment">// å®šä¹‰ Agent æ¥å£</span></span>
<span class="line">    <span class="token keyword">interface</span> <span class="token class-name">Assistant</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">String</span> <span class="token function">chat</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    </span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// åˆ›å»º Agent</span></span>
<span class="line">        <span class="token class-name">Assistant</span> agent <span class="token operator">=</span> <span class="token class-name">AiServices</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token class-name">Assistant</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">chatLanguageModel</span><span class="token punctuation">(</span>openAiModel<span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">tools</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">DatabaseTools</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        </span>
<span class="line">        <span class="token comment">// ä½¿ç”¨ Agent</span></span>
<span class="line">        <span class="token class-name">String</span> answer <span class="token operator">=</span> agent<span class="token punctuation">.</span><span class="token function">chat</span><span class="token punctuation">(</span><span class="token string">&quot;æŸ¥è¯¢ç”¨æˆ·123çš„è®¢å•ä¿¡æ¯&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>answer<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="ğŸ¯-agent-è®¾è®¡æœ€ä½³å®è·µ" tabindex="-1"><a class="header-anchor" href="#ğŸ¯-agent-è®¾è®¡æœ€ä½³å®è·µ"><span>ğŸ¯ Agent è®¾è®¡æœ€ä½³å®è·µ</span></a></h2><h3 id="_1-å·¥å…·è®¾è®¡åŸåˆ™" tabindex="-1"><a class="header-anchor" href="#_1-å·¥å…·è®¾è®¡åŸåˆ™"><span>1. å·¥å…·è®¾è®¡åŸåˆ™</span></a></h3><p>âœ… <strong>å•ä¸€èŒè´£</strong> - æ¯ä¸ªå·¥å…·åªåšä¸€ä»¶äº‹<br> âœ… <strong>æ¸…æ™°æè¿°</strong> - @Description è¦å‡†ç¡®æè¿°åŠŸèƒ½<br> âœ… <strong>é”™è¯¯å¤„ç†</strong> - å·¥å…·è¦æœ‰è‰¯å¥½çš„é”™è¯¯å¤„ç†<br> âœ… <strong>å¹‚ç­‰æ€§</strong> - åŒæ ·çš„è¾“å…¥äº§ç”ŸåŒæ ·çš„è¾“å‡º<br> âœ… <strong>å®‰å…¨æ€§</strong> - éªŒè¯è¾“å…¥ï¼Œé˜²æ­¢æ³¨å…¥æ”»å‡»</p><h3 id="_2-agent-æç¤ºè¯æ¨¡æ¿" tabindex="-1"><a class="header-anchor" href="#_2-agent-æç¤ºè¯æ¨¡æ¿"><span>2. Agent æç¤ºè¯æ¨¡æ¿</span></a></h3><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token class-name">String</span> agentSystemPrompt <span class="token operator">=</span> <span class="token triple-quoted-string string">&quot;&quot;&quot;</span>
<span class="line">ä½ æ˜¯ä¸€ä¸ªæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥ä½¿ç”¨å·¥å…·å®Œæˆä»»åŠ¡ã€‚</span>
<span class="line"></span>
<span class="line">å·¥ä½œæµç¨‹ï¼š</span>
<span class="line">1. Thought: æ€è€ƒéœ€è¦åšä»€ä¹ˆ</span>
<span class="line">2. Action: é€‰æ‹©å¹¶è°ƒç”¨åˆé€‚çš„å·¥å…·</span>
<span class="line">3. Observation: è§‚å¯Ÿå·¥å…·è¿”å›çš„ç»“æœ</span>
<span class="line">4. é‡å¤ 1-3 ç›´åˆ°ä»»åŠ¡å®Œæˆ</span>
<span class="line">5. Final Answer: ç»™å‡ºæœ€ç»ˆç­”æ¡ˆ</span>
<span class="line"></span>
<span class="line">æ³¨æ„äº‹é¡¹ï¼š</span>
<span class="line">- åªè°ƒç”¨çœŸæ­£éœ€è¦çš„å·¥å…·</span>
<span class="line">- ä»”ç»†è§‚å¯Ÿå·¥å…·è¿”å›ç»“æœ</span>
<span class="line">- å¦‚æœå·¥å…·å¤±è´¥ï¼Œå°è¯•å…¶ä»–æ–¹æ³•</span>
<span class="line">- æœ€åç»™å‡ºæ¸…æ™°çš„ç­”æ¡ˆ</span>
<span class="line">&quot;&quot;&quot;</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-é”™è¯¯å¤„ç†" tabindex="-1"><a class="header-anchor" href="#_3-é”™è¯¯å¤„ç†"><span>3. é”™è¯¯å¤„ç†</span></a></h3><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token annotation punctuation">@Service</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RobustAgentService</span> <span class="token punctuation">{</span></span>
<span class="line">    </span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">executeWithRetry</span><span class="token punctuation">(</span><span class="token class-name">String</span> task<span class="token punctuation">,</span> <span class="token keyword">int</span> maxRetries<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">int</span> attempts <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">Exception</span> lastError <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span></span>
<span class="line">        </span>
<span class="line">        <span class="token keyword">while</span> <span class="token punctuation">(</span>attempts <span class="token operator">&lt;</span> maxRetries<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">try</span> <span class="token punctuation">{</span></span>
<span class="line">                <span class="token keyword">return</span> chatClient<span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">                    <span class="token punctuation">.</span><span class="token function">user</span><span class="token punctuation">(</span>task<span class="token punctuation">)</span></span>
<span class="line">                    <span class="token punctuation">.</span><span class="token function">functions</span><span class="token punctuation">(</span><span class="token string">&quot;tool1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;tool2&quot;</span><span class="token punctuation">)</span></span>
<span class="line">                    <span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">                    <span class="token punctuation">.</span><span class="token function">content</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                lastError <span class="token operator">=</span> e<span class="token punctuation">;</span></span>
<span class="line">                attempts<span class="token operator">++</span><span class="token punctuation">;</span></span>
<span class="line">                log<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">&quot;Attempt {} failed: {}&quot;</span><span class="token punctuation">,</span> attempts<span class="token punctuation">,</span> e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                </span>
<span class="line">                <span class="token comment">// ç­‰å¾…åé‡è¯•</span></span>
<span class="line">                <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span> <span class="token operator">*</span> attempts<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        </span>
<span class="line">        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">AgentExecutionException</span><span class="token punctuation">(</span></span>
<span class="line">            <span class="token string">&quot;Failed after &quot;</span> <span class="token operator">+</span> maxRetries <span class="token operator">+</span> <span class="token string">&quot; attempts&quot;</span><span class="token punctuation">,</span> </span>
<span class="line">            lastError</span>
<span class="line">        <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="ğŸš€-å®æˆ˜é¡¹ç›®" tabindex="-1"><a class="header-anchor" href="#ğŸš€-å®æˆ˜é¡¹ç›®"><span>ğŸš€ å®æˆ˜é¡¹ç›®</span></a></h2><h3 id="é¡¹ç›®-1-ä¸ªäººåŠ©ç†-agent" tabindex="-1"><a class="header-anchor" href="#é¡¹ç›®-1-ä¸ªäººåŠ©ç†-agent"><span>é¡¹ç›® 1ï¼šä¸ªäººåŠ©ç† Agent</span></a></h3><ul><li>æ—¥ç¨‹ç®¡ç†</li><li>é‚®ä»¶å¤„ç†</li><li>ä»»åŠ¡æé†’</li></ul><h3 id="é¡¹ç›®-2-æ•°æ®åˆ†æ-agent" tabindex="-1"><a class="header-anchor" href="#é¡¹ç›®-2-æ•°æ®åˆ†æ-agent"><span>é¡¹ç›® 2ï¼šæ•°æ®åˆ†æ Agent</span></a></h3><ul><li>è‡ªåŠ¨æŸ¥è¯¢æ•°æ®</li><li>ç”Ÿæˆå¯è§†åŒ–å›¾è¡¨</li><li>ç¼–å†™åˆ†ææŠ¥å‘Š</li></ul><h3 id="é¡¹ç›®-3-devops-agent" tabindex="-1"><a class="header-anchor" href="#é¡¹ç›®-3-devops-agent"><span>é¡¹ç›® 3ï¼šDevOps Agent</span></a></h3><ul><li>ç›‘æ§ç³»ç»ŸçŠ¶æ€</li><li>è‡ªåŠ¨éƒ¨ç½²</li><li>æ•…éšœè¯Šæ–­</li></ul><hr><h2 id="ğŸ“–-æ¨èèµ„æº" tabindex="-1"><a class="header-anchor" href="#ğŸ“–-æ¨èèµ„æº"><span>ğŸ“– æ¨èèµ„æº</span></a></h2>`,23)),s("ul",null,[s("li",null,[s("a",w,[n[10]||(n[10]=a("Spring AI Tools æ–‡æ¡£",-1)),t(i)])]),s("li",null,[s("a",x,[n[11]||(n[11]=a("LangChain4j æ–‡æ¡£",-1)),t(i)])]),s("li",null,[s("a",j,[n[12]||(n[12]=a("ReAct è®ºæ–‡",-1)),t(i)])])]),n[27]||(n[27]=s("hr",null,null,-1)),n[28]||(n[28]=s("h2",{id:"ğŸš€-ä¸‹ä¸€æ­¥",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#ğŸš€-ä¸‹ä¸€æ­¥"},[s("span",null,"ğŸš€ ä¸‹ä¸€æ­¥")])],-1)),s("p",null,[n[15]||(n[15]=s("strong",null,"ä¸‹ä¸€æ­¥",-1)),n[16]||(n[16]=a(" â†’ ",-1)),t(p,{to:"/tutorials/java-to-llm/09-fine-tuning/"},{default:e(()=>[...n[13]||(n[13]=[a("ç¬¬ä¹éƒ¨åˆ†ï¼šæ¨¡å‹å¾®è°ƒ",-1)])]),_:1}),n[17]||(n[17]=a("ï¼ˆå¯é€‰ï¼‰",-1)),n[18]||(n[18]=s("br",null,null,-1)),n[19]||(n[19]=s("strong",null,"æˆ–è·³åˆ°",-1)),n[20]||(n[20]=a(" â†’ ",-1)),t(p,{to:"/tutorials/java-to-llm/10-enterprise-practices/"},{default:e(()=>[...n[14]||(n[14]=[a("ç¬¬åéƒ¨åˆ†ï¼šä¼ä¸šçº§å®è·µ",-1)])]),_:1})]),n[29]||(n[29]=s("hr",null,null,-1)),n[30]||(n[30]=s("p",null,[s("strong",null,"Agent æ˜¯ AI åº”ç”¨çš„æœªæ¥ï¼"),a(" ä»ç®€å•çš„å·¥å…·è°ƒç”¨åˆ°å¤æ‚çš„å¤š Agent åä½œï¼ŒAgent èƒ½å¤Ÿå®Œæˆè¶Šæ¥è¶Šå¤æ‚çš„ä»»åŠ¡ã€‚ğŸ¤–")],-1))])}const I=o(d,[["render",S]]),R=JSON.parse('{"path":"/tutorials/java-to-llm/08-agent-development/","title":"ç¬¬å…«éƒ¨åˆ†ï¼šAgent å¼€å‘","lang":"zh-CN","frontmatter":{"title":"ç¬¬å…«éƒ¨åˆ†ï¼šAgent å¼€å‘"},"headers":[{"level":2,"title":"ğŸ“– æœ¬éƒ¨åˆ†æ¦‚è¿°","slug":"ğŸ“–-æœ¬éƒ¨åˆ†æ¦‚è¿°","link":"#ğŸ“–-æœ¬éƒ¨åˆ†æ¦‚è¿°","children":[]},{"level":2,"title":"ğŸ¯ å­¦ä¹ ç›®æ ‡","slug":"ğŸ¯-å­¦ä¹ ç›®æ ‡","link":"#ğŸ¯-å­¦ä¹ ç›®æ ‡","children":[]},{"level":2,"title":"ğŸ’¡ ä»€ä¹ˆæ˜¯ Agentï¼Ÿ","slug":"ğŸ’¡-ä»€ä¹ˆæ˜¯-agent","link":"#ğŸ’¡-ä»€ä¹ˆæ˜¯-agent","children":[{"level":3,"title":"Agent vs ç®€å•å¯¹è¯","slug":"agent-vs-ç®€å•å¯¹è¯","link":"#agent-vs-ç®€å•å¯¹è¯","children":[]},{"level":3,"title":"Agent å·¥ä½œæµç¨‹","slug":"agent-å·¥ä½œæµç¨‹","link":"#agent-å·¥ä½œæµç¨‹","children":[]}]},{"level":2,"title":"ğŸ“š è¯¾ç¨‹å†…å®¹","slug":"ğŸ“š-è¯¾ç¨‹å†…å®¹","link":"#ğŸ“š-è¯¾ç¨‹å†…å®¹","children":[{"level":3,"title":"1. Agent æ¦‚å¿µ","slug":"_1-agent-æ¦‚å¿µ","link":"#_1-agent-æ¦‚å¿µ","children":[]},{"level":3,"title":"2. ReAct Agent","slug":"_2-react-agent","link":"#_2-react-agent","children":[]},{"level":3,"title":"3. å·¥å…·é›†æˆ","slug":"_3-å·¥å…·é›†æˆ","link":"#_3-å·¥å…·é›†æˆ","children":[]},{"level":3,"title":"4. å¤š Agent ç³»ç»Ÿ","slug":"_4-å¤š-agent-ç³»ç»Ÿ","link":"#_4-å¤š-agent-ç³»ç»Ÿ","children":[]},{"level":3,"title":"5. LangChain4j æ¡†æ¶","slug":"_5-langchain4j-æ¡†æ¶","link":"#_5-langchain4j-æ¡†æ¶","children":[]}]},{"level":2,"title":"ğŸ¯ Agent è®¾è®¡æœ€ä½³å®è·µ","slug":"ğŸ¯-agent-è®¾è®¡æœ€ä½³å®è·µ","link":"#ğŸ¯-agent-è®¾è®¡æœ€ä½³å®è·µ","children":[{"level":3,"title":"1. å·¥å…·è®¾è®¡åŸåˆ™","slug":"_1-å·¥å…·è®¾è®¡åŸåˆ™","link":"#_1-å·¥å…·è®¾è®¡åŸåˆ™","children":[]},{"level":3,"title":"2. Agent æç¤ºè¯æ¨¡æ¿","slug":"_2-agent-æç¤ºè¯æ¨¡æ¿","link":"#_2-agent-æç¤ºè¯æ¨¡æ¿","children":[]},{"level":3,"title":"3. é”™è¯¯å¤„ç†","slug":"_3-é”™è¯¯å¤„ç†","link":"#_3-é”™è¯¯å¤„ç†","children":[]}]},{"level":2,"title":"ğŸš€ å®æˆ˜é¡¹ç›®","slug":"ğŸš€-å®æˆ˜é¡¹ç›®","link":"#ğŸš€-å®æˆ˜é¡¹ç›®","children":[{"level":3,"title":"é¡¹ç›® 1ï¼šä¸ªäººåŠ©ç† Agent","slug":"é¡¹ç›®-1-ä¸ªäººåŠ©ç†-agent","link":"#é¡¹ç›®-1-ä¸ªäººåŠ©ç†-agent","children":[]},{"level":3,"title":"é¡¹ç›® 2ï¼šæ•°æ®åˆ†æ Agent","slug":"é¡¹ç›®-2-æ•°æ®åˆ†æ-agent","link":"#é¡¹ç›®-2-æ•°æ®åˆ†æ-agent","children":[]},{"level":3,"title":"é¡¹ç›® 3ï¼šDevOps Agent","slug":"é¡¹ç›®-3-devops-agent","link":"#é¡¹ç›®-3-devops-agent","children":[]}]},{"level":2,"title":"ğŸ“– æ¨èèµ„æº","slug":"ğŸ“–-æ¨èèµ„æº","link":"#ğŸ“–-æ¨èèµ„æº","children":[]},{"level":2,"title":"ğŸš€ ä¸‹ä¸€æ­¥","slug":"ğŸš€-ä¸‹ä¸€æ­¥","link":"#ğŸš€-ä¸‹ä¸€æ­¥","children":[]}],"git":{"createdTime":1765251676000,"updatedTime":1765251676000,"contributors":[{"name":"CambridgeFoldingKnife","email":"3144253125@qq.com","commits":1}]},"filePathRelative":"tutorials/java-to-llm/08-agent-development/README.md"}');export{I as comp,R as data};
