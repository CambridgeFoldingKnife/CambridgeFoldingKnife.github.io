import{_ as i,c,d as o,e as s,f as a,b as p,w as u,r as t,o as r}from"./app-D9dfRPMK.js";const d={},k={href:"https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/performance-optimization-overview-0000001820880685-V5",target:"_blank",rel:"noopener noreferrer"};function v(m,n){const e=t("ExternalLinkIcon"),l=t("RouteLink");return r(),c("div",null,[n[4]||(n[4]=o(`<h1 id="æ¸²æŸ“æ€§èƒ½ä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#æ¸²æŸ“æ€§èƒ½ä¼˜åŒ–"><span>æ¸²æŸ“æ€§èƒ½ä¼˜åŒ–</span></a></h1><blockquote><p>æå‡UIæ¸²æŸ“æ€§èƒ½</p></blockquote><h2 id="ğŸ¨-å¸ƒå±€ä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#ğŸ¨-å¸ƒå±€ä¼˜åŒ–"><span>ğŸ¨ å¸ƒå±€ä¼˜åŒ–</span></a></h2><h3 id="å‡å°‘å¸ƒå±€å±‚çº§" tabindex="-1"><a class="header-anchor" href="#å‡å°‘å¸ƒå±€å±‚çº§"><span>å‡å°‘å¸ƒå±€å±‚çº§</span></a></h3><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts" data-title="ts"><pre><code><span class="line"><span class="token comment">// âŒ é¿å…è¿‡æ·±çš„åµŒå¥—</span></span>
<span class="line"><span class="token function">Column</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">Row</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">Column</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token function">Row</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">&#39;å†…å®¹&#39;</span><span class="token punctuation">)</span></span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// âœ… æ‰å¹³åŒ–å¸ƒå±€</span></span>
<span class="line"><span class="token function">Column</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">&#39;å†…å®¹&#39;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ä½¿ç”¨åˆé€‚çš„å¸ƒå±€" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨åˆé€‚çš„å¸ƒå±€"><span>ä½¿ç”¨åˆé€‚çš„å¸ƒå±€</span></a></h3><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts" data-title="ts"><pre><code><span class="line"><span class="token comment">// âœ… ä½¿ç”¨Flexè‡ªé€‚åº”å¸ƒå±€</span></span>
<span class="line"><span class="token function">Flex</span><span class="token punctuation">(</span><span class="token punctuation">{</span> justifyContent<span class="token operator">:</span> FlexAlign<span class="token punctuation">.</span>SpaceBetween <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">&#39;å·¦ä¾§&#39;</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">&#39;å³ä¾§&#39;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// âœ… ä½¿ç”¨Gridç½‘æ ¼å¸ƒå±€</span></span>
<span class="line"><span class="token function">Grid</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">ForEach</span><span class="token punctuation">(</span>items<span class="token punctuation">,</span> <span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">GridItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token function">Text</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸ“œ-åˆ—è¡¨ä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#ğŸ“œ-åˆ—è¡¨ä¼˜åŒ–"><span>ğŸ“œ åˆ—è¡¨ä¼˜åŒ–</span></a></h2><h3 id="lazyforeach-æ‡’åŠ è½½" tabindex="-1"><a class="header-anchor" href="#lazyforeach-æ‡’åŠ è½½"><span>LazyForEach æ‡’åŠ è½½</span></a></h3><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts" data-title="ts"><pre><code><span class="line"><span class="token decorator"><span class="token at operator">@</span><span class="token function">Entry</span></span></span>
<span class="line"><span class="token decorator"><span class="token at operator">@</span><span class="token function">Component</span></span></span>
<span class="line">struct OptimizedList <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">private</span> dataSource<span class="token operator">:</span> MyDataSource <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">  </span>
<span class="line">  <span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">List</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token function">LazyForEach</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>dataSource<span class="token punctuation">,</span> <span class="token punctuation">(</span>item<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token function">ListItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">          <span class="token function">Text</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token string">&#39;100%&#39;</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>item<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> item<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">cachedCount</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>  <span class="token comment">// ç¼“å­˜3ä¸ª</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">MyDataSource</span> <span class="token keyword">implements</span> <span class="token class-name">IDataSource</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">private</span> list<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span></span>
<span class="line">  </span>
<span class="line">  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">Item </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>i<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  </span>
<span class="line">  <span class="token function">totalCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">.</span>length</span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  </span>
<span class="line">  <span class="token function">getData</span><span class="token punctuation">(</span>index<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">[</span>index<span class="token punctuation">]</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  </span>
<span class="line">  <span class="token function">registerDataChangeListener</span><span class="token punctuation">(</span>listener<span class="token operator">:</span> DataChangeListener<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line">  <span class="token function">unregisterDataChangeListener</span><span class="token punctuation">(</span>listener<span class="token operator">:</span> DataChangeListener<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸ¬-åŠ¨ç”»æ€§èƒ½" tabindex="-1"><a class="header-anchor" href="#ğŸ¬-åŠ¨ç”»æ€§èƒ½"><span>ğŸ¬ åŠ¨ç”»æ€§èƒ½</span></a></h2><h3 id="ä½¿ç”¨transformå±æ€§" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨transformå±æ€§"><span>ä½¿ç”¨transformå±æ€§</span></a></h3><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts" data-title="ts"><pre><code><span class="line"><span class="token comment">// âœ… ä½¿ç”¨transformï¼ˆGPUåŠ é€Ÿï¼‰</span></span>
<span class="line"><span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>offsetX <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">.</span><span class="token function">scale</span><span class="token punctuation">(</span><span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>scale <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">.</span><span class="token function">rotate</span><span class="token punctuation">(</span><span class="token punctuation">{</span> angle<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>angle <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// âŒ é¿å…æ”¹å˜å¸ƒå±€å±æ€§</span></span>
<span class="line"><span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>width<span class="token punctuation">)</span>  <span class="token comment">// ä¼šè§¦å‘é‡æ’</span></span>
<span class="line"><span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>height<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸ’¡-æœ€ä½³å®è·µ" tabindex="-1"><a class="header-anchor" href="#ğŸ’¡-æœ€ä½³å®è·µ"><span>ğŸ’¡ æœ€ä½³å®è·µ</span></a></h2><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts" data-title="ts"><pre><code><span class="line"><span class="token comment">// âœ… é¿å…åœ¨buildä¸­è¿›è¡Œå¤æ‚è®¡ç®—</span></span>
<span class="line"><span class="token decorator"><span class="token at operator">@</span><span class="token function">State</span></span> data<span class="token operator">:</span> ProcessedData <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">processData</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// âœ… ä½¿ç”¨@Reusableå¤ç”¨ç»„ä»¶</span></span>
<span class="line"><span class="token decorator"><span class="token at operator">@</span><span class="token function">Reusable</span></span></span>
<span class="line"><span class="token decorator"><span class="token at operator">@</span><span class="token function">Component</span></span></span>
<span class="line">struct ReusableItem <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">aboutToReuse</span><span class="token punctuation">(</span>params<span class="token operator">:</span> object<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// æ›´æ–°æ•°æ®</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸ“š-å‚è€ƒèµ„æº" tabindex="-1"><a class="header-anchor" href="#ğŸ“š-å‚è€ƒèµ„æº"><span>ğŸ“š å‚è€ƒèµ„æº</span></a></h2>`,16)),s("ul",null,[s("li",null,[s("a",k,[n[0]||(n[0]=a("æ€§èƒ½ä¼˜åŒ–æŒ‡å—",-1)),p(e)])])]),n[5]||(n[5]=s("hr",null,null,-1)),s("p",null,[n[2]||(n[2]=s("strong",null,"ä¸‹ä¸€èŠ‚",-1)),n[3]||(n[3]=a(" â†’ ",-1)),p(l,{to:"/tutorials/harmonyos-dev/15-performance-optimization/03-%E5%86%85%E5%AD%98%E4%B8%8E%E7%94%B5%E9%87%8F%E4%BC%98%E5%8C%96.html"},{default:u(()=>[...n[1]||(n[1]=[a("å†…å­˜ä¸ç”µé‡ä¼˜åŒ–",-1)])]),_:1})])])}const h=i(d,[["render",v]]),f=JSON.parse('{"path":"/tutorials/harmonyos-dev/15-performance-optimization/02-xuanranxingnenyouhua.html","title":"æ¸²æŸ“æ€§èƒ½ä¼˜åŒ–","lang":"zh-CN","frontmatter":{"title":"æ¸²æŸ“æ€§èƒ½ä¼˜åŒ–","date":"2025-01-22T00:00:00.000Z"},"headers":[{"level":2,"title":"ğŸ¨ å¸ƒå±€ä¼˜åŒ–","slug":"ğŸ¨-å¸ƒå±€ä¼˜åŒ–","link":"#ğŸ¨-å¸ƒå±€ä¼˜åŒ–","children":[{"level":3,"title":"å‡å°‘å¸ƒå±€å±‚çº§","slug":"å‡å°‘å¸ƒå±€å±‚çº§","link":"#å‡å°‘å¸ƒå±€å±‚çº§","children":[]},{"level":3,"title":"ä½¿ç”¨åˆé€‚çš„å¸ƒå±€","slug":"ä½¿ç”¨åˆé€‚çš„å¸ƒå±€","link":"#ä½¿ç”¨åˆé€‚çš„å¸ƒå±€","children":[]}]},{"level":2,"title":"ğŸ“œ åˆ—è¡¨ä¼˜åŒ–","slug":"ğŸ“œ-åˆ—è¡¨ä¼˜åŒ–","link":"#ğŸ“œ-åˆ—è¡¨ä¼˜åŒ–","children":[{"level":3,"title":"LazyForEach æ‡’åŠ è½½","slug":"lazyforeach-æ‡’åŠ è½½","link":"#lazyforeach-æ‡’åŠ è½½","children":[]}]},{"level":2,"title":"ğŸ¬ åŠ¨ç”»æ€§èƒ½","slug":"ğŸ¬-åŠ¨ç”»æ€§èƒ½","link":"#ğŸ¬-åŠ¨ç”»æ€§èƒ½","children":[{"level":3,"title":"ä½¿ç”¨transformå±æ€§","slug":"ä½¿ç”¨transformå±æ€§","link":"#ä½¿ç”¨transformå±æ€§","children":[]}]},{"level":2,"title":"ğŸ’¡ æœ€ä½³å®è·µ","slug":"ğŸ’¡-æœ€ä½³å®è·µ","link":"#ğŸ’¡-æœ€ä½³å®è·µ","children":[]},{"level":2,"title":"ğŸ“š å‚è€ƒèµ„æº","slug":"ğŸ“š-å‚è€ƒèµ„æº","link":"#ğŸ“š-å‚è€ƒèµ„æº","children":[]}],"git":{"createdTime":1765250065000,"updatedTime":1765250065000,"contributors":[{"name":"CambridgeFoldingKnife","email":"3144253125@qq.com","commits":1}]},"filePathRelative":"tutorials/harmonyos-dev/15-performance-optimization/02-æ¸²æŸ“æ€§èƒ½ä¼˜åŒ–.md"}');export{h as comp,f as data};
