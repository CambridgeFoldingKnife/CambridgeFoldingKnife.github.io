import{_ as t,c as l,d as i,e as n,f as a,b as p,w as c,r as o,o as u}from"./app-D9dfRPMK.js";const r={};function d(k,s){const e=o("RouteLink");return u(),l("div",null,[s[3]||(s[3]=i(`<h1 id="_01-elasticsearchåŸºç¡€å…¥é—¨" tabindex="-1"><a class="header-anchor" href="#_01-elasticsearchåŸºç¡€å…¥é—¨"><span>01 - ElasticsearchåŸºç¡€å…¥é—¨</span></a></h1><h2 id="ğŸ¯-å­¦ä¹ ç›®æ ‡" tabindex="-1"><a class="header-anchor" href="#ğŸ¯-å­¦ä¹ ç›®æ ‡"><span>ğŸ¯ å­¦ä¹ ç›®æ ‡</span></a></h2><ul><li>äº†è§£Elasticsearchçš„åŸºæœ¬æ¦‚å¿µå’Œç‰¹ç‚¹</li><li>æŒæ¡Elasticsearchçš„å®‰è£…å’Œé…ç½®</li><li>ç†è§£ESçš„æ ¸å¿ƒæ¦‚å¿µï¼ˆç´¢å¼•ã€æ–‡æ¡£ã€æ˜ å°„ï¼‰</li><li>å­¦ä¼šä½¿ç”¨RESTful APIæ“ä½œES</li><li>æŒæ¡ä¸­æ–‡åˆ†è¯å™¨çš„ä½¿ç”¨</li></ul><h2 id="ğŸ“–-elasticsearchç®€ä»‹" tabindex="-1"><a class="header-anchor" href="#ğŸ“–-elasticsearchç®€ä»‹"><span>ğŸ“– Elasticsearchç®€ä»‹</span></a></h2><h3 id="ä»€ä¹ˆæ˜¯elasticsearch" tabindex="-1"><a class="header-anchor" href="#ä»€ä¹ˆæ˜¯elasticsearch"><span>ä»€ä¹ˆæ˜¯Elasticsearchï¼Ÿ</span></a></h3><p>Elasticsearchï¼ˆç®€ç§°ESï¼‰æ˜¯ä¸€ä¸ªåŸºäºLuceneçš„åˆ†å¸ƒå¼ã€RESTfulé£æ ¼çš„æœç´¢å’Œæ•°æ®åˆ†æå¼•æ“ã€‚</p><h3 id="æ ¸å¿ƒç‰¹ç‚¹" tabindex="-1"><a class="header-anchor" href="#æ ¸å¿ƒç‰¹ç‚¹"><span>æ ¸å¿ƒç‰¹ç‚¹</span></a></h3><ul><li>âš¡ <strong>è¿‘å®æ—¶æœç´¢</strong> - æ–‡æ¡£ä»ç´¢å¼•åˆ°å¯æœç´¢ï¼Œå»¶è¿Ÿé€šå¸¸åœ¨1ç§’å†…</li><li>ğŸŒ <strong>åˆ†å¸ƒå¼</strong> - è‡ªåŠ¨åˆ†ç‰‡ã€å‰¯æœ¬ï¼Œæ”¯æŒPBçº§æ•°æ®</li><li>ğŸ“Š <strong>é«˜æ€§èƒ½</strong> - å€’æ’ç´¢å¼•ï¼Œæ¯«ç§’çº§å“åº”</li><li>ğŸ”„ <strong>é«˜å¯ç”¨</strong> - è‡ªåŠ¨å‘ç°èŠ‚ç‚¹ã€æ•…éšœè½¬ç§»</li><li>ğŸ“ˆ <strong>RESTful API</strong> - HTTPæ¥å£ï¼Œç®€å•æ˜“ç”¨</li><li>ğŸ” <strong>å…¨æ–‡æ£€ç´¢</strong> - å¼ºå¤§çš„æ–‡æœ¬åˆ†æå’Œæœç´¢èƒ½åŠ›</li></ul><h3 id="åº”ç”¨åœºæ™¯" tabindex="-1"><a class="header-anchor" href="#åº”ç”¨åœºæ™¯"><span>åº”ç”¨åœºæ™¯</span></a></h3><ul><li>ğŸ›’ <strong>ç”µå•†æœç´¢</strong> - å•†å“æœç´¢ã€æ™ºèƒ½æ¨è</li><li>ğŸ“Š <strong>æ—¥å¿—åˆ†æ</strong> - ELKæ—¥å¿—åˆ†æç³»ç»Ÿ</li><li>ğŸ“ˆ <strong>æ•°æ®åˆ†æ</strong> - å®æ—¶æ•°æ®ç»Ÿè®¡ã€å¯è§†åŒ–</li><li>ğŸ” <strong>å…¨æ–‡æ£€ç´¢</strong> - æ–‡æ¡£ã€å†…å®¹æœç´¢</li><li>ğŸ“± <strong>APMç›‘æ§</strong> - åº”ç”¨æ€§èƒ½ç›‘æ§</li></ul><h2 id="ğŸ”§-å®‰è£…elasticsearch" tabindex="-1"><a class="header-anchor" href="#ğŸ”§-å®‰è£…elasticsearch"><span>ğŸ”§ å®‰è£…Elasticsearch</span></a></h2><h3 id="dockerå®‰è£…-æ¨è" tabindex="-1"><a class="header-anchor" href="#dockerå®‰è£…-æ¨è"><span>Dockerå®‰è£…ï¼ˆæ¨èï¼‰</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 1. æ‹‰å–é•œåƒ</span></span>
<span class="line"><span class="token function">docker</span> pull elasticsearch:7.17.0</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 2. åˆ›å»ºç½‘ç»œ</span></span>
<span class="line"><span class="token function">docker</span> network create elastic</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 3. è¿è¡ŒElasticsearch</span></span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">--name</span> elasticsearch <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">--net</span> elastic <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-p</span> <span class="token number">9200</span>:9200 <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-p</span> <span class="token number">9300</span>:9300 <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-e</span> <span class="token string">&quot;discovery.type=single-node&quot;</span> <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-e</span> <span class="token string">&quot;ES_JAVA_OPTS=-Xms512m -Xmx512m&quot;</span> <span class="token punctuation">\\</span></span>
<span class="line">  elasticsearch:7.17.0</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 4. éªŒè¯å®‰è£…</span></span>
<span class="line"><span class="token function">curl</span> http://localhost:9200</span>
<span class="line"></span>
<span class="line"><span class="token comment"># è¾“å‡ºç¤ºä¾‹ï¼š</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token string">&quot;name&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;node-1&quot;</span>,</span>
<span class="line">  <span class="token string">&quot;cluster_name&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;elasticsearch&quot;</span>,</span>
<span class="line">  <span class="token string">&quot;version&quot;</span> <span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token string">&quot;number&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;7.17.0&quot;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="docker-composeå®‰è£…" tabindex="-1"><a class="header-anchor" href="#docker-composeå®‰è£…"><span>Docker Composeå®‰è£…</span></a></h3><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml" data-title="yml"><pre><code><span class="line"><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&#39;3.8&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token key atrule">services</span><span class="token punctuation">:</span></span>
<span class="line">  <span class="token key atrule">elasticsearch</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token key atrule">image</span><span class="token punctuation">:</span> elasticsearch<span class="token punctuation">:</span>7.17.0</span>
<span class="line">    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> elasticsearch</span>
<span class="line">    <span class="token key atrule">environment</span><span class="token punctuation">:</span></span>
<span class="line">      <span class="token punctuation">-</span> discovery.type=single<span class="token punctuation">-</span>node</span>
<span class="line">      <span class="token punctuation">-</span> <span class="token string">&quot;ES_JAVA_OPTS=-Xms512m -Xmx512m&quot;</span></span>
<span class="line">    <span class="token key atrule">ports</span><span class="token punctuation">:</span></span>
<span class="line">      <span class="token punctuation">-</span> <span class="token string">&quot;9200:9200&quot;</span></span>
<span class="line">      <span class="token punctuation">-</span> <span class="token string">&quot;9300:9300&quot;</span></span>
<span class="line">    <span class="token key atrule">volumes</span><span class="token punctuation">:</span></span>
<span class="line">      <span class="token punctuation">-</span> es<span class="token punctuation">-</span>data<span class="token punctuation">:</span>/usr/share/elasticsearch/data</span>
<span class="line">    <span class="token key atrule">networks</span><span class="token punctuation">:</span></span>
<span class="line">      <span class="token punctuation">-</span> elastic</span>
<span class="line"></span>
<span class="line">  <span class="token key atrule">kibana</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token key atrule">image</span><span class="token punctuation">:</span> kibana<span class="token punctuation">:</span>7.17.0</span>
<span class="line">    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> kibana</span>
<span class="line">    <span class="token key atrule">ports</span><span class="token punctuation">:</span></span>
<span class="line">      <span class="token punctuation">-</span> <span class="token string">&quot;5601:5601&quot;</span></span>
<span class="line">    <span class="token key atrule">environment</span><span class="token punctuation">:</span></span>
<span class="line">      <span class="token key atrule">ELASTICSEARCH_HOSTS</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//elasticsearch<span class="token punctuation">:</span><span class="token number">9200</span></span>
<span class="line">    <span class="token key atrule">networks</span><span class="token punctuation">:</span></span>
<span class="line">      <span class="token punctuation">-</span> elastic</span>
<span class="line">    <span class="token key atrule">depends_on</span><span class="token punctuation">:</span></span>
<span class="line">      <span class="token punctuation">-</span> elasticsearch</span>
<span class="line"></span>
<span class="line"><span class="token key atrule">volumes</span><span class="token punctuation">:</span></span>
<span class="line">  <span class="token key atrule">es-data</span><span class="token punctuation">:</span></span>
<span class="line"></span>
<span class="line"><span class="token key atrule">networks</span><span class="token punctuation">:</span></span>
<span class="line">  <span class="token key atrule">elastic</span><span class="token punctuation">:</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="linuxå®‰è£…" tabindex="-1"><a class="header-anchor" href="#linuxå®‰è£…"><span>Linuxå®‰è£…</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 1. ä¸‹è½½</span></span>
<span class="line"><span class="token function">wget</span> https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-7.17.0-linux-x86_64.tar.gz</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 2. è§£å‹</span></span>
<span class="line"><span class="token function">tar</span> <span class="token parameter variable">-xzf</span> elasticsearch-7.17.0-linux-x86_64.tar.gz</span>
<span class="line"><span class="token builtin class-name">cd</span> elasticsearch-7.17.0</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 3. ä¿®æ”¹é…ç½®ï¼ˆconfig/elasticsearch.ymlï¼‰</span></span>
<span class="line">cluster.name: my-cluster</span>
<span class="line">node.name: node-1</span>
<span class="line">network.host: <span class="token number">0.0</span>.0.0</span>
<span class="line">http.port: <span class="token number">9200</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 4. å¯åŠ¨</span></span>
<span class="line">./bin/elasticsearch</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 5. åå°å¯åŠ¨</span></span>
<span class="line">./bin/elasticsearch <span class="token parameter variable">-d</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸ—ï¸-æ ¸å¿ƒæ¦‚å¿µ" tabindex="-1"><a class="header-anchor" href="#ğŸ—ï¸-æ ¸å¿ƒæ¦‚å¿µ"><span>ğŸ—ï¸ æ ¸å¿ƒæ¦‚å¿µ</span></a></h2><h3 id="åŸºæœ¬æ¦‚å¿µå¯¹æ¯”" tabindex="-1"><a class="header-anchor" href="#åŸºæœ¬æ¦‚å¿µå¯¹æ¯”"><span>åŸºæœ¬æ¦‚å¿µå¯¹æ¯”</span></a></h3><table><thead><tr><th>Elasticsearch</th><th>MySQL</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>Indexï¼ˆç´¢å¼•ï¼‰</td><td>Database</td><td>æ•°æ®åº“</td></tr><tr><td>Typeï¼ˆç±»å‹ï¼Œå·²åºŸå¼ƒï¼‰</td><td>Table</td><td>è¡¨ï¼ˆES 7.xååºŸå¼ƒï¼‰</td></tr><tr><td>Documentï¼ˆæ–‡æ¡£ï¼‰</td><td>Row</td><td>ä¸€æ¡è®°å½•</td></tr><tr><td>Fieldï¼ˆå­—æ®µï¼‰</td><td>Column</td><td>å­—æ®µ</td></tr><tr><td>Mappingï¼ˆæ˜ å°„ï¼‰</td><td>Schema</td><td>è¡¨ç»“æ„</td></tr></tbody></table><h3 id="index-ç´¢å¼•" tabindex="-1"><a class="header-anchor" href="#index-ç´¢å¼•"><span>Indexï¼ˆç´¢å¼•ï¼‰</span></a></h3><p>ç´¢å¼•æ˜¯æ–‡æ¡£çš„å®¹å™¨ï¼Œç±»ä¼¼äºMySQLä¸­çš„æ•°æ®åº“ã€‚</p><p><strong>ç´¢å¼•å‘½åè§„åˆ™ï¼š</strong></p><ul><li>å¿…é¡»å°å†™</li><li>ä¸èƒ½ä»¥<code>_</code>ã€<code>-</code>ã€<code>+</code>å¼€å¤´</li><li>ä¸èƒ½åŒ…å«ç©ºæ ¼ã€é€—å·ç­‰ç‰¹æ®Šå­—ç¬¦</li></ul><h3 id="document-æ–‡æ¡£" tabindex="-1"><a class="header-anchor" href="#document-æ–‡æ¡£"><span>Documentï¼ˆæ–‡æ¡£ï¼‰</span></a></h3><p>æ–‡æ¡£æ˜¯å¯ä»¥è¢«ç´¢å¼•çš„åŸºæœ¬ä¿¡æ¯å•å…ƒï¼Œä»¥JSONæ ¼å¼è¡¨ç¤ºã€‚</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;iPhone 14 Pro&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token number">7999</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;category&quot;</span><span class="token operator">:</span> <span class="token string">&quot;æ‰‹æœº&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;brand&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Apple&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;stock&quot;</span><span class="token operator">:</span> <span class="token number">100</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mapping-æ˜ å°„" tabindex="-1"><a class="header-anchor" href="#mapping-æ˜ å°„"><span>Mappingï¼ˆæ˜ å°„ï¼‰</span></a></h3><p>æ˜ å°„å®šä¹‰äº†æ–‡æ¡£åŠå…¶å­—æ®µçš„å­˜å‚¨å’Œç´¢å¼•æ–¹å¼ã€‚</p><p><strong>å¸¸ç”¨å­—æ®µç±»å‹ï¼š</strong></p><table><thead><tr><th>ç±»å‹</th><th>è¯´æ˜</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>text</td><td>å…¨æ–‡æ£€ç´¢</td><td>å•†å“æè¿°</td></tr><tr><td>keyword</td><td>ç²¾ç¡®åŒ¹é…</td><td>å•†å“åˆ†ç±»</td></tr><tr><td>long</td><td>é•¿æ•´å‹</td><td>ID</td></tr><tr><td>integer</td><td>æ•´å‹</td><td>åº“å­˜</td></tr><tr><td>double</td><td>æµ®ç‚¹å‹</td><td>ä»·æ ¼</td></tr><tr><td>boolean</td><td>å¸ƒå°”å‹</td><td>æ˜¯å¦ä¸Šæ¶</td></tr><tr><td>date</td><td>æ—¥æœŸ</td><td>åˆ›å»ºæ—¶é—´</td></tr><tr><td>object</td><td>å¯¹è±¡</td><td>åµŒå¥—å¯¹è±¡</td></tr><tr><td>nested</td><td>åµŒå¥—å¯¹è±¡æ•°ç»„</td><td>è¯„è®ºåˆ—è¡¨</td></tr></tbody></table><h2 id="ğŸ“¦-restful-apiæ“ä½œ" tabindex="-1"><a class="header-anchor" href="#ğŸ“¦-restful-apiæ“ä½œ"><span>ğŸ“¦ RESTful APIæ“ä½œ</span></a></h2><h3 id="ç´¢å¼•æ“ä½œ" tabindex="-1"><a class="header-anchor" href="#ç´¢å¼•æ“ä½œ"><span>ç´¢å¼•æ“ä½œ</span></a></h3><h4 id="åˆ›å»ºç´¢å¼•" tabindex="-1"><a class="header-anchor" href="#åˆ›å»ºç´¢å¼•"><span>åˆ›å»ºç´¢å¼•</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># ç®€å•åˆ›å»º</span></span>
<span class="line">PUT /products</span>
<span class="line"></span>
<span class="line"><span class="token comment"># æŒ‡å®šé…ç½®åˆ›å»º</span></span>
<span class="line">PUT /products</span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token string">&quot;settings&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token string">&quot;number_of_shards&quot;</span><span class="token builtin class-name">:</span> <span class="token number">3</span>,</span>
<span class="line">    <span class="token string">&quot;number_of_replicas&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span></span>
<span class="line">  <span class="token punctuation">}</span>,</span>
<span class="line">  <span class="token string">&quot;mappings&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token string">&quot;properties&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token string">&quot;type&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;text&quot;</span>,</span>
<span class="line">        <span class="token string">&quot;analyzer&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;ik_max_word&quot;</span></span>
<span class="line">      <span class="token punctuation">}</span>,</span>
<span class="line">      <span class="token string">&quot;price&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token string">&quot;type&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;double&quot;</span></span>
<span class="line">      <span class="token punctuation">}</span>,</span>
<span class="line">      <span class="token string">&quot;category&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token string">&quot;type&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;keyword&quot;</span></span>
<span class="line">      <span class="token punctuation">}</span>,</span>
<span class="line">      <span class="token string">&quot;description&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token string">&quot;type&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;text&quot;</span>,</span>
<span class="line">        <span class="token string">&quot;analyzer&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;ik_smart&quot;</span></span>
<span class="line">      <span class="token punctuation">}</span>,</span>
<span class="line">      <span class="token string">&quot;stock&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token string">&quot;type&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;integer&quot;</span></span>
<span class="line">      <span class="token punctuation">}</span>,</span>
<span class="line">      <span class="token string">&quot;on_sale&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token string">&quot;type&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;boolean&quot;</span></span>
<span class="line">      <span class="token punctuation">}</span>,</span>
<span class="line">      <span class="token string">&quot;create_time&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token string">&quot;type&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;date&quot;</span>,</span>
<span class="line">        <span class="token string">&quot;format&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;yyyy-MM-dd HH:mm:ss||epoch_millis&quot;</span></span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="æŸ¥çœ‹ç´¢å¼•" tabindex="-1"><a class="header-anchor" href="#æŸ¥çœ‹ç´¢å¼•"><span>æŸ¥çœ‹ç´¢å¼•</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># æŸ¥çœ‹æ‰€æœ‰ç´¢å¼•</span></span>
<span class="line">GET /_cat/indices?v</span>
<span class="line"></span>
<span class="line"><span class="token comment"># æŸ¥çœ‹ç‰¹å®šç´¢å¼•</span></span>
<span class="line">GET /products</span>
<span class="line"></span>
<span class="line"><span class="token comment"># æŸ¥çœ‹ç´¢å¼•æ˜ å°„</span></span>
<span class="line">GET /products/_mapping</span>
<span class="line"></span>
<span class="line"><span class="token comment"># æŸ¥çœ‹ç´¢å¼•è®¾ç½®</span></span>
<span class="line">GET /products/_settings</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="åˆ é™¤ç´¢å¼•" tabindex="-1"><a class="header-anchor" href="#åˆ é™¤ç´¢å¼•"><span>åˆ é™¤ç´¢å¼•</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">DELETE /products</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="æ–‡æ¡£æ“ä½œ" tabindex="-1"><a class="header-anchor" href="#æ–‡æ¡£æ“ä½œ"><span>æ–‡æ¡£æ“ä½œ</span></a></h3><h4 id="æ·»åŠ æ–‡æ¡£" tabindex="-1"><a class="header-anchor" href="#æ·»åŠ æ–‡æ¡£"><span>æ·»åŠ æ–‡æ¡£</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># æŒ‡å®šID</span></span>
<span class="line">PUT /products/_doc/1</span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;iPhone 14 Pro&quot;</span>,</span>
<span class="line">  <span class="token string">&quot;price&quot;</span><span class="token builtin class-name">:</span> <span class="token number">7999</span>,</span>
<span class="line">  <span class="token string">&quot;category&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;æ‰‹æœº&quot;</span>,</span>
<span class="line">  <span class="token string">&quot;brand&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;Apple&quot;</span>,</span>
<span class="line">  <span class="token string">&quot;description&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;A16ä»¿ç”ŸèŠ¯ç‰‡ï¼Œ4800ä¸‡ä¸»æ‘„ï¼ŒçµåŠ¨å²›&quot;</span>,</span>
<span class="line">  <span class="token string">&quot;stock&quot;</span><span class="token builtin class-name">:</span> <span class="token number">100</span>,</span>
<span class="line">  <span class="token string">&quot;on_sale&quot;</span><span class="token builtin class-name">:</span> true,</span>
<span class="line">  <span class="token string">&quot;create_time&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;2024-01-01 10:00:00&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># è‡ªåŠ¨ç”ŸæˆID</span></span>
<span class="line">POST /products/_doc</span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;å°ç±³13 Pro&quot;</span>,</span>
<span class="line">  <span class="token string">&quot;price&quot;</span><span class="token builtin class-name">:</span> <span class="token number">4999</span>,</span>
<span class="line">  <span class="token string">&quot;category&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;æ‰‹æœº&quot;</span>,</span>
<span class="line">  <span class="token string">&quot;brand&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;å°ç±³&quot;</span>,</span>
<span class="line">  <span class="token string">&quot;description&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;éªé¾™8 Gen2ï¼Œå¾•å¡å…‰å­¦é•œå¤´&quot;</span>,</span>
<span class="line">  <span class="token string">&quot;stock&quot;</span><span class="token builtin class-name">:</span> <span class="token number">200</span>,</span>
<span class="line">  <span class="token string">&quot;on_sale&quot;</span><span class="token builtin class-name">:</span> true,</span>
<span class="line">  <span class="token string">&quot;create_time&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;2024-01-01 11:00:00&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="æŸ¥è¯¢æ–‡æ¡£" tabindex="-1"><a class="header-anchor" href="#æŸ¥è¯¢æ–‡æ¡£"><span>æŸ¥è¯¢æ–‡æ¡£</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># æ ¹æ®IDæŸ¥è¯¢</span></span>
<span class="line">GET /products/_doc/1</span>
<span class="line"></span>
<span class="line"><span class="token comment"># æ£€æŸ¥æ–‡æ¡£æ˜¯å¦å­˜åœ¨</span></span>
<span class="line">HEAD /products/_doc/1</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="æ›´æ–°æ–‡æ¡£" tabindex="-1"><a class="header-anchor" href="#æ›´æ–°æ–‡æ¡£"><span>æ›´æ–°æ–‡æ¡£</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># å…¨é‡æ›´æ–°ï¼ˆè¦†ç›–ï¼‰</span></span>
<span class="line">PUT /products/_doc/1</span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;iPhone 14 Pro Max&quot;</span>,</span>
<span class="line">  <span class="token string">&quot;price&quot;</span><span class="token builtin class-name">:</span> <span class="token number">8999</span>,</span>
<span class="line">  <span class="token string">&quot;category&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;æ‰‹æœº&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># éƒ¨åˆ†æ›´æ–°</span></span>
<span class="line">POST /products/_update/1</span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token string">&quot;doc&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token string">&quot;price&quot;</span><span class="token builtin class-name">:</span> <span class="token number">7499</span>,</span>
<span class="line">    <span class="token string">&quot;stock&quot;</span><span class="token builtin class-name">:</span> <span class="token number">80</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># è„šæœ¬æ›´æ–°</span></span>
<span class="line">POST /products/_update/1</span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token string">&quot;script&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token string">&quot;source&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;ctx._source.stock -= params.count&quot;</span>,</span>
<span class="line">    <span class="token string">&quot;params&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token string">&quot;count&quot;</span><span class="token builtin class-name">:</span> <span class="token number">10</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="åˆ é™¤æ–‡æ¡£" tabindex="-1"><a class="header-anchor" href="#åˆ é™¤æ–‡æ¡£"><span>åˆ é™¤æ–‡æ¡£</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># åˆ é™¤å•ä¸ªæ–‡æ¡£</span></span>
<span class="line">DELETE /products/_doc/1</span>
<span class="line"></span>
<span class="line"><span class="token comment"># æŒ‰æŸ¥è¯¢åˆ é™¤</span></span>
<span class="line">POST /products/_delete_by_query</span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token string">&quot;query&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token string">&quot;term&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token string">&quot;on_sale&quot;</span><span class="token builtin class-name">:</span> <span class="token boolean">false</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æ‰¹é‡æ“ä½œ" tabindex="-1"><a class="header-anchor" href="#æ‰¹é‡æ“ä½œ"><span>æ‰¹é‡æ“ä½œ</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># bulkæ‰¹é‡æ“ä½œ</span></span>
<span class="line">POST /_bulk</span>
<span class="line"><span class="token punctuation">{</span><span class="token string">&quot;index&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;_index&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;products&quot;</span>,<span class="token string">&quot;_id&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;iPhone 14 Pro&quot;</span>,<span class="token string">&quot;price&quot;</span>:7999,<span class="token string">&quot;category&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;æ‰‹æœº&quot;</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">{</span><span class="token string">&quot;index&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;_index&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;products&quot;</span>,<span class="token string">&quot;_id&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;2&quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;å°ç±³13 Pro&quot;</span>,<span class="token string">&quot;price&quot;</span>:4999,<span class="token string">&quot;category&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;æ‰‹æœº&quot;</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">{</span><span class="token string">&quot;update&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;_index&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;products&quot;</span>,<span class="token string">&quot;_id&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">{</span><span class="token string">&quot;doc&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;price&quot;</span>:7499<span class="token punctuation">}</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">{</span><span class="token string">&quot;delete&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;_index&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;products&quot;</span>,<span class="token string">&quot;_id&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;3&quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸ”-åŸºç¡€æŸ¥è¯¢" tabindex="-1"><a class="header-anchor" href="#ğŸ”-åŸºç¡€æŸ¥è¯¢"><span>ğŸ” åŸºç¡€æŸ¥è¯¢</span></a></h2><h3 id="æŸ¥è¯¢æ‰€æœ‰æ–‡æ¡£" tabindex="-1"><a class="header-anchor" href="#æŸ¥è¯¢æ‰€æœ‰æ–‡æ¡£"><span>æŸ¥è¯¢æ‰€æœ‰æ–‡æ¡£</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">GET /products/_search</span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token string">&quot;query&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token string">&quot;match_all&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="åŒ¹é…æŸ¥è¯¢" tabindex="-1"><a class="header-anchor" href="#åŒ¹é…æŸ¥è¯¢"><span>åŒ¹é…æŸ¥è¯¢</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">GET /products/_search</span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token string">&quot;query&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token string">&quot;match&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;iPhone&quot;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ç²¾ç¡®æŸ¥è¯¢" tabindex="-1"><a class="header-anchor" href="#ç²¾ç¡®æŸ¥è¯¢"><span>ç²¾ç¡®æŸ¥è¯¢</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">GET /products/_search</span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token string">&quot;query&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token string">&quot;term&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token string">&quot;category&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;æ‰‹æœº&quot;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="åˆ†é¡µæŸ¥è¯¢" tabindex="-1"><a class="header-anchor" href="#åˆ†é¡µæŸ¥è¯¢"><span>åˆ†é¡µæŸ¥è¯¢</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">GET /products/_search</span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token string">&quot;query&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token string">&quot;match_all&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span>,</span>
<span class="line">  <span class="token string">&quot;from&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,</span>
<span class="line">  <span class="token string">&quot;size&quot;</span><span class="token builtin class-name">:</span> <span class="token number">10</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æ’åº" tabindex="-1"><a class="header-anchor" href="#æ’åº"><span>æ’åº</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">GET /products/_search</span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token string">&quot;query&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token string">&quot;match_all&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span>,</span>
<span class="line">  <span class="token string">&quot;sort&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">      <span class="token string">&quot;price&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token string">&quot;order&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;desc&quot;</span></span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸ‡¨ğŸ‡³-ä¸­æ–‡åˆ†è¯å™¨" tabindex="-1"><a class="header-anchor" href="#ğŸ‡¨ğŸ‡³-ä¸­æ–‡åˆ†è¯å™¨"><span>ğŸ‡¨ğŸ‡³ ä¸­æ–‡åˆ†è¯å™¨</span></a></h2><h3 id="å®‰è£…ikåˆ†è¯å™¨" tabindex="-1"><a class="header-anchor" href="#å®‰è£…ikåˆ†è¯å™¨"><span>å®‰è£…IKåˆ†è¯å™¨</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># æ–¹å¼1ï¼šåœ¨çº¿å®‰è£…</span></span>
<span class="line">./bin/elasticsearch-plugin <span class="token function">install</span> https://github.com/medcl/elasticsearch-analysis-ik/releases/download/v7.17.0/elasticsearch-analysis-ik-7.17.0.zip</span>
<span class="line"></span>
<span class="line"><span class="token comment"># æ–¹å¼2ï¼šç¦»çº¿å®‰è£…</span></span>
<span class="line"><span class="token comment"># ä¸‹è½½æ’ä»¶åˆ°plugins/ikç›®å½•</span></span>
<span class="line"><span class="token comment"># é‡å¯Elasticsearch</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># éªŒè¯å®‰è£…</span></span>
<span class="line">GET /_cat/plugins</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ikåˆ†è¯å™¨ç±»å‹" tabindex="-1"><a class="header-anchor" href="#ikåˆ†è¯å™¨ç±»å‹"><span>IKåˆ†è¯å™¨ç±»å‹</span></a></h3><p><strong>ik_max_wordï¼š</strong> æœ€ç»†ç²’åº¦æ‹†åˆ†</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">POST /_analyze</span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token string">&quot;analyzer&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;ik_max_word&quot;</span>,</span>
<span class="line">  <span class="token string">&quot;text&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;ä¸­åäººæ°‘å…±å’Œå›½å›½æ­Œ&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># ç»“æœï¼šä¸­åäººæ°‘å…±å’Œå›½ã€ä¸­åäººæ°‘ã€ä¸­åã€åäººã€äººæ°‘å…±å’Œå›½ã€äººæ°‘ã€å…±å’Œå›½ã€å…±å’Œã€å›½å›½ã€å›½æ­Œ</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ik_smartï¼š</strong> æœ€ç²—ç²’åº¦æ‹†åˆ†</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">POST /_analyze</span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token string">&quot;analyzer&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;ik_smart&quot;</span>,</span>
<span class="line">  <span class="token string">&quot;text&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;ä¸­åäººæ°‘å…±å’Œå›½å›½æ­Œ&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># ç»“æœï¼šä¸­åäººæ°‘å…±å’Œå›½ã€å›½æ­Œ</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="è‡ªå®šä¹‰è¯å…¸" tabindex="-1"><a class="header-anchor" href="#è‡ªå®šä¹‰è¯å…¸"><span>è‡ªå®šä¹‰è¯å…¸</span></a></h3><p><strong>config/analysis-ik/IKAnalyzer.cfg.xmlï¼š</strong></p><div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml" data-title="xml"><pre><code><span class="line"><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span>
<span class="line"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">properties</span> <span class="token name">SYSTEM</span> <span class="token string">&quot;http://java.sun.com/dtd/properties.dtd&quot;</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>comment</span><span class="token punctuation">&gt;</span></span>IK Analyzer æ‰©å±•é…ç½®<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>comment</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>entry</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ext_dict<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>custom.dic<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>entry</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>entry</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ext_stopwords<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>stopword.dic<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>entry</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>config/analysis-ik/custom.dicï¼š</strong></p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">å¥¥åŠ›ç»™</span>
<span class="line">yyds</span>
<span class="line">ç»ç»å­</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸ’»-å®æˆ˜ç¤ºä¾‹-å•†å“æœç´¢" tabindex="-1"><a class="header-anchor" href="#ğŸ’»-å®æˆ˜ç¤ºä¾‹-å•†å“æœç´¢"><span>ğŸ’» å®æˆ˜ç¤ºä¾‹ï¼šå•†å“æœç´¢</span></a></h2><h3 id="åˆ›å»ºå•†å“ç´¢å¼•" tabindex="-1"><a class="header-anchor" href="#åˆ›å»ºå•†å“ç´¢å¼•"><span>åˆ›å»ºå•†å“ç´¢å¼•</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">PUT /products</span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token string">&quot;settings&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token string">&quot;number_of_shards&quot;</span><span class="token builtin class-name">:</span> <span class="token number">3</span>,</span>
<span class="line">    <span class="token string">&quot;number_of_replicas&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1</span>,</span>
<span class="line">    <span class="token string">&quot;analysis&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token string">&quot;analyzer&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token string">&quot;ik_analyzer&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="line">          <span class="token string">&quot;type&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;custom&quot;</span>,</span>
<span class="line">          <span class="token string">&quot;tokenizer&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;ik_max_word&quot;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span>,</span>
<span class="line">  <span class="token string">&quot;mappings&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token string">&quot;properties&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token string">&quot;id&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token string">&quot;type&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;long&quot;</span><span class="token punctuation">}</span>,</span>
<span class="line">      <span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token string">&quot;type&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;text&quot;</span>,</span>
<span class="line">        <span class="token string">&quot;analyzer&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;ik_max_word&quot;</span>,</span>
<span class="line">        <span class="token string">&quot;search_analyzer&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;ik_smart&quot;</span></span>
<span class="line">      <span class="token punctuation">}</span>,</span>
<span class="line">      <span class="token string">&quot;category&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token string">&quot;type&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;keyword&quot;</span><span class="token punctuation">}</span>,</span>
<span class="line">      <span class="token string">&quot;brand&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token string">&quot;type&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;keyword&quot;</span><span class="token punctuation">}</span>,</span>
<span class="line">      <span class="token string">&quot;price&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token string">&quot;type&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;double&quot;</span><span class="token punctuation">}</span>,</span>
<span class="line">      <span class="token string">&quot;description&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token string">&quot;type&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;text&quot;</span>,</span>
<span class="line">        <span class="token string">&quot;analyzer&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;ik_max_word&quot;</span></span>
<span class="line">      <span class="token punctuation">}</span>,</span>
<span class="line">      <span class="token string">&quot;stock&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token string">&quot;type&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;integer&quot;</span><span class="token punctuation">}</span>,</span>
<span class="line">      <span class="token string">&quot;sales&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token string">&quot;type&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;long&quot;</span><span class="token punctuation">}</span>,</span>
<span class="line">      <span class="token string">&quot;rating&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token string">&quot;type&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;double&quot;</span><span class="token punctuation">}</span>,</span>
<span class="line">      <span class="token string">&quot;on_sale&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token string">&quot;type&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;boolean&quot;</span><span class="token punctuation">}</span>,</span>
<span class="line">      <span class="token string">&quot;create_time&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token string">&quot;type&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;date&quot;</span>,</span>
<span class="line">        <span class="token string">&quot;format&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span></span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æ‰¹é‡å¯¼å…¥æ•°æ®" tabindex="-1"><a class="header-anchor" href="#æ‰¹é‡å¯¼å…¥æ•°æ®"><span>æ‰¹é‡å¯¼å…¥æ•°æ®</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">POST /_bulk</span>
<span class="line"><span class="token punctuation">{</span><span class="token string">&quot;index&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;_index&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;products&quot;</span>,<span class="token string">&quot;_id&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">{</span><span class="token string">&quot;id&quot;</span>:1,<span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;iPhone 14 Pro 256G æ·±ç©ºé»‘&quot;</span>,<span class="token string">&quot;category&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;æ‰‹æœº&quot;</span>,<span class="token string">&quot;brand&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;Apple&quot;</span>,<span class="token string">&quot;price&quot;</span>:7999,<span class="token string">&quot;description&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;A16ä»¿ç”ŸèŠ¯ç‰‡ï¼Œ4800ä¸‡ä¸»æ‘„ï¼ŒçµåŠ¨å²›è®¾è®¡&quot;</span>,<span class="token string">&quot;stock&quot;</span>:100,<span class="token string">&quot;sales&quot;</span>:5000,<span class="token string">&quot;rating&quot;</span>:4.8,<span class="token string">&quot;on_sale&quot;</span>:true,<span class="token string">&quot;create_time&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;2024-01-01 10:00:00&quot;</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">{</span><span class="token string">&quot;index&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;_index&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;products&quot;</span>,<span class="token string">&quot;_id&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;2&quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">{</span><span class="token string">&quot;id&quot;</span>:2,<span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;å°ç±³13 Pro 12+256G é™¶ç“·é»‘&quot;</span>,<span class="token string">&quot;category&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;æ‰‹æœº&quot;</span>,<span class="token string">&quot;brand&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;å°ç±³&quot;</span>,<span class="token string">&quot;price&quot;</span>:4999,<span class="token string">&quot;description&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;éªé¾™8 Gen2ï¼Œå¾•å¡å…‰å­¦é•œå¤´ï¼Œ2Kå±&quot;</span>,<span class="token string">&quot;stock&quot;</span>:200,<span class="token string">&quot;sales&quot;</span>:8000,<span class="token string">&quot;rating&quot;</span>:4.7,<span class="token string">&quot;on_sale&quot;</span>:true,<span class="token string">&quot;create_time&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;2024-01-02 10:00:00&quot;</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">{</span><span class="token string">&quot;index&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;_index&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;products&quot;</span>,<span class="token string">&quot;_id&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;3&quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">{</span><span class="token string">&quot;id&quot;</span>:3,<span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;åä¸ºMate 50 Pro 8+256G&quot;</span>,<span class="token string">&quot;category&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;æ‰‹æœº&quot;</span>,<span class="token string">&quot;brand&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;åä¸º&quot;</span>,<span class="token string">&quot;price&quot;</span>:5999,<span class="token string">&quot;description&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;åŒ—æ–—å«æ˜Ÿæ¶ˆæ¯ï¼Œè¶…å…‰å˜XMAGEå½±åƒ&quot;</span>,<span class="token string">&quot;stock&quot;</span>:150,<span class="token string">&quot;sales&quot;</span>:3000,<span class="token string">&quot;rating&quot;</span>:4.6,<span class="token string">&quot;on_sale&quot;</span>:true,<span class="token string">&quot;create_time&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;2024-01-03 10:00:00&quot;</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">{</span><span class="token string">&quot;index&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;_index&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;products&quot;</span>,<span class="token string">&quot;_id&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;4&quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">{</span><span class="token string">&quot;id&quot;</span>:4,<span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;MacBook Pro 14è‹±å¯¸ M2èŠ¯ç‰‡&quot;</span>,<span class="token string">&quot;category&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;ç¬”è®°æœ¬&quot;</span>,<span class="token string">&quot;brand&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;Apple&quot;</span>,<span class="token string">&quot;price&quot;</span>:14999,<span class="token string">&quot;description&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;M2èŠ¯ç‰‡ï¼Œ16GBå†…å­˜ï¼Œ512GB SSD&quot;</span>,<span class="token string">&quot;stock&quot;</span>:50,<span class="token string">&quot;sales&quot;</span>:1000,<span class="token string">&quot;rating&quot;</span>:4.9,<span class="token string">&quot;on_sale&quot;</span>:true,<span class="token string">&quot;create_time&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;2024-01-04 10:00:00&quot;</span><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æœç´¢å•†å“" tabindex="-1"><a class="header-anchor" href="#æœç´¢å•†å“"><span>æœç´¢å•†å“</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># æœç´¢æ‰‹æœº</span></span>
<span class="line">GET /products/_search</span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token string">&quot;query&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token string">&quot;bool&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token string">&quot;must&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span></span>
<span class="line">        <span class="token punctuation">{</span></span>
<span class="line">          <span class="token string">&quot;match&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;æ‰‹æœº&quot;</span></span>
<span class="line">          <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">      <span class="token punctuation">]</span>,</span>
<span class="line">      <span class="token string">&quot;filter&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span></span>
<span class="line">        <span class="token punctuation">{</span></span>
<span class="line">          <span class="token string">&quot;term&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token string">&quot;on_sale&quot;</span><span class="token builtin class-name">:</span> <span class="token boolean">true</span></span>
<span class="line">          <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">}</span>,</span>
<span class="line">        <span class="token punctuation">{</span></span>
<span class="line">          <span class="token string">&quot;range&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token string">&quot;price&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="line">              <span class="token string">&quot;gte&quot;</span><span class="token builtin class-name">:</span> <span class="token number">4000</span>,</span>
<span class="line">              <span class="token string">&quot;lte&quot;</span><span class="token builtin class-name">:</span> <span class="token number">8000</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">          <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">      <span class="token punctuation">]</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span>,</span>
<span class="line">  <span class="token string">&quot;sort&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">      <span class="token string">&quot;sales&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token string">&quot;order&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;desc&quot;</span></span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸ’¡-æœ€ä½³å®è·µ" tabindex="-1"><a class="header-anchor" href="#ğŸ’¡-æœ€ä½³å®è·µ"><span>ğŸ’¡ æœ€ä½³å®è·µ</span></a></h2><ol><li><strong>åˆç†è®¾ç½®åˆ†ç‰‡æ•°</strong> - å•åˆ†ç‰‡å¤§å°å»ºè®®20-50GB</li><li><strong>ä½¿ç”¨åˆ«å</strong> - æ–¹ä¾¿ç´¢å¼•åˆ‡æ¢å’Œé›¶åœæœºè¿ç§»</li><li><strong>æ‰¹é‡æ“ä½œ</strong> - ä½¿ç”¨bulk APIæé«˜æ€§èƒ½</li><li><strong>åˆç†é€‰æ‹©åˆ†è¯å™¨</strong> - æœç´¢ç”¨ik_smartï¼Œç´¢å¼•ç”¨ik_max_word</li><li><strong>é¿å…æ·±åˆ†é¡µ</strong> - from + size &lt; 10000</li></ol><h2 id="ğŸ¯-å°ç»“" tabindex="-1"><a class="header-anchor" href="#ğŸ¯-å°ç»“"><span>ğŸ¯ å°ç»“</span></a></h2><p>æœ¬èŠ‚å­¦ä¹ äº†Elasticsearchçš„åŸºç¡€çŸ¥è¯†ï¼š</p><ul><li>âœ… ESçš„å®‰è£…å’Œé…ç½®</li><li>âœ… æ ¸å¿ƒæ¦‚å¿µï¼ˆç´¢å¼•ã€æ–‡æ¡£ã€æ˜ å°„ï¼‰</li><li>âœ… RESTful APIåŸºæœ¬æ“ä½œ</li><li>âœ… ä¸­æ–‡åˆ†è¯å™¨çš„ä½¿ç”¨</li><li>âœ… å•†å“æœç´¢å®æˆ˜ç¤ºä¾‹</li></ul><hr>`,87)),n("p",null,[s[1]||(s[1]=n("strong",null,"ä¸‹ä¸€èŠ‚ï¼š",-1)),s[2]||(s[2]=a()),p(e,{to:"/tutorials/java-backend/elasticsearch/02-Elasticsearch%E6%9F%A5%E8%AF%A2DSL.html"},{default:c(()=>[...s[0]||(s[0]=[a("02-ElasticsearchæŸ¥è¯¢DSL",-1)])]),_:1})])])}const v=t(r,[["render",d]]),b=JSON.parse('{"path":"/tutorials/java-backend/elasticsearch/01-Elasticsearchjichurumen.html","title":"ElasticsearchåŸºç¡€å…¥é—¨","lang":"zh-CN","frontmatter":{"title":"ElasticsearchåŸºç¡€å…¥é—¨"},"headers":[{"level":2,"title":"ğŸ¯ å­¦ä¹ ç›®æ ‡","slug":"ğŸ¯-å­¦ä¹ ç›®æ ‡","link":"#ğŸ¯-å­¦ä¹ ç›®æ ‡","children":[]},{"level":2,"title":"ğŸ“– Elasticsearchç®€ä»‹","slug":"ğŸ“–-elasticsearchç®€ä»‹","link":"#ğŸ“–-elasticsearchç®€ä»‹","children":[{"level":3,"title":"ä»€ä¹ˆæ˜¯Elasticsearchï¼Ÿ","slug":"ä»€ä¹ˆæ˜¯elasticsearch","link":"#ä»€ä¹ˆæ˜¯elasticsearch","children":[]},{"level":3,"title":"æ ¸å¿ƒç‰¹ç‚¹","slug":"æ ¸å¿ƒç‰¹ç‚¹","link":"#æ ¸å¿ƒç‰¹ç‚¹","children":[]},{"level":3,"title":"åº”ç”¨åœºæ™¯","slug":"åº”ç”¨åœºæ™¯","link":"#åº”ç”¨åœºæ™¯","children":[]}]},{"level":2,"title":"ğŸ”§ å®‰è£…Elasticsearch","slug":"ğŸ”§-å®‰è£…elasticsearch","link":"#ğŸ”§-å®‰è£…elasticsearch","children":[{"level":3,"title":"Dockerå®‰è£…ï¼ˆæ¨èï¼‰","slug":"dockerå®‰è£…-æ¨è","link":"#dockerå®‰è£…-æ¨è","children":[]},{"level":3,"title":"Docker Composeå®‰è£…","slug":"docker-composeå®‰è£…","link":"#docker-composeå®‰è£…","children":[]},{"level":3,"title":"Linuxå®‰è£…","slug":"linuxå®‰è£…","link":"#linuxå®‰è£…","children":[]}]},{"level":2,"title":"ğŸ—ï¸ æ ¸å¿ƒæ¦‚å¿µ","slug":"ğŸ—ï¸-æ ¸å¿ƒæ¦‚å¿µ","link":"#ğŸ—ï¸-æ ¸å¿ƒæ¦‚å¿µ","children":[{"level":3,"title":"åŸºæœ¬æ¦‚å¿µå¯¹æ¯”","slug":"åŸºæœ¬æ¦‚å¿µå¯¹æ¯”","link":"#åŸºæœ¬æ¦‚å¿µå¯¹æ¯”","children":[]},{"level":3,"title":"Indexï¼ˆç´¢å¼•ï¼‰","slug":"index-ç´¢å¼•","link":"#index-ç´¢å¼•","children":[]},{"level":3,"title":"Documentï¼ˆæ–‡æ¡£ï¼‰","slug":"document-æ–‡æ¡£","link":"#document-æ–‡æ¡£","children":[]},{"level":3,"title":"Mappingï¼ˆæ˜ å°„ï¼‰","slug":"mapping-æ˜ å°„","link":"#mapping-æ˜ å°„","children":[]}]},{"level":2,"title":"ğŸ“¦ RESTful APIæ“ä½œ","slug":"ğŸ“¦-restful-apiæ“ä½œ","link":"#ğŸ“¦-restful-apiæ“ä½œ","children":[{"level":3,"title":"ç´¢å¼•æ“ä½œ","slug":"ç´¢å¼•æ“ä½œ","link":"#ç´¢å¼•æ“ä½œ","children":[]},{"level":3,"title":"æ–‡æ¡£æ“ä½œ","slug":"æ–‡æ¡£æ“ä½œ","link":"#æ–‡æ¡£æ“ä½œ","children":[]},{"level":3,"title":"æ‰¹é‡æ“ä½œ","slug":"æ‰¹é‡æ“ä½œ","link":"#æ‰¹é‡æ“ä½œ","children":[]}]},{"level":2,"title":"ğŸ” åŸºç¡€æŸ¥è¯¢","slug":"ğŸ”-åŸºç¡€æŸ¥è¯¢","link":"#ğŸ”-åŸºç¡€æŸ¥è¯¢","children":[{"level":3,"title":"æŸ¥è¯¢æ‰€æœ‰æ–‡æ¡£","slug":"æŸ¥è¯¢æ‰€æœ‰æ–‡æ¡£","link":"#æŸ¥è¯¢æ‰€æœ‰æ–‡æ¡£","children":[]},{"level":3,"title":"åŒ¹é…æŸ¥è¯¢","slug":"åŒ¹é…æŸ¥è¯¢","link":"#åŒ¹é…æŸ¥è¯¢","children":[]},{"level":3,"title":"ç²¾ç¡®æŸ¥è¯¢","slug":"ç²¾ç¡®æŸ¥è¯¢","link":"#ç²¾ç¡®æŸ¥è¯¢","children":[]},{"level":3,"title":"åˆ†é¡µæŸ¥è¯¢","slug":"åˆ†é¡µæŸ¥è¯¢","link":"#åˆ†é¡µæŸ¥è¯¢","children":[]},{"level":3,"title":"æ’åº","slug":"æ’åº","link":"#æ’åº","children":[]}]},{"level":2,"title":"ğŸ‡¨ğŸ‡³ ä¸­æ–‡åˆ†è¯å™¨","slug":"ğŸ‡¨ğŸ‡³-ä¸­æ–‡åˆ†è¯å™¨","link":"#ğŸ‡¨ğŸ‡³-ä¸­æ–‡åˆ†è¯å™¨","children":[{"level":3,"title":"å®‰è£…IKåˆ†è¯å™¨","slug":"å®‰è£…ikåˆ†è¯å™¨","link":"#å®‰è£…ikåˆ†è¯å™¨","children":[]},{"level":3,"title":"IKåˆ†è¯å™¨ç±»å‹","slug":"ikåˆ†è¯å™¨ç±»å‹","link":"#ikåˆ†è¯å™¨ç±»å‹","children":[]},{"level":3,"title":"è‡ªå®šä¹‰è¯å…¸","slug":"è‡ªå®šä¹‰è¯å…¸","link":"#è‡ªå®šä¹‰è¯å…¸","children":[]}]},{"level":2,"title":"ğŸ’» å®æˆ˜ç¤ºä¾‹ï¼šå•†å“æœç´¢","slug":"ğŸ’»-å®æˆ˜ç¤ºä¾‹-å•†å“æœç´¢","link":"#ğŸ’»-å®æˆ˜ç¤ºä¾‹-å•†å“æœç´¢","children":[{"level":3,"title":"åˆ›å»ºå•†å“ç´¢å¼•","slug":"åˆ›å»ºå•†å“ç´¢å¼•","link":"#åˆ›å»ºå•†å“ç´¢å¼•","children":[]},{"level":3,"title":"æ‰¹é‡å¯¼å…¥æ•°æ®","slug":"æ‰¹é‡å¯¼å…¥æ•°æ®","link":"#æ‰¹é‡å¯¼å…¥æ•°æ®","children":[]},{"level":3,"title":"æœç´¢å•†å“","slug":"æœç´¢å•†å“","link":"#æœç´¢å•†å“","children":[]}]},{"level":2,"title":"ğŸ’¡ æœ€ä½³å®è·µ","slug":"ğŸ’¡-æœ€ä½³å®è·µ","link":"#ğŸ’¡-æœ€ä½³å®è·µ","children":[]},{"level":2,"title":"ğŸ¯ å°ç»“","slug":"ğŸ¯-å°ç»“","link":"#ğŸ¯-å°ç»“","children":[]}],"git":{"createdTime":1765249786000,"updatedTime":1765249786000,"contributors":[{"name":"CambridgeFoldingKnife","email":"3144253125@qq.com","commits":1}]},"filePathRelative":"tutorials/java-backend/elasticsearch/01-ElasticsearchåŸºç¡€å…¥é—¨.md"}');export{v as comp,b as data};
